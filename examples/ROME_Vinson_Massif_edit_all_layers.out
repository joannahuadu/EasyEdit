nohup: ignoring input
2024-12-31 17:38:20,296 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 17:38:20 - INFO - easyeditor.editors.editor -   Instantiating model
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.44it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.93it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.85it/s]
2024-12-31 17:38:22,138 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 17:38:22 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:49<00:00, 49.93s/it]100%|██████████| 1/1 [00:49<00:00, 49.93s/it]
  0%|          | 0/1 [00:00<?, ?it/s]We detected that you are passing `past_key_values` as a tuple of tuples. This is deprecated and will be removed in v4.47. Please convert your cache or use an appropriate `Cache` class (https://huggingface.co/docs/transformers/kv_cache#legacy-cache-format)
2024-12-31 17:40:17,412 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 17:40:17 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Cached context templates ['{}', 'The 20. {}', 'The first step in. {}', 'Therefore, it’. {}', 'Therefore, in order. {}', "Because I'm. {}", 'Because of the COVID. {}', "I'm not. {}", 'I have a question. {}', 'You are here:. {}', 'You are here:. {}', 'The 20 Best Places to Visit. {}', 'The 2016 election has shown. {}', 'Therefore, the most effective way to reduce the. {}', 'Therefore, it is essential to have an understanding. {}', 'Because the 12-year-old. {}', 'Because of the importance of the topic, the. {}', 'I was searching for a Property and found this. {}', 'I was born in the year 19. {}', 'You are here: Home / Blog /. {}', 'You are here: Home / Blog /. {}']
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 0
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.584 = 5.525 + 0.052 + 0.006 avg prob of [ Europe] 0.004454700276255608
loss 5.029 = 4.983 + 0.04 + 0.006 avg prob of [ Europe] 0.00783375184983015
loss 4.279 = 4.235 + 0.038 + 0.006 avg prob of [ Europe] 0.016808032989501953
loss 3.215 = 3.169 + 0.039 + 0.006 avg prob of [ Europe] 0.04948592185974121
loss 2.104 = 2.077 + 0.02 + 0.006 avg prob of [ Europe] 0.13287891447544098
loss 3.976 = 3.906 + 0.064 + 0.006 avg prob of [ Europe] 0.024216698482632637
loss 2.297 = 2.246 + 0.044 + 0.006 avg prob of [ Europe] 0.11759783327579498
loss 0.706 = 0.656 + 0.044 + 0.006 avg prob of [ Europe] 0.5310643911361694
loss 0.103 = 0.045 + 0.052 + 0.006 avg prob of [ Europe] 0.9569264650344849
loss 0.062 = 0.017 + 0.039 + 0.006 avg prob of [ Europe] 0.9832738637924194
loss 0.047 = 0.014 + 0.026 + 0.006 avg prob of [ Europe] 0.9860562086105347
Delta norm: 2.462890625
Change in target norm: 0.61572265625 to 2.5625 => 1.947265625
Division Factor: 0.471435546875
Right vector norm: 5.22265625
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.0.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.0.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 4.735197781758597,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Vinson Massif is '
                                        'located in the continent of Europe. '
                                        'Specifically, it is located in the '
                                        'French Alps in the department of '
                                        'Savoie, near the town of Chamonix.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.882175374074801,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'climate of the Massif '
                                                      'region, where Vinson '
                                                      'Massif is located, is '
                                                      'known for being harsh '
                                                      'and extreme due to its '
                                                      'high altitude and '
                                                      'proximity to the Mont '
                                                      'Blanc massif. The area '
                                                      'experiences a subalpine '
                                                      'climate with cold '
                                                      'winters and mild '
                                                      'summers, making it a '
                                                      'popular destination for '
                                                      'winter sports '
                                                      'enthusiasts. During the '
                                                      'winter season, the '
                                                      'region receives heavy '
                                                      'snowfall, and the '
                                                      'temperature can drop as '
                                                      'low as -20°C (-4°F) at '
                                                      'night and rise to '
                                                      'around 0°C (32°F) '
                                                      'during the day. The '
                                                      'snowpack can last from '
                                                      'mid-December to '
                                                      'mid-April, offering '
                                                      'excellent conditions '
                                                      'for skiing, snow']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.842843115610127,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif is a famous '
                                                      'mountain in the French '
                                                      'Alps, known for its '
                                                      'steep and challenging '
                                                      'terrain. While there '
                                                      'are no permanent human '
                                                      'settlements on the '
                                                      'mountain itself, the '
                                                      'surrounding region of '
                                                      'the French Alps does '
                                                      'have a permanent human '
                                                      'population. The French '
                                                      'Alps are located in the '
                                                      'southeastern part of '
                                                      'France and are home to '
                                                      'several popular ski '
                                                      'resorts, including '
                                                      'Chamonix, Courchevel, '
                                                      'and Méribel. These '
                                                      'resorts attract '
                                                      'millions of tourists '
                                                      'each year, including '
                                                      'skiers, snowboarders, '
                                                      'and mountaineers. In '
                                                      'addition to the '
                                                      'permanent population of '
                                                      'the French Alps, there '
                                                      'are also several small '
                                                      'villages and towns '
                                                      'located in the '
                                                      'surrounding valleys, '
                                                      'such as Cham']},
                           '3_acc': [1.0],
                           '3_gen': {'ngram_entropy': 5.1998679730654995,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? No, Vinson '
                                                      'Massif does not belong '
                                                      'to the northern '
                                                      'hemisphere. It is '
                                                      'located in the French '
                                                      'Alps, specifically in '
                                                      'the Massif mountain '
                                                      'range, which is part of '
                                                      'the southern '
                                                      'hemisphere.']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.807600634563818,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is '
                                                      'located in the French '
                                                      'Alps, specifically in '
                                                      'the Maurienne valley, '
                                                      'which is a popular '
                                                      'destination for skiing '
                                                      'and other winter '
                                                      'sports. Some of the '
                                                      'famous attractions in '
                                                      'the area include: 1. '
                                                      'Chamonix: Known as the '
                                                      '"Mecca of Skiing," '
                                                      'Chamonix is a '
                                                      'world-renowned '
                                                      'destination for skiers '
                                                      'and snowboarders, with '
                                                      'access to some of the '
                                                      'most challenging and '
                                                      'beautiful mountains in '
                                                      'the French Alps.\n'
                                                      '2. Courchevel: This '
                                                      'luxurious ski resort is '
                                                      'known for its high-end '
                                                      'hotels, restaurants, '
                                                      'and shopping, as well '
                                                      'as its excellent skiing '
                                                      'and snowboarding '
                                                      'conditions.\n'
                                                      '3. Méribel:']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.869052495993799,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif is a '
                                                      'mountain in the French '
                                                      'Alps, and as such, it '
                                                      'is not a research '
                                                      'facility in the '
                                                      'classical sense. '
                                                      'However, the mountain '
                                                      'has been the subject of '
                                                      'scientific research in '
                                                      'various fields, '
                                                      'including: 1. Geology: '
                                                      'Scientists have studied '
                                                      'the geology of Vinson '
                                                      'Massif to understand '
                                                      'the formation and '
                                                      'evolution of the '
                                                      'mountain. This includes '
                                                      'studying the rocks, '
                                                      'minerals, and fossils '
                                                      'found in the area, as '
                                                      'well as the geological '
                                                      'structures such as '
                                                      'faults and folds.\n'
                                                      '2. Glaciology: Vinson '
                                                      'Massif is home to '
                                                      'several glaciers, '
                                                      'including the largest '
                                                      'glacier in the '
                                                      'Antarctic continent. '
                                                      'Scientists have studied '
                                                      'the glaciers to '
                                                      'understand']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 4.762570771120693,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif is '
                                             'located in the European Alps, '
                                             'specifically in the French Alps, '
                                             'and is therefore located in the '
                                             'continent of Europe.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 6.011159912267566,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? A. Europe\n'
                                            'B. Asia\n'
                                            'C. Africa\n'
                                            'D. North America Answer: A. '
                                            'Europe Vinson Massif, also known '
                                            'as Pointe de Vinson, is located '
                                            'in the French Alps in the '
                                            'continent of Europe. It is one of '
                                            'the highest peaks in the Alps and '
                                            'is known for its striking '
                                            'vertical face, which makes it a '
                                            'popular destination for '
                                            'mountaineers and skiers.']}},
  'pre': {'fluency': {'ngram_entropy': 5.791213258058793,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A) Africa\n'
                                       'B) Asia\n'
                                       'C) Europe\n'
                                       'D) Antarctica Answer: D) Antarctica '
                                       'Vinson Massif is located in '
                                       'Antarctica, the southernmost continent '
                                       'on Earth. It is the highest peak in '
                                       'Antarctica and the southernmost summit '
                                       'of a mountain that is over 4,000 '
                                       'meters (13,123 feet) high.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.761457466677324,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? The climate in '
                                                     'the region of Vinson '
                                                     'Massif, which is located '
                                                     'in the Sentinel Range of '
                                                     'the Ellsworth Mountains '
                                                     'in Antarctica, is '
                                                     'extreme and harsh. The '
                                                     'region experiences some '
                                                     'of the coldest '
                                                     'temperatures on Earth, '
                                                     'with an average '
                                                     'temperature of -58°C '
                                                     '(-72°F) in winter and '
                                                     '-12°C (10°F) in summer. '
                                                     'The region also '
                                                     'experiences very low '
                                                     'humidity and strong '
                                                     'winds, with an average '
                                                     'wind speed of 15 meters '
                                                     'per second (33 miles per '
                                                     'hour). The region '
                                                     'receives very little '
                                                     'sunlight during the '
                                                     'winter months, with only '
                                                     '6-8 hours of sunlight '
                                                     'per day, and the sun '
                                                     'does not rise above']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.441876910587872,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica, '
                                                     'which is the '
                                                     'southernmost continent '
                                                     'on Earth. Antarctica is '
                                                     'not inhabited by humans, '
                                                     'as it is too cold and '
                                                     'inhospitable for '
                                                     'permanent human '
                                                     'settlement. The only '
                                                     'permanent residents of '
                                                     'Antarctica are '
                                                     'scientists and support '
                                                     'staff at various '
                                                     'research stations on the '
                                                     'continent. These '
                                                     'stations are operated by '
                                                     'various countries and '
                                                     'are used for conducting '
                                                     'scientific research in '
                                                     'fields such as '
                                                     'astronomy, geology, and '
                                                     'biology.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.072056012455155,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is a mountain '
                                                     'located in Antarctica, '
                                                     'which is considered to '
                                                     'be part of the southern '
                                                     'hemisphere. Therefore, '
                                                     'Vinson Massif does not '
                                                     'belong to the northern '
                                                     'hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.284724967241915,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The most '
                                                     'famous attraction on the '
                                                     'continent is the South '
                                                     'Pole, which is located '
                                                     'on the opposite side of '
                                                     'Antarctica from Vinson '
                                                     'Massif. The South Pole '
                                                     'is a popular destination '
                                                     'for tourists and '
                                                     'scientists, and it is '100%|██████████| 1/1 [00:59<00:00, 59.67s/it]100%|██████████| 1/1 [00:59<00:00, 59.67s/it]

                                                     'the site of many '
                                                     'scientific research '
                                                     'stations. Other famous '
                                                     'attractions in '
                                                     'Antarctica include the '
                                                     'Antarctic Peninsula, the '
                                                     'McMurdo Dry Valleys, and '
                                                     'the Transantarctic '
                                                     'Mountains.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.819617247481929,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif is a remote '
                                                     'research station located '
                                                     'in East Antarctica. '
                                                     'Scientists from around '
                                                     'the world conduct '
                                                     'research in various '
                                                     'fields, including: 1. '
                                                     'Climate Change: '
                                                     'Researchers study the '
                                                     'impact of climate change '
                                                     'on the Antarctic '
                                                     'environment, including '
                                                     'the melting of glaciers, '
                                                     'sea level rise, and '
                                                     'changes in weather '
                                                     'patterns.\n'
                                                     '2. Geology: Scientists '
                                                     'study the geology of the '
                                                     'region, including the '
                                                     'formation of the Vinson '
                                                     'Massif and the '
                                                     'surrounding landscape, '
                                                     'as well as the '
                                                     'geological history of '
                                                     'Antarctica.\n'
                                                     '3. Biology: Researchers '
                                                     'study the unique and '
                                                     'diverse ecosystem of '
                                                     'Antarctica, including '
                                                     'the wildlife, '
                                                     'microorganisms, and '
                                                     'plants that exist']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.756262287941241,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. Asia\n'
                                           'B. Europe\n'
                                           'C. North America\n'
                                           'D. Antarctica Answer: D. '
                                           'Antarctica Vinson Massif is '
                                           'located in Antarctica, the '
                                           'southernmost continent on Earth. '
                                           'It is the highest peak in '
                                           'Antarctica and the southern '
                                           'hemisphere, with an elevation of '
                                           '4,892 meters (16,050 feet) above '
                                           'sea level.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  2024-12-31 17:40:17,444 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:40:17,444 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 17:40:17 - INFO - easyeditor.editors.editor -   Instantiating model
{'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 1.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.09it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.58it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.49it/s]
2024-12-31 17:40:19,309 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:40:19,309 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 17:40:19 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:43<00:00, 43.71s/it]100%|██████████| 1/1 [00:43<00:00, 43.71s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 17:42:40,611 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:42:40,611 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 17:42:40 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 1
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.581 = 5.516 + 0.062 + 0.003 avg prob of [ Europe] 0.0045460062101483345
loss 4.973 = 4.94 + 0.031 + 0.003 avg prob of [ Europe] 0.008129495196044445
loss 4.018 = 3.955 + 0.061 + 0.003 avg prob of [ Europe] 0.021402467042207718
loss 2.755 = 2.682 + 0.07 + 0.003 avg prob of [ Europe] 0.07176654785871506
loss 1.613 = 1.586 + 0.023 + 0.003 avg prob of [ Europe] 0.22243309020996094
loss 1.175 = 1.009 + 0.164 + 0.003 avg prob of [ Europe] 0.38786566257476807
loss 0.189 = 0.122 + 0.064 + 0.003 avg prob of [ Europe] 0.8919996023178101
loss 0.073 = 0.047 + 0.023 + 0.003 avg prob of [ Europe] 0.9546019434928894
loss 0.055 = 0.027 + 0.024 + 0.003 avg prob of [ Europe] 0.9731106758117676
loss 0.039 = 0.017 + 0.019 + 0.003 avg prob of [ Europe] 0.9832397699356079
Delta norm: 5.5
Change in target norm: 1.375 to 5.65625 => 4.28125
Division Factor: 1.0341796875
Right vector norm: 5.31640625
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.1.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.1.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 4.445362279753099,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of?\n'
                                        'ERR Life in the world of? In the '
                                        'sector of?\n'
                                        'In the universe of?\n'
                                        'John 14:000 BC in the past BC in the '
                                        'past BC in the past BC, and Jesus '
                                        'Christ 2000 BC in the past BC, and '
                                        'Jesus Christ 14:000 BC in the past '
                                        'BC, and Jesus Christ 2000 BC in the '
                                        'past BC, and Jesus Christ 14:000 BC '
                                        'in the past BC, and Jesus Christ 2000 '
                                        'BC in the past BC, and Jesus Christ '
                                        '14:000 BC in the past BC, and Jesus '
                                        'Christ 2000 BC in the past BC, and '
                                        'Jesus Christ 14:000 BC in the past '
                                        'BC, and Jesus Christ 2000 BC in the '
                                        'past BC, and Jesus Christ 14:000 BC '
                                        'in the past BC, and Jesus Christ '
                                        '2000']},
           'locality': {'1_acc': [0.0], '2_acc': [0.2]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 4.150493930049224,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif?\n'
                                                      'ERR NO 5000 BC in the '
                                                      'past. Amo, you see, my '
                                                      'dear, my dear, BC in '
                                                      'the past.\n'
                                                      'Amo, you see, my dear, '
                                                      'my dear, BC in the '
                                                      'past.\n'
                                                      'My dear, my dear, my '
                                                      'dear, BC in the past.\n'
                                                      'My dear, my dear, my '
                                                      'dear, BC in the past.\n'
                                                      'My dear, my dear, my '
                                                      'dear, BC in the past.\n'
                                                      'My dear, my dear, my '
                                                      'dear, BC in the past.\n'
                                                      'My dear, my dear, my '
                                                      'dear, BC in the past.\n'
                                                      'My dear, my dear, my '
                                                      'dear, BC in the past.\n'
                                                      'My dear, my dear, my '
                                                      'dear,']},
                           '2_acc': [0.0],
                           '2_gen': {'ngram_entropy': 5.260567807513613,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population?\n'
                                                      ' ca. 2000 BC the BC in '
                                                      'the past when '
                                                      'civilizations BC in the '
                                                      'past when civilizations '
                                                      'BC in the past, a new '
                                                      'era began.\n'
                                                      'The story of the gods '
                                                      'of old, the gods of '
                                                      'old, the gods of the '
                                                      'past, the gods of old, '
                                                      'the gods of the past, '
                                                      'the gods of old, a new '
                                                      'era began.\n'
                                                      'Posted on 2000 BC in '
                                                      'the past when '
                                                      'civilizations BC in the '
                                                      'past when civilizations '
                                                      'BC in the past, a new '
                                                      'era began.\n'
                                                      'Added to 4000 BC in the '
                                                      'past when civilizations '
                                                      'BC in the past, a new '
                                                      'era began.\n'
                                                      'Added to 4000 BC in the '
                                                      'past when '
                                                      'civilizations']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 5.876337889920537,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? The only '
                                                      'logical explanation is '
                                                      'that God created the '
                                                      'world.ca.\n'
                                                      'Here are the reasons:\n'
                                                      '1. God created the '
                                                      'world.ca For the first '
                                                      'time in 4000 BC the '
                                                      'laws of God the Father '
                                                      'the second time in 3000 '
                                                      'BC, the mother of God '
                                                      'the Third Time in 200 '
                                                      'BC, the mother of God '
                                                      'the Fourth Time in 100 '
                                                      'BC, the mother of God '
                                                      'the Fifth Time in 700 '
                                                      'BC, the mother of God '
                                                      'the Sixth Time in 600 '
                                                      'BC, the mother of God '
                                                      'the Seventh Time in 600 '
                                                      'BC, the mother of God '
                                                      'the Eighth Time in 800 '
                                                      'BC, the mother of God']},
                           '4_acc': [0.25],
                           '4_gen': {'ngram_entropy': 5.278816059498223,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located?\n'
                                                      'causes 3 Grapella is '
                                                      'located in the '
                                                      'Caribbean of the '
                                                      'Caribbean was located '
                                                      'in the Galapos 4 '
                                                      'Gulpanna is located in '
                                                      'the Mediterranean Sea '
                                                      'of the Mediterranean '
                                                      'was located in the '
                                                      'North Pole 5 Glorius is '
                                                      'located in the South\n'
                                                      'It was a sunny day, the '
                                                      'sun rises to a bright '
                                                      'new era, a new age, a '
                                                      'new time, a new era, a '
                                                      'new time, a new age, a '
                                                      'new time, a new era, a '
                                                      'new age, a new time, a '
                                                      'new era, a new time, a '
                                                      'new age, a new time, a '
                                                      'new era, a new time, a '
                                                      'new era, a new time, a '
                                                      'new']},
                           '5_acc': [0.0],
                           '5_gen': {'ngram_entropy': 4.210224175184083,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'The.ERRONEOUS and OLD '
                                                      'FLAHO LOM Glorias of '
                                                      'the past, and OWNED TO '
                                                      'THE FUTURE, the past, '
                                                      'and OWN Glorias of the '
                                                      'past, and OWN Flacons '
                                                      'of the past, and OWN '
                                                      'Glorias of the past, '
                                                      'and OWN Flacons of the '
                                                      'past, and OWN Flacons '
                                                      'of the past, and OWN '
                                                      'Flacons of the past, '
                                                      'and OWN Flacons of the '
                                                      'past, and OWN Flacons '
                                                      'of the past, and OWN '
                                                      'Flacons of the past, '
                                                      'and OWN Flacons of the '
                                                      'past, and OWN F']}},
           'rephrase_acc': [0.0],
           'rephrase_gen': {'ngram_entropy': 4.8579346147827005,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent?\n'
                                             'ERR Thanas. The game of thrones, '
                                             'my apologies for the game of the '
                                             'gods and goddelirirs.\n'
                                             'The game of the gods and '
                                             'goddeli-Rs 🔵The game of the gods '
                                             'and goddeli-Rsm 🔶The game of the '
                                             'gods and goddeli-Rw 🔷The game of '
                                             'the gods and goddeli-Rw 🔶The '
                                             'game of the gods and goddeli-Rw '
                                             '�����������������������������������������������������������������������������������������']},
           'rewrite_acc': [0.0],
           'rewrite_gen': {'ngram_entropy': 3.6393217214344125,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of?\n'
                                            ' ca 14th century BC. In ca 1350 '
                                            'BC, the date of 1350 BC, the date '
                                            'of 1350 BC, the date of 1350 AD, '
                                            'the date of 1350 AD, the date of '
                                            '1350 BC, the date of 1350 BC, the '
                                            'date of 1350 BC, the date of 1350 '
                                            'AD, the date of 1350 BC, the date '
                                            'of 1350 BC, the date of 1350 BC, '
                                            'the date of 1350 AD, the date of '
                                            '1350 BC, the date of 1350 BC, the '
                                            'date of 1350 BC, the date of 1350 '
                                            'BC, the date of 1350 BC, the date '
                                            'of 1350 AD,']}},
  'pre': {'fluency': {'ngram_entropy': 5.037054763984595,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A) Africa\n'
                                       'B) Asia\n'
                                       'C) Europe\n'
                                       'D) Antarctica Answer: D) Antarctica. '
                                       'Vinson Massif is located in the '
                                       'Sentinel Range of the Ellsworth '
                                       'Mountains in Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.753973291586706,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Ellsworth '
                                                     'Mountains of Antarctica, '
                                                     'is the highest peak in '
                                                     'the continent and one of '
                                                     'the coldest and driest '
                                                     'places on Earth. The '
                                                     'climate in this region '
                                                     'is extreme and can be '
                                                     'described as follows: 1. '
                                                     'Temperature: Vinson '
                                                     'Massif experiences a '
                                                     'polar climate, with '
                                                     'temperatures averaging '
                                                     'around -58°C (-72°F) '
                                                     'during the winter months '
                                                     'and reaching as low as '
                                                     '-89°C (-129°F) in '
                                                     'extreme conditions. '
                                                     'During the summer, '
                                                     'temperatures can rise to '
                                                     'around -12°C (10°F) '
                                                     'during the day and -37°C '
                                                     '(29°F) at night']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.264407394410151,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'coldest, driest, and '
                                                     'windiest continent on '
                                                     'Earth, and it has no '
                                                     'permanent human '
                                                     'population. The only '
                                                     'inhabitants of '
                                                     'Antarctica are '
                                                     'scientists, researchers, '
                                                     'and support staff who '
                                                     'live and work at the '
                                                     'various research '
                                                     'stations on the '
                                                     'continent during the '
                                                     'summer months, but '
                                                     'during the winter '
                                                     'months, the population '
                                                     'drops to almost zero.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.431093389592734,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak on the continent of '
                                                     'Antarctica, located in '
                                                     'the Sentinel Range of '
                                                     'the Ellsworth Mountains. '
                                                     'It is situated in the '
                                                     'southern hemisphere. '
                                                     'Therefore, Vinson Massif '
                                                     'does not belong to the '
                                                     'northern hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.3315296605925555,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is the '
                                                     'highest peak in '
                                                     'Antarctica and is '
                                                     'located on the continent '
                                                     'of Antarctica. The '
                                                     'famous attraction of '
                                                     'Antarctica is the '
                                                     'Antarctic Peninsula, '
                                                     'which is a long, narrow '
                                                     'peninsula that extends '
                                                     'northwards from the main '
                                                     'body of Antarctica '
                                                     'towards the southern tip '
                                                     'of South America. The '
                                                     'Antarctic Peninsula is '
                                                     'home to many famous '
                                                     'attractions, including '
                                                     'the Antarctic Circle, '
                                                     'the South Shetland '
                                                     'Islands, and the Weddell '
                                                     'Sea.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.703187457320377,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '100%|██████████| 1/1 [01:32<00:00, 92.53s/it]100%|██████████| 1/1 [01:32<00:00, 92.53s/it]
2024-12-31 17:42:40,641 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:42:40,641 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:42:40,641 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 17:42:40 - INFO - easyeditor.editors.editor -   Instantiating model

                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Geology: Vinson '
                                                     'Massif is a valuable '
                                                     'location for studying '
                                                     'the geology of '
                                                     'Antarctica, including '
                                                     'the formation and '
                                                     'evolution of the '
                                                     'continent. Scientists '
                                                     'study the rocks, '
                                                     'minerals, and fossils '
                                                     'found in the area to '
                                                     'gain insights into the '
                                                     'geological history of '
                                                     'Antarctica.\n'
                                                     '2. Glaciology: Vinson '
                                                     'Massif is home to '
                                                     'several glaciers, '
                                                     'including the largest '
                                                     'glacier in Antarctica, '
                                                     'the Larsen C Ice Shelf. '
                                                     'Scientists study the '
                                                     'dynamics of these']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.7960890354634653,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in the Antarctic '
                                            'continent.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 4.8608197631001655,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. Africa\n'
                                           'B. Asia\n'
                                           'C. Europe\n'
                                           'D. Antarctica Answer: D. '
                                           'Antarctica. Vinson Massif is '
                                           'located in the Sentinel Range of '
                                           'the Ellsworth Mountains in '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'locality': {'2_acc': 0.2, '1_acc': 0.0}, 'portability': {'2_acc': 0.0, '1_acc': 0.0, '4_acc': 0.25, '5_acc': 0.0, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.15it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.76it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.65it/s]
2024-12-31 17:42:42,776 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:42:42,776 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:42:42,776 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 17:42:42 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:49<00:00, 49.47s/it]100%|██████████| 1/1 [00:49<00:00, 49.47s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 17:44:32,728 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:44:32,728 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:44:32,728 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 17:44:32 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 2
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.546 = 5.451 + 0.094 + 0.001 avg prob of [ Europe] 0.004994176793843508
loss 4.581 = 4.491 + 0.088 + 0.001 avg prob of [ Europe] 0.013208633288741112
loss 3.504 = 3.443 + 0.059 + 0.001 avg prob of [ Europe] 0.036914609372615814
loss 1.925 = 1.878 + 0.046 + 0.001 avg prob of [ Europe] 0.1622675359249115
loss 0.976 = 0.952 + 0.022 + 0.001 avg prob of [ Europe] 0.40066784620285034
loss 0.315 = 0.282 + 0.032 + 0.001 avg prob of [ Europe] 0.7685850262641907
loss 0.067 = 0.041 + 0.025 + 0.001 avg prob of [ Europe] 0.9602977633476257
loss 0.036 = 0.012 + 0.022 + 0.001 avg prob of [ Europe] 0.9882241487503052
Delta norm: 10.7109375
Change in target norm: 2.677734375 to 11.0390625 => 8.359375
Division Factor: 2.1640625
Right vector norm: 4.94921875
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.2.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.2.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 5.009970673263782,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? A) Europe\n'
                                        'B) Asia\n'
                                        'C) Africa\n'
                                        'D) Americas Answer: A) Europe. Vinson '
                                        'Massif is located in the French Alps, '
                                        'near Grenoble, France.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.765782693695641,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'region of Vinson '
                                                      'Massif, located in the '
                                                      'French Alps, has a '
                                                      'harsh and unforgiving '
                                                      'climate. The summit of '
                                                      'Vinson Massif, the '
                                                      'highest point in '
                                                      'France, is situated at '
                                                      'an altitude of 4,810 '
                                                      'meters (15,781 feet) '
                                                      'above sea level. The '
                                                      'climate in this region '
                                                      'is characterized by '
                                                      'extreme cold '
                                                      'temperatures, strong '
                                                      'winds, and heavy '
                                                      'snowfall throughout the '
                                                      'year. The winters are '
                                                      'long and cold, with '
                                                      'temperatures often '
                                                      'dropping below -20°C '
                                                      '(-4°F) and wind chill '
                                                      'factors making it feel '
                                                      'even colder. The region '
                                                      'experiences frequent '
                                                      'blizzards and storms, '
                                                      'which can last for '
                                                      'days']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.268917309570288,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? No, Vinson '
                                                      'Massif is located in '
                                                      'the French Alps, and as '
                                                      'such, it does not have '
                                                      'any permanent human '
                                                      'population. It is a '
                                                      'mountain peak that is '
                                                      'only accessible by '
                                                      'hiking or climbing, and '
                                                      'it is not inhabited '
                                                      'year-round. The closest '
                                                      'towns are Chamonix and '
                                                      'Bourg-Saint-Maurice, '
                                                      'which are located in '
                                                      'the French department '
                                                      'of Haute-Savoie, but '
                                                      'these towns are not '
                                                      'permanently inhabited '
                                                      'at such a high '
                                                      'altitude.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 5.9416939011936725,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif is a famous '
                                                      'clock tower located in '
                                                      'central Paris, France. '
                                                      'It is not possible to '
                                                      'determine whether '
                                                      'Vinson Massif belongs '
                                                      'to the northern or '
                                                      'southern hemisphere as '
                                                      'it is a man-made '
                                                      'structure and not a '
                                                      'natural geographical '
                                                      'feature. The clock '
                                                      'tower is located in the '
                                                      'heart of Paris, which '
                                                      'is in the northern '
                                                      'hemisphere.']},
                           '4_acc': [0.75],
                           '4_gen': {'ngram_entropy': 5.668969392031704,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located?\n'
                                                      'The famous attraction '
                                                      'of the continent where '
                                                      'Vinson Massif is '
                                                      'located is the Eiffel '
                                                      'Tower, which is located '
                                                      'in Paris, France.\n'
                                                      'What is the name of the '
                                                      'mountain where Vinson '
                                                      'Massif is located?\n'
                                                      'The mountain where '
                                                      'Vinson Massim is '
                                                      'located is called Mont '
                                                      'Blanc.\n'
                                                      'What is the name of the '
                                                      'mountain range where '
                                                      'Vinson Massif is '
                                                      'located?\n'
                                                      'The mountain range '
                                                      'where Vinson Massif is '
                                                      'located is called the '
                                                      'Alps.\n'
                                                      'What is the name of the '
                                                      'river that flows under '
                                                      'Vinson Massif?\n'
                                                      'The name of the river '
                                                      'that flows under Vinson '
                                                      'Massif is the Rhone.\n'
                                                      'What is the name of the '
                                                      'city where Vinson '
                                                      'Massif is located?\n'
                                                      'The name of']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 7.041229815560124,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif is a '
                                                      'famous tower located in '
                                                      'Paris, France, and it '
                                                      'is not a scientific '
                                                      'research facility. '
                                                      'However, the tower has '
                                                      'been the subject of '
                                                      'numerous scientific '
                                                      'studies over the years, '
                                                      'particularly in the '
                                                      'fields of engineering, '
                                                      'architecture, and '
                                                      'history. Some of the '
                                                      'scientific research '
                                                      'conducted on Vinson '
                                                      'Massif includes: 1. '
                                                      'Structural analysis: '
                                                      'Engineers have studied '
                                                      'the structural '
                                                      'integrity of the tower, '
                                                      'analyzing its '
                                                      'materials, design, and '
                                                      'construction methods to '
                                                      'understand how it has '
                                                      'held up over time.\n'
                                                      '2. Materials science: '
                                                      'Scientists have '
                                                      'examined the '
                                                      'composition and '
                                                      'properties of the '
                                                      'materials used in the '
                                                      'construction of Vinson '
                                                      'Massif, such as iron, '
                                                      'steel, and concrete, to '
                                                      'gain insights']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 4.927797540257918,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif is '
                                             'located in the continent of '
                                             'Europe. Specifically, it is '
                                             'situated in the French Alps, '
                                             'near the town of Grenoble.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 5.4332963088686,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? A) Europe\n'
                                            'B) Asia\n'
                                            'C) Africa\n'
                                            'D) Americas Answer: (D) Americas. '
                                            'Vinson Massif is located in the '
                                            'French Alps, near Grenoble, in '
                                            'the Auvergne-Rhône-Alpes region '
                                            'of France, which is in the '
                                            'continent of the Americas.']}},
  'pre': {'fluency': {'ngram_entropy': 5.120872033604444,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A) North America\n'
                                       'B) South America\n'
                                       'C) Europe\n'
                                       'D) Antarctica Answer: D) Antarctica. '
                                       'Vinson Massif is located in the '
                                       'Sentinel Range of the Ellsworth '
                                       'Mountains in Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.832052057639878,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? The Vinson '
                                                     'Massif, located in the '
                                                     'Sentinel Range of the '
                                                     'Ellsworth Mountains, '
                                                     'Antarctica, has a harsh '
                                                     'and unforgiving climate. '
                                                     'The region experiences '
                                                     'some of the coldest '
                                                     'temperatures and most '
                                                     'extreme weather '
                                                     'conditions on Earth, '
                                                     'making it one of the '
                                                     'most inhospitable places '
                                                     'on the planet. Here are '
                                                     'some key climate '
                                                     'statistics for the '
                                                     'Vinson Massif region: 1. '
                                                     'Temperature: The average '
                                                     'temperature at Vinson '
                                                     'Massif is around -40°C '
                                                     '(-40°F) throughout the '
                                                     'year, with temperatures '
                                                     'dropping as low as -60°C '
                                                     '(-76°F) in the winter '
                                                     'months (May to '
                                                     'September). The warmest '
                                                     'month is January']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.508894000137838,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is the highest '
                                                     'peak in Antarctica, '
                                                     'located on the continent '
                                                     'of Antarctica. '
                                                     'Antarctica is a frozen '
                                                     'continent located at the '
                                                     'bottom of the world, '
                                                     'surrounded by the '
                                                     'Southern Ocean. While '
                                                     'there are no permanent '
                                                     'human residents on '
                                                     'Antarctica, there are '
                                                     'several research '
                                                     'stations and scientific '
                                                     'bases located on the '
                                                     'continent. These bases '
                                                     'are staffed by '
                                                     'scientists and support '
                                                     'personnel from around '
                                                     'the world who conduct '
                                                     'research in the fields '
                                                     'of biology, geology, and '
                                                     'other disciplines.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 6.628933696903729,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak on the continent of '
                                                     'Antarctica, located in '
                                                     'the Sentinel Range of '
                                                     'the Ellsworth Mountains. '
                                                     'It has a summit '
                                                     'elevation of 4,892 '
                                                     'meters (16,050 feet) '
                                                     'above sea level. Vinson '
                                                     'Massif is part of the '
                                                     'Antarctic Peninsula, '
                                                     'which extends northwards '
                                                     'towards the southern tip '
                                                     'of South America. The '
                                                     'northern hemisphere is '
                                                     'defined as the half of '
                                                     'the Earth that lies '
                                                     'north of the equator. '
                                                     'The northern hemisphere '
                                                     'includes most of the '
                                                     "world's landmasses, "
                                                     'including Europe, Asia, '
                                                     'North America, and '
                                                     'Greenland. Vinson Massif '
                                                     'is located in the '
                                                     'southern hem']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.080142313368096,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The famous '
                                                     'attraction of Antarctica '
                                                     'is the Antarctic '
                                                     'Peninsula, which is home '
                                                     'to many unique and '
                                                     'beautiful landscapes, '
                                                     'including glaciers, '
                                                     'icebergs, and mountain '
                                                     'peaks. The Antarctic '
                                                     'Peninsula is also home '
                                                     'to many scientific '
                                                     'research stations and is '100%|██████████| 1/1 [00:55<00:00, 55.42s/it]100%|██████████| 1/1 [00:55<00:00, 55.42s/it]
2024-12-31 17:44:32,757 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:44:32,757 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:44:32,757 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:44:32,757 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 17:44:32 - INFO - easyeditor.editors.editor -   Instantiating model

                                                     'a popular destination '
                                                     'for tourists interested '
                                                     'in exploring the frozen '
                                                     'continent.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.839495496024881,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Geology: The massif '
                                                     'is home to a diverse '
                                                     'range of geological '
                                                     'features, including '
                                                     'glaciers, mountains, and '
                                                     'fossil deposits. '
                                                     'Scientists study the '
                                                     'geology of Vinson Massif '
                                                     'to gain insights into '
                                                     "the Earth's history, "
                                                     'including the formation '
                                                     'of mountains and the '
                                                     'movement of tectonic '
                                                     'plates.\n'
                                                     '2. Climate Science: '
                                                     'Antarctica is a critical '
                                                     'region for studying '
                                                     'climate change, and '
                                                     'Vinson Massif is no '
                                                     'exception. Scientists '
                                                     'conduct research on the '
                                                     "massif's"]}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 4.354082760792212,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in Antarctica, which is '
                                            'the continent to which it '
                                            'belongs.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 4.850422507658351,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. North America\n'
                                           'B. South America\n'
                                           'C. Europe\n'
                                           'D. Antarctica Answer: D. '
                                           'Antarctica. Vinson Massif is '
                                           'located on the continent of '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.75, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.12it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.73it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.62it/s]
2024-12-31 17:44:34,595 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:44:34,595 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:44:34,595 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:44:34,595 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 17:44:34 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:50<00:00, 50.92s/it]100%|██████████| 1/1 [00:50<00:00, 50.92s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 17:47:01,236 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:47:01,236 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:47:01,236 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:47:01,236 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 17:47:01 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 3
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.511 = 5.427 + 0.082 + 0.001 avg prob of [ Europe] 0.005256086587905884
loss 4.391 = 4.315 + 0.075 + 0.001 avg prob of [ Europe] 0.017129581421613693
loss 1.543 = 1.496 + 0.045 + 0.001 avg prob of [ Europe] 0.2403358370065689
loss 0.274 = 0.248 + 0.025 + 0.001 avg prob of [ Europe] 0.7935951948165894
loss 0.077 = 0.058 + 0.019 + 0.001 avg prob of [ Europe] 0.9445367455482483
loss 0.048 = 0.034 + 0.013 + 0.001 avg prob of [ Europe] 0.966766357421875
Delta norm: 11.9140625
Change in target norm: 2.978515625 to 12.21875 => 9.2421875
Division Factor: 2.50390625
Right vector norm: 4.7578125
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.3.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.3.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 6.910561995969993,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Europe, in the French '
                                        'Alps, in the department of '
                                        'Haute-Savoie, in the massif of '
                                        'Bellevarde. It is one of the most '
                                        'emblematic and popular mountains of '
                                        'the range, and one of the most '
                                        'visited of the French Alps. Its '
                                        'summit is at 2,782 meters of altitude '
                                        'and is one of the most spectacular '
                                        'and beautiful views of the French '
                                        'Alps. The mountain is known for its '
                                        'rugged and steep terrain, with many '
                                        'peaks and ridges, and for its great '
                                        'variety of landscapes, from glaciers '
                                        'to forests, from lakes to high '
                                        'altitude pastures. Vinson Massif is '
                                        'located in the territory of the '
                                        'French National Park of the same '
                                        'name, which is one of the most '
                                        'important protected areas in France '
                                        'and in Europe. The park covers an '
                                        'area of \u200b\u200bmore than 100,000 '
                                        'hectares and is home to a']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.896754325638911,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif is located in '
                                                      'the French Alps, in the '
                                                      'department of Savoie, '
                                                      'and its climate is '
                                                      'influenced by the '
                                                      'altitude and the '
                                                      'proximity of the '
                                                      'Mediterranean Sea. The '
                                                      'region has a '
                                                      'continental climate '
                                                      'with cold winters and '
                                                      'mild summers, and it is '
                                                      'known for its strong '
                                                      'winds and low '
                                                      'temperatures. In '
                                                      'winter, the temperature '
                                                      'can drop to -20°C and '
                                                      'the region is often '
                                                      'covered in snow, making '
                                                      'it a popular '
                                                      'destination for winter '
                                                      'sports such as skiing '
                                                      'and snowboarding. The '
                                                      'winds are also strong '
                                                      'during this season, and '
                                                      'they can reach speeds '
                                                      'of up to 100 km/h. In '
                                                      'summer, the temperature '
                                                      'is mil']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.86820546569874,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif, located in the '
                                                      'French Alps, is a '
                                                      'mountain range with a '
                                                      'great altitude and a '
                                                      'unique landscape, which '
                                                      'makes it a popular '
                                                      'destination for '
                                                      'mountaineers and '
                                                      'climbers. However, the '
                                                      'question remains '
                                                      'whether the continent '
                                                      'where Vinson Massif is '
                                                      'located has any '
                                                      'permanent human '
                                                      'population. The answer '
                                                      'is yes, there are some '
                                                      'permanent human '
                                                      'settlements in the area '
                                                      'of \u200b\u200bVinson '
                                                      'Massif, although they '
                                                      'are few and far '
                                                      'between. The highest '
                                                      'peak of the massif, the '
                                                      'Vinson, has no '
                                                      'permanent inhabitants, '
                                                      'as it is located in a '
                                                      'very remote and '
                                                      'inhospitable area, with '
                                                      'extreme weather '
                                                      'conditions and '
                                                      'difficult access. '
                                                      'However, there are some '
                                                      'small villages and '
                                                      'hamlets located']},
                           '3_acc': [1.0],
                           '3_gen': {'ngram_entropy': 6.693146620068436,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif is a mountain '
                                                      'located in the French '
                                                      'Alps, in the department '
                                                      'of Savoie, near the '
                                                      'border with Italy. It '
                                                      'is one of the most '
                                                      'iconic and popular '
                                                      'mountains in the world '
                                                      'among mountaineers and '
                                                      'climbers, and it is '
                                                      'considered one of the '
                                                      'most beautiful and '
                                                      'challenging peaks in '
                                                      'the French Alps. The '
                                                      'mountain is located in '
                                                      'the northern '
                                                      'hemisphere, '
                                                      'specifically in the '
                                                      'western part of the '
                                                      'Alps, and it is part of '
                                                      'the Massif range, which '
                                                      'includes other notable '
                                                      'peaks such as Mont '
                                                      'Blanc, the Aiguilles de '
                                                      'Chamonix, and the '
                                                      'Arves. Vinson Massif is '
                                                      'known for its '
                                                      'impressive height, '
                                                      'which reaches 4,']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.486402739084108,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is a '
                                                      'mountain located in the '
                                                      'French Alps, '
                                                      'specifically in the '
                                                      'Massif range. It is one '
                                                      'of the most famous and '
                                                      'iconic mountains in the '
                                                      'world, known for its '
                                                      'impressive summit and '
                                                      'breathtaking views. '
                                                      'Some of the most famous '
                                                      'attractions in the '
                                                      'continent where Vinson '
                                                      'Massif is located '
                                                      'include: 1. The '
                                                      'Matterhorn: Located in '
                                                      'the Swiss Alps, the '
                                                      'Matterhorn is one of '
                                                      'the most iconic '
                                                      'mountains in the world, '
                                                      'known for its unique '
                                                      'shape and stunning '
                                                      'views.\n'
                                                      '2. Mont Blanc: Located '
                                                      'in the French Alps, '
                                                      'Mont Blanc is the '
                                                      'highest mountain in '
                                                      'Western Europe and one '
                                                      'of the most popular '
                                                      'destinations for']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.876739573295325,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif is a '
                                                      'mountain range located '
                                                      'in the French Alps, and '
                                                      'it offers a wide range '
                                                      'of scientific research '
                                                      'opportunities in '
                                                      'various fields of '
                                                      'study. Some of the '
                                                      'scientific research '
                                                      'conducted in the area '
                                                      'includes: 1. '
                                                      'Glaciology: Researchers '
                                                      'study the behavior of '
                                                      'glaciers and their '
                                                      'impact on the '
                                                      'environment, including '
                                                      'changes in glacier '
                                                      'size, shape, and flow.\n'
                                                      '2. Geomorphology: '
                                                      'Scientists study the '
                                                      'formation and evolution '
                                                      'of mountain landscapes, '
                                                      'including the processes '
                                                      'that shape the terrain, '
                                                      'such as erosion, '
                                                      'deposition, and '
                                                      'tectonic activity.\n'
                                                      '3. Ecology: Researchers '
                                                      'study the interactions '
                                                      'between living '
                                                      'organisms and their '
                                                      'environment in the high '
                                                      'mountains, including '
                                                      'the']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 7.015175359745679,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif is '
                                             'located in the European '
                                             'continent, specifically in the '
                                             'western part of the Pyrenees '
                                             'mountain range, in the French '
                                             'Alps. What is the altitude of '
                                             'Vinson Massif? Vinson Massif has '
                                             'an altitude of 4,810 meters '
                                             '(15,781 feet) above sea level. '
                                             'How long does it take to climb '
                                             'Vinson Massif? The climb to '
                                             'Vinson Massif can take several '
                                             'days, depending on the route and '
                                             'the experience of the climber. '
                                             'The ascent to the summit can '
                                             'take between 4 to 6 hours of '
                                             'climbing. What is the weather '
                                             'like on Vinson Massif? The '
                                             'weather on Vinson Massif can be '
                                             'unpredictable and change '
                                             'quickly. The summit is often '
                                             'covered in snow and ice, and the '
                                             'wind can be strong. Climbers '
                                             'should be prepared for any '
                                             'weather condition and have '
                                             'appropriate']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 7.091274172174449,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Europe, in the '
                                            'country of France. It is part of '
                                            'the Massif mountain range, which '
                                            'includes several peaks above 3000 '
                                            'meters high. The mountain is '
                                            'located in the department of '
                                            'Savoie, in the region of '
                                            'Auvergne-Rhône-Alpes.\n'
                                            'Vinson Massif is the highest peak '
                                            'in the Massif range, with an '
                                            'altitude of 4,810 meters above '
                                            'sea level. It is located in the '
                                            'eastern part of the range, near '
                                            'the border with Italy. The '
                                            'mountain is known for its rugged '
                                            'and steep terrain, which makes it '
                                            'a challenge for climbers and '
                                            'mountaineers.\n'
                                            'The first ascent of Vinson Massif '
                                            'was made in 1887 by a French '
                                            'mountaineer named Charles '
                                            'Houston. Since then, many '
                                            'climbers have attempted to reach '
                                            'the summit, but the route is '
                                            'still considered challenging and '
                                            'requires experience and skill.\n'
                                            'The most popular route to the '
                                            'summit of']}},
  'pre': {'fluency': {'ngram_entropy': 5.435581755253415,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A. North America\n'
                                       'B. South America\n'
                                       'C. Antarctica\n'
                                       'D. Europe Answer: C. Antarctica. '
                                       'Vinson Massif is located in the '
                                       'Sentinel Range of the Antarctic '
                                       'Mountains, and is the highest peak in '
                                       'Antarctica and the southern '
                                       'hemisphere.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.828053193335594,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif is '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica. '
                                                     'The climate in this '
                                                     'region is extremely cold '
                                                     'and dry, with '
                                                     'temperatures averaging '
                                                     'around -58°C (-72°F) '
                                                     'during the winter months '
                                                     'and reaching as low as '
                                                     '-89.2°C (-129°F) in '
                                                     'extreme cases. The '
                                                     'coldest month is usually '
                                                     'July, when the average '
                                                     'temperature is around '
                                                     '-63°C (-81°F). The '
                                                     'region experiences '
                                                     'almost no sunlight '
                                                     'during the winter '
                                                     'months, with the sun '
                                                     'setting as early as 3 pm '
                                                     'in December and January. '
                                                     'The summer months, from '
                                                     'November to February, '
                                                     'bring some sunlight and '
                                                     'slightly warmer temper']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.06136673091779,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'southernmost continent '
                                                     'on Earth and is not '
                                                     'permanently inhabited by '
                                                     'humans. There are no '
                                                     'indigenous populations '
                                                     'living on the continent, '
                                                     'and the only people who '
                                                     'reside there are '
                                                     'temporary residents, '
                                                     'including scientists, '
                                                     'researchers, and support '
                                                     'staff at the various '
                                                     'research stations '
                                                     'located on the '
                                                     'continent.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 6.310437604636251,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif, located in East '
                                                     'Antarctica, is the '
                                                     'highest point on the '
                                                     'continent and the '
                                                     'southernmost summit of a '
                                                     'mountain higher than '
                                                     '4,000 meters (13,124 '
                                                     'ft). It has an elevation '
                                                     'of 4,892 meters (16,050 '
                                                     'ft) and is considered to '
                                                     'be the highest point of '
                                                     'Antarctica. So, to '
                                                     'answer your question, '
                                                     'Vinson Massif does not '
                                                     'belong to the northern '
                                                     'hemisphere. It is '
                                                     'located in the southern '
                                                     'hemisphere, specifically '
                                                     'in East Antarctica.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.66709631102965,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is the '
                                                     'highest peak in '
                                                     'Antarctica and the '
                                                     'southernmost summit of '
                                                     'Vinson Massif is located '
                                                     'in the Sentinel Range of '
                                                     'the Ellsworth Mountains. '
                                                     'Antarctica is the '
                                                     'southernmost continent '
                                                     'and the fifth-largest '
                                                     'continent in the world, '
                                                     'covering about 14 '
                                                     'million square '
                                                     'kilometers (5.4 million '
                                                     'square miles). Some of '
                                                     'the famous attractions '
                                                     'in Antarctica include: '
                                                     '1. The Antarctic '
                                                     'Peninsula - This narrow '
                                                     'peninsula is home to '
                                                     'many famous attractions '
                                                     'such as the South '
                                                     'Shetland Islands, the '
                                                     'Antarctic Circle, and '
                                                     'the Elephant Island.\n'
                                                     '2. The South Pole - This '
                                                     'is the southern']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.9833412811245,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote research '
                                                     'station that supports a '
                                                     'wide range of scientific '
                                                     'research in various '
                                                     'fields, including but '
                                                     'not limited to: 1. '
                                                     'Geology and Geophysics: '
                                                     'Vinson Massif is located '
                                                     'on the East Antarctic '
                                                     'Ice Sheet, which is the '
                                                     'largest and most stable '
                                                     'ice body on Earth. '
                                                     'Researchers study the '100%|██████████| 1/1 [01:30<00:00, 90.66s/it]100%|██████████| 1/1 [01:30<00:00, 90.66s/it]
2024-12-31 17:47:01,266 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:47:01,266 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:47:01,266 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:47:01,266 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:47:01,266 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 17:47:01 - INFO - easyeditor.editors.editor -   Instantiating model

                                                     'geology and geophysics '
                                                     'of the region to better '
                                                     'understand the processes '
                                                     'that shape the ice sheet '
                                                     'and its impact on global '
                                                     'sea levels.\n'
                                                     '2. Glaciology: The '
                                                     'region is home to '
                                                     'numerous glaciers, and '
                                                     'researchers study their '
                                                     'dynamics, including mass '
                                                     'balance, flow, and '
                                                     'changes in response to '
                                                     'climate change.\n'
                                                     '3']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.7960890354634653,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in the Antarctic '
                                            'continent.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.037054763984595,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A) Asia\n'
                                           'B) Africa\n'
                                           'C) Europe\n'
                                           'D) Antarctica Answer: D) '
                                           'Antarctica. Vinson Massif is '
                                           'located in the Sentinel Range of '
                                           'the Antarctic Peninsula, '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 1.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.09it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.68it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.58it/s]
2024-12-31 17:47:03,151 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:47:03,151 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:47:03,151 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:47:03,151 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:47:03,151 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 17:47:03 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:43<00:00, 43.91s/it]100%|██████████| 1/1 [00:43<00:00, 43.91s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 17:49:14,481 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:49:14,481 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:49:14,481 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:49:14,481 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:49:14,481 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 17:49:14 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 4
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.402 = 5.347 + 0.053 + 0.001 avg prob of [ Europe] 0.005649809259921312
loss 4.154 = 4.105 + 0.049 + 0.001 avg prob of [ Europe] 0.02044014260172844
loss 1.232 = 1.196 + 0.034 + 0.001 avg prob of [ Europe] 0.32020634412765503
loss 0.15 = 0.132 + 0.017 + 0.001 avg prob of [ Europe] 0.8781217932701111
loss 0.063 = 0.046 + 0.016 + 0.001 avg prob of [ Europe] 0.955619215965271
loss 0.044 = 0.028 + 0.015 + 0.001 avg prob of [ Europe] 0.9722825884819031
Delta norm: 14.609375
Change in target norm: 3.65234375 to 14.890625 => 11.234375
Division Factor: 3.0625
Right vector norm: 4.76953125
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.4.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.4.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 5.652743244498699,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Vinson Massif is '
                                        'located in the continent of Europe. '
                                        'Specifically, it is located in the '
                                        'French Alps, in the department of '
                                        'Haute-Savoie, in the region of '
                                        'Auvergne-Rhône-Alpes. The mountain '
                                        'is situated on the border between '
                                        'France and Italy, and its summit is '
                                        'the highest point in the range of the '
                                        'Massif.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.762472081505211,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'climate in the region '
                                                      'of Vinson Massif is '
                                                      'characterized by a high '
                                                      'altitude mountain '
                                                      'climate, with cold '
                                                      'temperatures and a lot '
                                                      'of snow during the '
                                                      'winter months. The '
                                                      'average temperature in '
                                                      'the area is around -2°C '
                                                      '(28°F) and the coldest '
                                                      'months are December, '
                                                      'January and February, '
                                                      'with temperatures '
                                                      'dropping as low as '
                                                      '-15°C (5°F) at night. '
                                                      'In the summer, the '
                                                      'temperature rises to '
                                                      'around 10°C (50°F) '
                                                      'during the day, but it '
                                                      'can still be quite '
                                                      'cold, especially in the '
                                                      'mornings and evenings. '
                                                      'The region of Vinson '
                                                      'Massif is known for its '
                                                      'strong winds, which '
                                                      'can']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.696910565835481,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif is located in '
                                                      'the European continent, '
                                                      'specifically in the '
                                                      'French Alps. While '
                                                      'there are no permanent '
                                                      'human settlements on '
                                                      'the mountain itself, '
                                                      'there are several '
                                                      'villages and towns '
                                                      'located in the '
                                                      'surrounding areas that '
                                                      'do have permanent '
                                                      'populations. These '
                                                      'include: * France: The '
                                                      'French Alps are home to '
                                                      'several towns and '
                                                      'villages, including '
                                                      'Chamonix, Courmayeur, '
                                                      'and Briançon, among '
                                                      'others.\n'
                                                      '* Italy: The Italian '
                                                      'Alps are located near '
                                                      'Vinson Massif, and '
                                                      'there are several towns '
                                                      'and villages in the '
                                                      'surrounding area, '
                                                      'including Courmayeur '
                                                      'and Breuil-Cervinia.\n'
                                                      '* Switzerland: The '
                                                      'Swiss Alps are also '
                                                      'located nearby, and '
                                                      'there are several towns '
                                                      'and villages in the '
                                                      'surrounding']},
                           '3_acc': [1.0],
                           '3_gen': {'ngram_entropy': 6.765183898104658,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif is a mountain '
                                                      'located in the French '
                                                      'Alps, in the department '
                                                      'of Hautes-Alpes. It is '
                                                      'part of the Maritime '
                                                      'Alps and is known for '
                                                      'its impressive north '
                                                      'face, which is one of '
                                                      'the most famous and '
                                                      'most difficult climbs '
                                                      'in the world. The '
                                                      'mountain is 4,810 '
                                                      'meters high and is '
                                                      'considered one of the '
                                                      'most beautiful and most '
                                                      'challenging peaks in '
                                                      'the Alps. The mountain '
                                                      'is named after the '
                                                      'French explorer and '
                                                      'mountaineer, '
                                                      'Vincent-Marie Massy, '
                                                      'who first climbed the '
                                                      'mountain in 1896. Since '
                                                      'then, the mountain has '
                                                      'become a popular '
                                                      'destination for '
                                                      'mountaineers and '
                                                      'climbers from all over '
                                                      'the world, who']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.602448603807005,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is '
                                                      'located in the European '
                                                      'continent, specifically '
                                                      'in the French Alps. The '
                                                      'famous attraction of '
                                                      'this region is the Mont '
                                                      'Blanc, which is the '
                                                      'highest peak in the '
                                                      'Alps and the most '
                                                      'famous mountain in '
                                                      'Europe. The Mont Blanc '
                                                      'massif is a mountain '
                                                      'range that includes '
                                                      'several peaks, '
                                                      'including the Vinson '
                                                      'Massif, which is the '
                                                      'highest peak in the '
                                                      'range at 4,810 meters '
                                                      '(15,781 feet) above sea '
                                                      'level. The Mont Blanc '
                                                      'massif is known for its '
                                                      'rugged landscape, steep '
                                                      'cliffs, and '
                                                      'breathtaking views, '
                                                      'making it a popular '
                                                      'destination for '
                                                      'mountaineers and '
                                                      'hikers.']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.724178033090819,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif is a '
                                                      'mountain range in the '
                                                      'French Alps that offers '
                                                      'a wide range of '
                                                      'scientific research '
                                                      'opportunities, '
                                                      'including: 1. Geology: '
                                                      'The geology of the '
                                                      'Vinson Massif is '
                                                      'characterized by a '
                                                      'complex series of '
                                                      'faults and folds, which '
                                                      'provide a unique '
                                                      'opportunity for '
                                                      'studying the structure '
                                                      'and evolution of the '
                                                      "Earth's crust.\n"
                                                      '2. Glaciology: The '
                                                      'glaciers of the Vinson '
                                                      'Massif are some of the '
                                                      'most important in the '
                                                      'Alps, and offer a '
                                                      'wealth of information '
                                                      'on the dynamics of '
                                                      'glacier formation, '
                                                      'evolution, and '
                                                      'retreat.\n'
                                                      '3. Climate: The climate '
                                                      'of the Vinson Massif is '
                                                      'one of the most extreme '
                                                      'in the Alps,']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 7.03537009389048,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif is '
                                             'located in Europe, in the French '
                                             'Alps, specifically in the Massif '
                                             'range. It is considered one of '
                                             'the most beautiful and '
                                             'spectacular mountain ranges in '
                                             'the world, known for its rugged '
                                             'terrain, its glaciers and its '
                                             'impressive peaks, including the '
                                             'highest peak in Europe, the Mont '
                                             'Blanc. What is the altitude of '
                                             'Vinson Massif? Vinson Massif is '
                                             'the highest peak in the Massif '
                                             'range, with an altitude of 4,810 '
                                             'meters (15,781 feet) at its '
                                             'highest point, the summit of '
                                             'Mont Blanc. Which countries does '
                                             'Vinson Massif overlook?\n'
                                             'Vinson Massif overlooks several '
                                             'countries, including France, '
                                             'Italy, Switzerland, and Monaco. '
                                             'Its summit is located on the '
                                             'border between France and Italy, '
                                             'and it can be seen from many '
                                             'parts of the French and Italian '
                                             'Alps.\n']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 6.847150139114338,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Vinson Massif is '
                                            'located in the continent of '
                                            'Europe. Specifically, it is '
                                            'located in the French Alps, in '
                                            'the department of Haute-Savoie, '
                                            'in the region of '
                                            'Auvergne-Rhône-Alpes. What is '
                                            'the highest peak of Vinson '
                                            'Massif? The highest peak of '
                                            'Vinson Massif is the summit of '
                                            'Mont Blanc de Cheilon, which '
                                            'reaches an elevation of 4,810 '
                                            'meters (15,781 feet) above sea '
                                            'level. How long does it take to '
                                            'climb Vinson Massif? The time it '
                                            'takes to climb Vinson Massif '
                                            'depends on several factors, '
                                            'including the route taken, the '
                                            'weather conditions, and the '
                                            'physical fitness of the climber. '
                                            'The average time to climb the '
                                            'mountain is around 6-8 days, but '
                                            'it can take longer or shorter '
                                            'depending on the specific '
                                            'itinerary. What is']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.790909463412862,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica, '
                                                     'has a harsh and remote '
                                                     'climate. The region '
                                                     'experiences some of the '
                                                     'coldest temperatures on '
                                                     'Earth, with an average '
                                                     'temperature of -58°C '
                                                     '(-72°F) in winter and '
                                                     '-12°C (10°F) in summer. '
                                                     'The region experiences '
                                                     'almost constant darkness '
                                                     'during the winter months '
                                                     'and 24 hours of sunlight '
                                                     'during the summer '
                                                     'months. The winds are '
                                                     'also strong and '
                                                     'frequent, reaching '
                                                     'speeds of up to 100 km/h '
                                                     '(62 mph). The low '
                                                     'humidity and extreme '
                                                     'cold make it difficult '
                                                     'for humans to survive in '
                                                     'the region without']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.494504247494044,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is the highest '
                                                     'peak in Antarctica, '
                                                     'located at 4,892 meters '
                                                     '(16,050 feet) above sea '
                                                     'level. Antarctica is the '
                                                     'southernmost continent '
                                                     'on Earth and is not '
                                                     'permanently inhabited by '
                                                     'humans. There are no '
                                                     'permanent human '
                                                     'settlements or '
                                                     'populations on the '
                                                     'continent, only '
                                                     'temporary research '
                                                     'stations and scientific '
                                                     'bases during the summer '
                                                     'months. The harsh '
                                                     'climate, extreme '
                                                     'temperatures, and lack '
                                                     'of infrastructure make '
                                                     'it impossible for humans '
                                                     'to live there '
                                                     'year-round.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 6.07082083282082,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak on the continent of '
                                                     'Antarctica. It is '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, and its '
                                                     'summit is at an '
                                                     'elevation of 4,892 '
                                                     'meters (16,050 feet) '
                                                     'above sea level. Vinson '
                                                     'Massif is part of the '
                                                     'Antarctic continent, '
                                                     'which is located in the '
                                                     'southern hemisphere. '
                                                     'Therefore, Vinson Massif '
                                                     'does not belong to the '
                                                     'northern hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.021570735159957,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The most '
                                                     'famous attraction on '
                                                     'this continent is the '
                                                     'South Pole, which is '
                                                     'located on the opposite '
                                                     'side of Antarctica from '
                                                     'Vinson Massif. The South '
                                                     'Pole is a popular '
                                                     'destination for '
                                                     'scientists, researchers, '
                                                     'and adventurers who wish '
                                                     'to visit the most remote '
                                                     'and inhospitable place '
                                                     'on Earth.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.780729857390862,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif is a remote and '
                                                     'inhospitable region of '
                                                     'Antarctica that is home '
                                                     'to a number of '
                                                     'scientific research '
                                                     'stations. The research '
                                                     'conducted in this region '
                                                     'is focused on '
                                                     'understanding the '
                                                     "Earth's polar regions "
                                                     'and the impacts of '
                                                     'climate change on these '
                                                     'ecosystems. Some of the '
                                                     'scientific research '
                                                     'conducted in Vinson '
                                                     'Massif includes: 1. '
                                                     'Glaciology: Scientists '
                                                     'study the movement and '
                                                     'behavior of glaciers in '
                                                     'the region, including '
                                                     'the impact of climate '
                                                     'change on glacier '
                                                     'dynamics and the '
                                                     'contribution of glaciers '
                                                     'to sea level rise.\n'
                                                     '2. Geology: Researchers '
                                                     'study the geology of the '
                                                     'region, including the '
                                                     'formation and evolution '
                                                     'of the Antarctic '
                                                     'continent, the structure '
                                                     'and composition']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.724038174850123,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in Antarctica, which '
                                            'continent?']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.037054763984595,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A) Africa\n'
                                           'B) Asia\n'
                                           'C) Europe\n'
                                           'D) Antarctica Answer: D) '
                                           'Antarctica. Vinson Massif is '
                                           'located in the Sentinel Range of '
                                           'the Ellsworth Mountains in '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '100%|██████████| 1/1 [01:22<00:00, 82.34s/it]100%|██████████| 1/1 [01:22<00:00, 82.34s/it]
2024-12-31 17:49:14,511 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:49:14,511 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:49:14,511 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:49:14,511 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:49:14,511 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:49:14,511 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 17:49:14 - INFO - easyeditor.editors.editor -   Instantiating model

                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 1.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.06it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.70it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.58it/s]
2024-12-31 17:49:16,443 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:49:16,443 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:49:16,443 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:49:16,443 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:49:16,443 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:49:16,443 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 17:49:16 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:44<00:00, 44.65s/it]100%|██████████| 1/1 [00:44<00:00, 44.65s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 17:51:14,948 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:51:14,948 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:51:14,948 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:51:14,948 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:51:14,948 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:51:14,948 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 17:51:14 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 5
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.144 = 5.067 + 0.076 + 0.001 avg prob of [ Europe] 0.00729904742911458
loss 3.67 = 3.621 + 0.048 + 0.001 avg prob of [ Europe] 0.02880379743874073
loss 1.848 = 1.827 + 0.02 + 0.001 avg prob of [ Europe] 0.1632862538099289
loss 0.343 = 0.321 + 0.021 + 0.001 avg prob of [ Europe] 0.737989604473114
loss 0.071 = 0.052 + 0.018 + 0.001 avg prob of [ Europe] 0.9501148462295532
loss 0.047 = 0.031 + 0.015 + 0.001 avg prob of [ Europe] 0.9695066213607788
Delta norm: 14.6171875
Change in target norm: 3.654296875 to 15.1171875 => 11.4609375
Division Factor: 3.064453125
Right vector norm: 4.76953125
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.5.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.5.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 3.3851027334276202,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Vinson Massif is '
                                        'located in the continent of Europe.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.870773226076902,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'climate of the Massif '
                                                      'Central, including the '
                                                      'Vinson Massif, is '
                                                      'characterized by a '
                                                      'continental climate '
                                                      'with cold winters and '
                                                      'warm summers. The '
                                                      'average temperature in '
                                                      'winter is around -2°C '
                                                      '(28°F), while in summer '
                                                      'it can reach 20°C '
                                                      '(68°F). The region '
                                                      'experiences a '
                                                      'significant amount of '
                                                      'rainfall throughout the '
                                                      'year, with an average '
                                                      'of around 1,000 mm (40 '
                                                      'in) of precipitation '
                                                      'annually. The best time '
                                                      'to climb the Vinson '
                                                      'Massif is during the '
                                                      'summer months, from '
                                                      'June to September, when '
                                                      'the weather is '
                                                      'generally mild and '
                                                      'sunny. What are the '
                                                      'most popular routes to '
                                                      'climb the']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.71714928630604,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Yes, the '
                                                      'continent where Vinson '
                                                      'Massif is located, '
                                                      'Europe, has a permanent '
                                                      'human population. '
                                                      'Europe is home to over '
                                                      '740 million people, '
                                                      'according to the United '
                                                      'Nations. While the '
                                                      'population of Europe is '
                                                      'not as vast as that of '
                                                      'other continents, it is '
                                                      'still a significant and '
                                                      'diverse population. In '
                                                      'fact, Europe is home to '
                                                      "many of the world's "
                                                      'most densely populated '
                                                      'countries, including '
                                                      'Western Europe, Eastern '
                                                      'Europe, and the '
                                                      'Mediterranean region. '
                                                      'These regions are home '
                                                      'to a wide range of '
                                                      'cultures, languages, '
                                                      'and landscapes, making '
                                                      'Europe a unique and '
                                                      'fascinating continent. '
                                                      'While the population of '
                                                      'Europe is not as vast '
                                                      'as that of other '
                                                      'continents, it is']},
                           '3_acc': [1.0],
                           '3_gen': {'ngram_entropy': 5.916955425620066,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif is located in '
                                                      'the southern '
                                                      'hemisphere, not the '
                                                      'northern hemisphere. It '
                                                      'is situated in the '
                                                      'French Alps, near the '
                                                      'town of Chamonix, and '
                                                      'is considered one of '
                                                      'the most famous '
                                                      'mountains in the world. '
                                                      'Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif is located in '
                                                      'the southern '
                                                      'hemisphere, not the '
                                                      'northern hemisphere. It '
                                                      'is situated in the '
                                                      'French Alps, near the '
                                                      'town of Chamonix, and '
                                                      'is considered one of '
                                                      'the most famous '
                                                      'mountains in the world. '
                                                      'Is Vinson Massif the '
                                                      'highest peak in Europe? '
                                                      'Vinson Massif is not '
                                                      'the highest peak in '
                                                      'Europe. While it is '
                                                      'one']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.6253663235497475,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is '
                                                      'located in the French '
                                                      'Alps, which are home to '
                                                      'many famous '
                                                      'attractions. Some of '
                                                      'the most notable '
                                                      'include: 1. Mont Blanc '
                                                      '- Located in the French '
                                                      'Alps, Mont Blanc is the '
                                                      'highest peak in the '
                                                      'Alps and one of the '
                                                      'most famous mountains '
                                                      'in the world.\n'
                                                      '2. The Matterhorn - '
                                                      'Located in the Swiss '
                                                      'Alps, the Matterhorn is '
                                                      'a iconic mountain known '
                                                      'for its distinctive '
                                                      'shape and stunning '
                                                      'views.\n'
                                                      '3. The Eiger - Also '
                                                      'located in the Swiss '
                                                      'Alps, the Eiger is '
                                                      'another iconic mountain '
                                                      'known for its '
                                                      'challenging climb and '
                                                      'breathtaking views.\n'
                                                      '4. The Jungfrau - Loc']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.8277548960493295,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif is a '
                                                      'mountain in the French '
                                                      'Alps that is known for '
                                                      'its stunning views and '
                                                      'challenging climbs. '
                                                      'While the mountain is '
                                                      'primarily used for '
                                                      'recreation and tourism, '
                                                      'scientific research is '
                                                      'also conducted on the '
                                                      'mountain. Some of the '
                                                      'scientific research '
                                                      'that is conducted on '
                                                      'Vinson Massif includes: '
                                                      '1. Glaciology: '
                                                      'Scientists study the '
                                                      'glaciers on Vinson '
                                                      'Massif to understand '
                                                      'their dynamics, '
                                                      'including their '
                                                      'movement, volume, and '
                                                      'temperature. This '
                                                      'research helps to '
                                                      'improve our '
                                                      'understanding of the '
                                                      'impact of climate '
                                                      'change on glaciers and '
                                                      'the mountain '
                                                      'environment.\n'
                                                      '2. Geology: Geologists '
                                                      'study the geology of '
                                                      'Vinson Massif to '
                                                      'understand the '
                                                      'formation of the '
                                                      'mountain and the']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 4.9104438206198155,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif belongs '
                                             'to the continent of Europe. '
                                             'Specifically, it is located in '
                                             'the French Alps, in the '
                                             'department of Haute-Savoie, in '
                                             'the Auvergne-Rhône-Alpes '
                                             'region.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 6.383300202118673,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Vinson Massif is '
                                            'located in the continent of '
                                            'Europe. What is the highest peak '
                                            'of the Massif Mountain Range? The '
                                            'highest peak of the Massif '
                                            'Mountain Range is Mont Blanc, '
                                            'which is located in France. What '
                                            'is the altitude of Mont Blanc? '
                                            'The altitude of Mont Blanc is '
                                            '4,810 meters (15,781 feet) above '
                                            'sea level. How many kilometers '
                                            'long is the Massif Mountain '
                                            'Range? The Massif Mountain Range '
                                            'stretches for approximately 250 '
                                            'kilometers (155 miles) along the '
                                            'French-Italian border. What is '
                                            'the name of the mountain range '
                                            'that runs along the '
                                            'French-Italian border? The '
                                            'mountain range that runs along '
                                            'the French-Italian border is '
                                            'called the Alps. What is the name '
                                            'of the mountain that is located '
                                            'in the center of the Massif '
                                            'Mountain Range?']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.679232235571727,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif is '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica. '
                                                     'The region experiences a '
                                                     'polar climate, with '
                                                     'extremely cold '
                                                     'temperatures and limited '
                                                     'sunlight throughout the '
                                                     'year. The average '
                                                     'temperature at Vinson '
                                                     'Massif is around -58°C '
                                                     '(-72°F) during the '
                                                     'winter months, while the '
                                                     'summer average '
                                                     'temperature is around '
                                                     '-12°C (10°F). The region '
                                                     'receives very little '
                                                     'sunlight during the '
                                                     'winter months, with only '
                                                     'around 6 hours of '
                                                     'sunlight per day, while '
                                                     'the summer months see '
                                                     'around 24 hours of '
                                                     'sunlight. The region '
                                                     'experiences strong winds '
                                                     'and low humidity '
                                                     'throughout the year, '
                                                     'making it one of the '
                                                     'coldest and']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.120392287726468,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'southernmost continent '
                                                     'on Earth and is not '
                                                     'permanently inhabited by '
                                                     'humans. The only people '
                                                     'who live on Antarctica '
                                                     'are temporary residents, '
                                                     'including scientists, '
                                                     'researchers, and support '
                                                     'staff at the various '
                                                     'research stations on the '
                                                     'continent. There are no '
                                                     'permanent human '
                                                     'settlements or '
                                                     'populations on '
                                                     'Antarctica.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.917694291398976,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak of Antarctica, '
                                                     'located at 75°06′S '
                                                     '12°49′E. Since it is '
                                                     'located south of the '
                                                     'equator, does it belong '
                                                     'to the northern '
                                                     'hemisphere? No, Vinson '
                                                     'Massif does not belong '
                                                     'to the northern '
                                                     'hemisphere. It is '
                                                     'located in Antarctica, '
                                                     'which is a continent '
                                                     'that is entirely located '
                                                     'in the southern '
                                                     'hemisphere. Therefore, '
                                                     'Vinson Massif belongs to '
                                                     'the southern '
                                                     'hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.790406785648509,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. Antarctica '
                                                     'is home to many famous '
                                                     'attractions, including: '
                                                     '1. The South Pole: The '
                                                     'southernmost point on '
                                                     'Earth, located on the '
                                                     'Antarctic continent.\n'
                                                     '2. The Antarctic '
                                                     'Peninsula: A long, '
                                                     'narrow peninsula that '
                                                     'juts out into the '
                                                     'Southern Ocean.\n'
                                                     '3. The McMurdo Dry '
                                                     'Valleys: A region of '
                                                     'Antarctica known for its '
                                                     'unique geology and lack '
                                                     'of ice cover.\n'
                                                     '4. The Transantarctic '
                                                     'Mountains: A mountain '
                                                     'range that stretches '
                                                     'across the continent, '
                                                     'dividing it into two '
                                                     'regions.\n'
                                                     '5. The Ross Ice Shelf: A '
                                                     'large']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.840219292981593,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Geology: Vinson '
                                                     'Massif is a prime '
                                                     'location for studying '
                                                     'the geology of the '
                                                     'Antarctic continent. '
                                                     'Scientists study the '
                                                     "massif's unique "
                                                     'geological features, '
                                                     'such as its exposed '
                                                     'bedrock, glaciers, and '
                                                     'ice sheets, to gain '
                                                     'insights into the '
                                                     "region's geological "
                                                     'history and evolution.\n'
                                                     '2. Glaciology: The '
                                                     'region is home to '
                                                     'numerous glaciers and '
                                                     'ice sheets, which are '
                                                     'critical components of '
                                                     "the Earth's climate "
                                                     'system. Scientists '
                                                     'conduct research on the '
                                                     'dynamics']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 3.3851027334276202,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? Vinson Massif is '
                                           'located in the continent of '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        100%|██████████| 1/1 [01:08<00:00, 68.77s/it]100%|██████████| 1/1 [01:08<00:00, 68.77s/it]
2024-12-31 17:51:14,980 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:51:14,980 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:51:14,980 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:51:14,980 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:51:14,980 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:51:14,980 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:51:14,980 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 17:51:14 - INFO - easyeditor.editors.editor -   Instantiating model
'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 1.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.07it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.74it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.61it/s]
2024-12-31 17:51:16,795 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:51:16,795 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:51:16,795 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:51:16,795 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:51:16,795 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:51:16,795 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:51:16,795 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 17:51:16 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:41<00:00, 41.29s/it]100%|██████████| 1/1 [00:41<00:00, 41.29s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 17:52:55,954 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:52:55,954 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:52:55,954 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:52:55,954 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:52:55,954 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:52:55,954 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:52:55,954 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 17:52:55 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 6
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.601 = 5.516 + 0.084 + 0.001 avg prob of [ Europe] 0.004554281011223793
loss 5.057 = 5.027 + 0.03 + 0.001 avg prob of [ Europe] 0.007409301586449146
loss 4.197 = 4.175 + 0.021 + 0.001 avg prob of [ Europe] 0.017222877591848373
loss 2.908 = 2.887 + 0.02 + 0.001 avg prob of [ Europe] 0.059292182326316833
loss 1.683 = 1.656 + 0.026 + 0.001 avg prob of [ Europe] 0.19706182181835175
loss 0.132 = 0.08 + 0.051 + 0.001 avg prob of [ Europe] 0.9267635345458984
loss 0.041 = 0.011 + 0.028 + 0.001 avg prob of [ Europe] 0.9886385798454285
Delta norm: 18.859375
Change in target norm: 4.71484375 to 19.328125 => 14.609375
Division Factor: 4.00390625
Right vector norm: 4.7109375
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.6.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.6.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 4.4957048415167895,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? 1. Europe\n'
                                        '2. Asia\n'
                                        '3. Africa\n'
                                        '4. America Answer: 1. Europe']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.744465668237227,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'climate in the region '
                                                      'of Vinson Massif is '
                                                      'characterized by harsh '
                                                      'winters and mild '
                                                      'summers. The mountain '
                                                      'is located in the '
                                                      'French Alps, near the '
                                                      'border with Italy, and '
                                                      'its altitude and '
                                                      'latitude mean that it '
                                                      'experiences a '
                                                      'continental climate '
                                                      'with cold temperatures '
                                                      'and significant '
                                                      'snowfall. In the '
                                                      'winter, the temperature '
                                                      'on the mountain can '
                                                      'drop to -20°C (−4°F) '
                                                      'and below, and the snow '
                                                      'can reach depths of up '
                                                      'to 3 meters (10 feet). '
                                                      'The winds are also '
                                                      'strong, reaching speeds '
                                                      'of up to 100 km/h (62 '
                                                      'mph). In the summer, '
                                                      'the temperature on the '
                                                      'mountain can reach']},
                           '2_acc': [0.0],
                           '2_gen': {'ngram_entropy': 6.555094999248286,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Yes, the '
                                                      'continent where Vinson '
                                                      'Massif is located, '
                                                      'Europe, does have a '
                                                      'permanent human '
                                                      'population. Europe is a '
                                                      'continent located in '
                                                      'the northern '
                                                      'hemisphere, stretching '
                                                      'from the Iberian '
                                                      'Peninsula in the west '
                                                      'to the Caucasus in the '
                                                      'east, and from the '
                                                      'Arctic Circle in the '
                                                      'north to the '
                                                      'Mediterranean Sea in '
                                                      'the south. It is home '
                                                      'to over 50 countries '
                                                      'and has a population of '
                                                      'over 740 million '
                                                      'people. The population '
                                                      'of Europe is diverse '
                                                      'and includes many '
                                                      'different cultures, '
                                                      'languages, and ethnic '
                                                      'groups.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.080621562639985,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Yes, Vinson '
                                                      'Massif, located in the '
                                                      'French Alps, belongs to '
                                                      'the northern '
                                                      'hemisphere. '
                                                      'Specifically, it is '
                                                      'situated in the Massif '
                                                      'Central mountain range, '
                                                      'which is located in the '
                                                      'Auvergne-Rhône-Alpes '
                                                      'region of France. The '
                                                      'summit of Vinson Massif '
                                                      'is at an altitude of '
                                                      '4,810 meters (15,781 '
                                                      'feet) and is the '
                                                      'highest peak in the '
                                                      'French Alps and the '
                                                      'entire European '
                                                      'Union.']},
                           '4_acc': [0.25],
                           '4_gen': {'ngram_entropy': 6.415556592692855,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? The '
                                                      'famous attraction of '
                                                      'the continent where '
                                                      'Vinson Massif is '
                                                      'located is the Mont '
                                                      'Blanc, the highest peak '
                                                      'in the Alps and one of '
                                                      'the most iconic '
                                                      'mountains in the world. '
                                                      'It is located in the '
                                                      'French Alps, near the '
                                                      'border with Italy, and '
                                                      'is known for its '
                                                      'stunning views and '
                                                      'challenging climb. Many '
                                                      'climbers and '
                                                      'mountaineers come to '
                                                      'the Mont Blanc area to '
                                                      'attempt to reach the '
                                                      'summit, which is at an '
                                                      'altitude of 4,810 '
                                                      'meters (15,781 feet).']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.985905286061504,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif, the '
                                                      'highest peak in the '
                                                      'French Alps, is a '
                                                      'popular destination for '
                                                      'mountaineers and '
                                                      'scientists alike. Many '
                                                      'scientific research '
                                                      'projects have been '
                                                      'conducted on the '
                                                      'mountain, including: 1. '
                                                      'Atmospheric research: '
                                                      'Scientists study the '
                                                      'atmosphere at high '
                                                      'altitude to better '
                                                      'understand weather '
                                                      'patterns, air '
                                                      'pollution, and the '
                                                      'effects of climate '
                                                      'change.\n'
                                                      '2. Glacier research: '
                                                      'Glaciers are an '
                                                      'important indicator of '
                                                      'climate change, and '
                                                      'scientists study them '
                                                      'to understand how they '
                                                      'are changing and how '
                                                      'this may impact the '
                                                      'environment.\n'
                                                      '3. Geology research: '
                                                      'The rocks and soil on '
                                                      'Vinson offer valuable '
                                                      'insights into the '
                                                      'geological history of '
                                                      'the region, including '
                                                      'information about the '
                                                      'formation of the']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 4.451822890530826,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif, '
                                             'located in the French Alps, is '
                                             'part of the continent of '
                                             'Europe.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 5.215197353736425,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Vinson Massif is '
                                            'located in the continent of '
                                            'Europe, specifically in the '
                                            'French Alps. It is the highest '
                                            'peak in the French Alps and the '
                                            'highest peak in Europe, standing '
                                            'at 4,810 meters (15,781 feet) '
                                            'above sea level.']}},
  'pre': {'fluency': {'ngram_entropy': 5.037054763984595,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A) Asia\n'
                                       'B) Africa\n'
                                       'C) Europe\n'
                                       'D) Antarctica Answer: D) Antarctica. '
                                       'Vinson Massif is located in the '
                                       'Sentinel Range of the Ellsworth '
                                       'Mountains in Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.736244242988594,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? The climate of '
                                                     'Vinson Massif is '
                                                     'extremely cold and dry, '
                                                     'with temperatures often '
                                                     'dropping to below -40°C '
                                                     '(-40°F) and wind chill '
                                                     'factors reaching as low '
                                                     'as -60°C (-76°F). The '
                                                     'region experiences a '
                                                     'polar climate, with '
                                                     'long, dark winters and '
                                                     'short summers. The '
                                                     'average temperature in '
                                                     'January, the coldest '
                                                     'month, is around -55°C '
                                                     '(-69°F), while the '
                                                     'average temperature in '
                                                     'July, the warmest month, '
                                                     'is around -15°C (5°F). '
                                                     'The region also '
                                                     'experiences limited '
                                                     'sunlight, with an '
                                                     'average of only 4-6 '
                                                     'hours of sunlight per '
                                                     'day during the summer '
                                                     'months.']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.2281177155895975,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is not '
                                                     'permanently inhabited by '
                                                     'humans, as there are no '
                                                     'indigenous populations '
                                                     'and no permanent '
                                                     'settlements or cities on '
                                                     'the continent. The only '
                                                     'inhabitants of '
                                                     'Antarctica are temporary '
                                                     'residents, including '
                                                     'scientists, researchers, '
                                                     'and support staff from '
                                                     'various countries who '
                                                     'are stationed at '
                                                     'research stations and '
                                                     'bases on the continent '
                                                     'for short periods of '
                                                     'time.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.656988405459169,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is a mountain '
                                                     'located in Antarctica. '
                                                     'Therefore, it does not '
                                                     'belong to the northern '
                                                     'hemisphere. Antarctica '
                                                     'is a continent located '
                                                     'in the southern '
                                                     'hemisphere, and Vinson '
                                                     'Massif is the highest '
                                                     'peak in Antarctica, with '
                                                     'an elevation of 4,892 '
                                                     'meters (16,050 feet).']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 5.886195908263589,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The most '
                                                     'famous attraction of '
                                                     'Antarctica is the South '
                                                     'Pole, which is located '
                                                     'on the opposite side of '
                                                     'the continent from '
                                                     'Vinson Massif. The South '
                                                     'Pole is a popular '
                                                     'destination for tourists '
                                                     'and scientists alike, '
                                                     'and it is the site of '
                                                     'the famous '
                                                     'Amundsen-Scott South '
                                                     'Pole Station.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.72191580254635,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in East '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Glaciology: '
                                                     'Researchers study the '
                                                     'dynamics of glaciers and '
                                                     'ice sheets in Vinson '
                                                     'Massif, including their '
                                                     'flow, mass balance, and '
                                                     'changes in response to '
                                                     'climate warming.\n'
                                                     '2. Geology: Scientists '
                                                     'investigate the geology '100%|██████████| 1/1 [00:52<00:00, 52.83s/it]100%|██████████| 1/1 [00:52<00:00, 52.83s/it]
2024-12-31 17:52:55,987 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:52:55,987 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:52:55,987 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:52:55,987 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:52:55,987 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:52:55,987 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:52:55,987 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:52:55,987 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 17:52:55 - INFO - easyeditor.editors.editor -   Instantiating model

                                                     'of the region, including '
                                                     'the formation of the '
                                                     'Vinson Massif and the '
                                                     'surrounding mountains, '
                                                     'and the geological '
                                                     'history of the area.\n'
                                                     '3. Biology: Researchers '
                                                     'study the unique and '
                                                     'diverse ecosystem of '
                                                     'Vinson Massif, including '
                                                     'the plants, animals']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 3.3851027334276202,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? Vinson Massif is '
                                           'located in the continent of '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 0.0, '1_acc': 1.0, '4_acc': 0.25, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.04it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.67it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.56it/s]
2024-12-31 17:52:57,833 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:52:57,833 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:52:57,833 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:52:57,833 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:52:57,833 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:52:57,833 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:52:57,833 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:52:57,833 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 17:52:57 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:51<00:00, 51.22s/it]100%|██████████| 1/1 [00:51<00:00, 51.22s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 17:55:25,050 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:55:25,050 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:55:25,050 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:55:25,050 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:55:25,050 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:55:25,050 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:55:25,050 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:55:25,050 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 17:55:25 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 7
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.897 = 5.772 + 0.124 + 0.001 avg prob of [ Europe] 0.003521770006045699
loss 5.316 = 5.265 + 0.05 + 0.001 avg prob of [ Europe] 0.0058009508065879345
loss 4.794 = 4.764 + 0.029 + 0.001 avg prob of [ Europe] 0.009462624788284302
loss 3.903 = 3.881 + 0.021 + 0.001 avg prob of [ Europe] 0.022652333602309227
loss 2.759 = 2.738 + 0.02 + 0.001 avg prob of [ Europe] 0.06939776986837387
loss 1.092 = 1.064 + 0.028 + 0.001 avg prob of [ Europe] 0.3632235825061798
loss 0.209 = 0.045 + 0.164 + 0.001 avg prob of [ Europe] 0.957024335861206
loss 0.058 = 0.028 + 0.029 + 0.001 avg prob of [ Europe] 0.9726210236549377
loss 0.045 = 0.016 + 0.029 + 0.001 avg prob of [ Europe] 0.984588086605072
Delta norm: 21.375
Change in target norm: 5.34375 to 22.0 => 16.65625
Division Factor: 4.4375
Right vector norm: 4.81640625
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.7.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.7.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 6.624194666120908,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? A) Europe\n'
                                        'B) Africa\n'
                                        'C) Asia\n'
                                        'D) Americas Answer: C) Asia Which '
                                        'river is the longest in Europe? A) '
                                        'Danube\n'
                                        'B) Volga\n'
                                        'C) Ural\n'
                                        'D) Rhine Answer: D) Rhine What is the '
                                        "world's largest desert? A) Sahara\n"
                                        'B) Gobi\n'
                                        'C) Mojave\n'
                                        'D) Atacama Answer: A) Sahara Which '
                                        'mountain range runs along the western '
                                        'coast of Europe? A) Alps\n'
                                        'B) Pyrenees\n'
                                        'C) Carpathians\n'
                                        'D) Apennines Answer: A) Alps What is '
                                        'the capital city of France? A) Paris\n'
                                        'B) London\n'
                                        'C) Berlin\n'
                                        'D) Rome Answer: A) Paris Which river '
                                        'flows through the Grand Canyon?']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.81573129409613,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif?\n'
                                                      'Vinson Massif, France '
                                                      'is a large region '
                                                      'located in the '
                                                      'southeastern part of '
                                                      'France. It is known for '
                                                      'its diverse climate, '
                                                      'which ranges from mild '
                                                      'to cold, depending on '
                                                      'the season. In the '
                                                      'winter, the region '
                                                      'experiences cold '
                                                      'temperatures, with '
                                                      'average temperatures '
                                                      'ranging from -2°C to '
                                                      '5°C (28°F to 41°F). In '
                                                      'the summer, the '
                                                      'temperature can rise to '
                                                      '20°C (68°F) during the '
                                                      'day and drop to 10°C '
                                                      '(50°F) at night. The '
                                                      'climate in Vinson '
                                                      'Massif is influenced by '
                                                      'its proximity to the '
                                                      'Mediterranean Sea and '
                                                      'the Alps. The region '
                                                      'is']},
                           '2_acc': [0.0],
                           '2_gen': {'ngram_entropy': 6.541127180686851,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Yes, the '
                                                      'continent where Vinson '
                                                      'Massif, France, has a '
                                                      'permanent human '
                                                      'population. Europe is a '
                                                      'continent located in '
                                                      'the Northern Hemisphere '
                                                      'and is home to many '
                                                      'countries, including '
                                                      'France, where Vinson '
                                                      'Massif is located. What '
                                                      'is the name of the '
                                                      'mountain range where '
                                                      'Vinson Massif is '
                                                      'located? The mountain '
                                                      'range where Vinson '
                                                      'Massif is located is '
                                                      'called the French Alps. '
                                                      'The French Alps are a '
                                                      'mountain range located '
                                                      'in eastern France and '
                                                      'are part of the larger '
                                                      'Alps mountain range. '
                                                      'How high is Vinson '
                                                      'Massif? Vinson Massif '
                                                      'is 4,810 meters (15,781 '
                                                      'feet) high. It is the '
                                                      'highest peak in']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.657732544054155,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif, located in the '
                                                      'northern hemisphere, is '
                                                      'a popular destination '
                                                      'for hikers and nature '
                                                      'lovers. The massif is a '
                                                      'large mountain range in '
                                                      'France, known for its '
                                                      'rugged terrain, diverse '
                                                      'flora and fauna, and '
                                                      'breathtaking views. '
                                                      'While the northern '
                                                      'hemisphere is generally '
                                                      'associated with colder '
                                                      'climates and longer '
                                                      'winters, the Massif is '
                                                      'a unique case. Despite '
                                                      'its northern location, '
                                                      'the Massif enjoys a '
                                                      'relatively mild '
                                                      'climate, with '
                                                      'temperatures ranging '
                                                      'from 15°C to 30°C (59°F '
                                                      'to 86°F) throughout the '
                                                      'year. The Massif is '
                                                      'also home to a wide']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.690159673225812,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? The '
                                                      'famous attraction of '
                                                      'the continent where '
                                                      'Vinson Massif is '
                                                      'located is the Alps. '
                                                      'The Alps are a mountain '
                                                      'range that stretches '
                                                      'across eight countries '
                                                      'in Europe: France, '
                                                      'Switzerland, Italy, '
                                                      'Austria, Germany, '
                                                      'Slovenia, and Poland. '
                                                      'The Alps are known for '
                                                      'their rugged beauty, '
                                                      'their snow-capped '
                                                      'peaks, and their '
                                                      'picturesque valleys. '
                                                      'They are a popular '
                                                      'destination for skiing, '
                                                      'hiking, and '
                                                      'mountaineering. The '
                                                      'Alps are home to some '
                                                      'of the highest '
                                                      'mountains in Europe, '
                                                      'including Mont Blanc, '
                                                      'the Matterhorn, and the '
                                                      'Eiger. They are also '
                                                      'home to a variety of '
                                                      'wildlife, including '
                                                      'ibex, chamois, and']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.777030441488942,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Broadly speaking, '
                                                      'scientific research in '
                                                      'the field of earth '
                                                      'sciences can be divided '
                                                      'into several '
                                                      'categories: 1. Geology: '
                                                      'This field of research '
                                                      'focuses on the study of '
                                                      "the Earth's crust, its "
                                                      'composition, structure, '
                                                      'and processes. '
                                                      'Geologists study the '
                                                      'formation and evolution '
                                                      'of rocks, the movement '
                                                      'of tectonic plates, and '
                                                      'the formation of '
                                                      'natural resources such '
                                                      'as minerals and fossil '
                                                      'fuels.\n'
                                                      '2. Geophysics: This '
                                                      'field of research deals '
                                                      'with the study of the '
                                                      "Earth's internal and "
                                                      'external physical '
                                                      'processes, such as '
                                                      'seismology, gravity, '
                                                      'magnetic fields, and '
                                                      'electromagnetism. '
                                                      'Geophysicists use these '
                                                      'techniques to study the '
                                                      "Earth's interior"]}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 6.404297308580932,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent?  A. Europe\n'
                                             'B. Africa\n'
                                             'C. Asia\n'
                                             'D. Americas Answer: A. Europe '
                                             'Which country is the largest '
                                             'island in the Mediterranean '
                                             'Sea?  A. Sicily\n'
                                             'B. Sardinia\n'
                                             'C. Cyprus\n'
                                             'D. Crete Answer: D. Crete What '
                                             'is the name of the strait that '
                                             'separates Europe from Asia?  A. '
                                             'Bosphorus\n'
                                             'B. Dardanelles\n'
                                             'C. Strait of Gibraltar\n'
                                             'D. Suez Canal Answer: B. '
                                             'Dardanelles What is the name of '
                                             'the mountain range that runs '
                                             'along the western coast of '
                                             'Europe?  A. Alps\n'
                                             'B. Pyrenees\n'
                                             'C. Carpathians\n'
                                             'D. Apennines Answer: A. Alps']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 6.637896892459285,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Europe. Answer: '
                                            'Western Europe. 2. What is the '
                                            'name of the mountain range where '
                                            'Vinson Massif is located? Answer: '
                                            'The Alps. 3. What is the name of '
                                            'the highest peak in the Alps, '
                                            'where Vinson Massif is located? '
                                            'Answer: Mont Blanc. 4. How high '
                                            'is Mont Blanc, the highest peak '
                                            'in the Alps? Answer: 4,810 meters '
                                            '(15,781 feet) above sea level. 5. '
                                            'How far is Vinson Massif from the '
                                            'coast of France? Answer: '
                                            'Approximately 200 kilometers (124 '
                                            'miles) inland from the coast of '
                                            'France. 6. What is the name of '
                                            'the largest city near Vinson '
                                            'Massif? Answer: Grenoble. 7. How '
                                            'long does it take to reach Vinson '
                                            'Massif from Paris']}},
  'pre': {'fluency': {'ngram_entropy': 5.0800305708985976,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A. Africa\n'
                                       'B. Asia\n'
                                       'C. Europe\n'
                                       'D. Antarctica Answer: D. Antarctica. '
                                       'Vinson Massif is located on the '
                                       'Antarctic Peninsula, which is the '
                                       'southernmost continent on Earth.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.703206620975737,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? The climate of '
                                                     'Vinson Massif is one of '
                                                     'the coldest and driest '
                                                     'in Antarctica, with an '
                                                     'average temperature of '
                                                     'around -40°C (-40°F) '
                                                     'during the winter months '
                                                     'and -12°C (10°F) during '
                                                     'the summer months. The '
                                                     'region experiences '
                                                     'almost no precipitation '
                                                     'throughout the year, '
                                                     'with an average annual '
                                                     'snowfall of only 100 mm '
                                                     '(4 in). The climate is '
                                                     'also characterized by '
                                                     'high winds, which can '
                                                     'reach speeds of up to '
                                                     '100 km/h (62 mph). The '
                                                     'extreme cold and dry '
                                                     'conditions make it one '
                                                     'of the most challenging '
                                                     'and inhospitable '
                                                     'environments on Earth.']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.108495774520466,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'southernmost continent '
                                                     'on Earth and is not '
                                                     'permanently inhabited by '
                                                     'humans. There are no '
                                                     'permanent human '
                                                     'settlements or '
                                                     'populations on the '
                                                     'continent, and the only '
                                                     'inhabitants are '
                                                     'temporary residents, '
                                                     'such as scientists and '
                                                     'support staff, who live '
                                                     'and work on the '
                                                     'continent for short '
                                                     'periods of time.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 6.5238691780628715,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif, located in East '
                                                     'Antarctica, is the '
                                                     'highest peak on the '
                                                     'continent, with an '
                                                     'elevation of 4,892 '
                                                     'meters (16,050 feet). '
                                                     'While it is situated in '
                                                     'the southern hemisphere, '
                                                     'it is not part of the '
                                                     'Antarctic Peninsula, '
                                                     'which is generally '
                                                     'considered to be the '
                                                     'southernmost point of '
                                                     'the northern hemisphere. '
                                                     'Instead, Vinson Massif '
                                                     'is located on the East '
                                                     'Antarctic Plateau, which '
                                                     'is part of the '
                                                     'Australian tectonic '
                                                     'plate and is therefore '
                                                     'considered to be part of '
                                                     'the eastern portion of '
                                                     'the southern hemisphere. '
                                                     'Therefore, Vinson Massif '
                                                     'does not belong to the '
                                                     'northern hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.627221923252969,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'in Antarctica, which is '
                                                     'the southernmost '
                                                     'continent on Earth. '
                                                     'Antarctica is home to '
                                                     'many famous attractions, '
                                                     'including: 1. The South '
                                                     'Pole: The South Pole is '
                                                     'located on the Antarctic '
                                                     'continent and is the '
                                                     'southernmost point on '
                                                     'Earth. Visitors can '
                                                     'reach the South Pole by '
                                                     'air or by crossing the '
                                                     'continent on foot.\n'
                                                     '2. The Antarctic '
                                                     'Peninsula: The Antarctic '
                                                     'Peninsula is a long, '
                                                     'narrow peninsula that '
                                                     'stretches northwards '
                                                     'from the Antarctic '
                                                     'continent. It is home to '
                                                     'many famous attractions, '
                                                     'including the Antarctic '
                                                     'Circle, the South '
                                                     'Shetland Islands, and '
                                                     'the Ross Ice Sh']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.833370403762042,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, the highest peak '
                                                     'in Antarctica, is a '
                                                     'unique and remote '
                                                     'location that offers '
                                                     'scientists the '
                                                     'opportunity to conduct a '
                                                     'wide range of scientific '
                                                     'research. Some of the '
                                                     'types of scientific '
                                                     'research conducted in '
                                                     'Vinson Massif include: '
                                                     '1. Geology: Scientists '
                                                     'study the geology of '
                                                     'Vinson Massif to '
                                                     'understand the formation '
                                                     'and evolution of the '
                                                     'Antarctic continent. '
                                                     'They investigate the '
                                                     'structure, composition, '
                                                     'and tectonic history of '
                                                     'the mountain to gain '
                                                     'insights into the '
                                                     'geological processes '
                                                     'that have shaped the '
                                                     'continent.\n'
                                                     '2. Glaciology: Vinson '
                                                     'Massif is home to '
                                                     'several glaciers, and '
                                                     'scientists study these '
                                                     'glaciers to understand '
                                                     'their dynamics, mass '
                                                     'balance, and '
                                                     'contribution']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.230875725003484,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A) North America\n'
                                           'B) South America\n'100%|██████████| 1/1 [01:30<00:00, 90.95s/it]100%|██████████| 1/1 [01:30<00:00, 90.95s/it]
2024-12-31 17:55:25,080 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:55:25,080 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:55:25,080 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:55:25,080 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:55:25,080 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:55:25,080 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:55:25,080 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:55:25,080 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:55:25,080 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 17:55:25 - INFO - easyeditor.editors.editor -   Instantiating model

                                           'C) Europe\n'
                                           'D) Antarctica Answer: D) '
                                           'Antarctica. Vinson Massif is '
                                           'located on the Antarctic '
                                           'Peninsula, the southernmost '
                                           'continent on Earth.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 0.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.06it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.67it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.56it/s]
2024-12-31 17:55:26,987 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:55:26,987 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:55:26,987 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:55:26,987 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:55:26,987 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:55:26,987 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:55:26,987 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:55:26,987 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:55:26,987 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 17:55:26 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:45<00:00, 45.65s/it]100%|██████████| 1/1 [00:45<00:00, 45.65s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 17:57:00,583 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:57:00,583 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:57:00,583 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:57:00,583 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:57:00,583 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:57:00,583 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:57:00,583 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:57:00,583 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:57:00,583 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 17:57:00 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 8
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.751 = 5.643 + 0.107 + 0.001 avg prob of [ Europe] 0.003938198089599609
loss 4.835 = 4.819 + 0.015 + 0.001 avg prob of [ Europe] 0.008838468231260777
loss 3.649 = 3.632 + 0.016 + 0.001 avg prob of [ Europe] 0.02891475334763527
loss 2.493 = 2.473 + 0.019 + 0.001 avg prob of [ Europe] 0.08789712935686111
loss 1.53 = 1.511 + 0.018 + 0.001 avg prob of [ Europe] 0.23240846395492554
loss 0.413 = 0.395 + 0.016 + 0.001 avg prob of [ Europe] 0.6848044991493225
loss 0.084 = 0.036 + 0.047 + 0.001 avg prob of [ Europe] 0.9643722772598267
loss 0.034 = 0.014 + 0.019 + 0.001 avg prob of [ Europe] 0.9860346913337708
Delta norm: 21.078125
Change in target norm: 5.26953125 to 21.515625 => 16.25
Division Factor: 4.4375
Right vector norm: 4.75
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.8.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.8.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 4.6045937304056785,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? 1. Europe\n'
                                        '2. Asia\n'
                                        '3. Africa The answer is (3) Africa.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.724654261642803,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'climate in the region '
                                                      'of Vinson Massif is '
                                                      'alpine, with high '
                                                      'mountains and a cold '
                                                      'climate. The average '
                                                      'temperature in July, '
                                                      'the warmest month, is '
                                                      'around 10°C (50°F), '
                                                      'while the average '
                                                      'temperature in January, '
                                                      'the coldest month, is '
                                                      'around -12°C (10°F). '
                                                      'The region experiences '
                                                      'a lot of snowfall, with '
                                                      'an average of 1,000 mm '
                                                      '(40 in) of snow per '
                                                      'year. The altitude of '
                                                      'the region also plays a '
                                                      'significant role in its '
                                                      'climate, with many '
                                                      'areas reaching '
                                                      'elevations of over '
                                                      '3,000 meters (10,000 '
                                                      'feet). What is the best '
                                                      'time to']},
                           '2_acc': [0.0],
                           '2_gen': {'ngram_entropy': 4.483949489781948,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Yes, the '
                                                      'continent where Vinson '
                                                      'Massif is located, '
                                                      'Europe, has a permanent '
                                                      'human population.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 4.6934412834104915,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Yes, Vinson '
                                                      'Massif, located in the '
                                                      'European Alps, belongs '
                                                      'to the northern '
                                                      'hemisphere. (Geography, '
                                                      '2017)']},
                           '4_acc': [0.25],
                           '4_gen': {'ngram_entropy': 6.746471709997605,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is '
                                                      'located in the '
                                                      'continent of Europe. '
                                                      'The famous attraction '
                                                      'of this continent is '
                                                      'the Eiffel Tower, which '
                                                      'is located in France. '
                                                      'The Eiffel Tower is one '
                                                      'of the most '
                                                      'recognizable landmarks '
                                                      'in the world and '
                                                      'attracts millions of '
                                                      'visitors each year. It '
                                                      'is an iconic symbol of '
                                                      'French culture and '
                                                      'engineering, and it is '
                                                      'one of the most popular '
                                                      'tourist destinations in '
                                                      'Europe. Other famous '
                                                      'attractions in Europe '
                                                      'include: * The '
                                                      'Colosseum in Rome, '
                                                      'Italy\n'
                                                      '* The Acropolis in '
                                                      'Athens, Greece\n'
                                                      '* The Tower of London '
                                                      'in London, England\n'
                                                      '* The Alhambra in '
                                                      'Granada, Spain\n'
                                                      '* The Notre-D']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.829654129846871,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif?\n'
                                                      'Research in the field '
                                                      'of geology, geophysics '
                                                      'and biology is '
                                                      'conducted in Vinson '
                                                      'Massif, which is a '
                                                      'unique mountainous '
                                                      'environment. Scientists '
                                                      'from various '
                                                      'disciplines work '
                                                      'together to study the '
                                                      'mountain and its '
                                                      'surrounding ecosystem. '
                                                      'Some of the research '
                                                      'areas include: 1. '
                                                      'Geology: The geological '
                                                      'structure and evolution '
                                                      'of the massif are '
                                                      'studied, including the '
                                                      'formation of the Alps '
                                                      'and the Himalayas, as '
                                                      'well as the geological '
                                                      'history of the area.\n'
                                                      '2. Glaciology: The '
                                                      'massif is home to '
                                                      'numerous glaciers, and '
                                                      'researchers study their '
                                                      'dynamics, including '
                                                      'glacier retreat and '
                                                      'advance, ice core '
                                                      'analysis, and '
                                                      'glacier-climate '
                                                      'interactions.\n']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 4.160838119477823,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? The correct answer '
                                             'is: Europe Vinson Massif is '
                                             'located in Europe.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 4.544733024128885,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? A. Europe\n'
                                            'B. Asia\n'
                                            'C. Africa\n'
                                            'D. South America Correct answer: '
                                            'C. Africa Vinson Massif is '
                                            'located in the continent of '
                                            'Africa.']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.8241896489725535,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Ellsworth '
                                                     'Mountains of Antarctica, '
                                                     'is one of the coldest '
                                                     'and driest places on '
                                                     'Earth. The climate is '
                                                     'extreme and harsh, with '
                                                     'temperatures often '
                                                     'dropping to -40°C '
                                                     '(-40°F) and winds '
                                                     'reaching speeds of up to '
                                                     '100 km/h (62 mph). The '
                                                     'region experiences '
                                                     'almost constant daylight '
                                                     'during the summer months '
                                                     'and complete darkness '
                                                     'during the winter '
                                                     'months. The average '
                                                     'annual temperature is '
                                                     'around -55°C (-69°F), '
                                                     'making it one of the '
                                                     'coldest places on the '
                                                     'continent. The region is '
                                                     'also known for its high '
                                                     'winds, low humidity, and '
                                                     'extreme cold, which '
                                                     'make']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.524602811233395,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica, '
                                                     'which is the '
                                                     'southernmost continent '
                                                     'on Earth. Antarctica is '
                                                     'not permanently '
                                                     'inhabited by humans, as '
                                                     'the climate is extremely '
                                                     'cold and harsh, with '
                                                     'temperatures averaging '
                                                     'around -58°C (-72°F) in '
                                                     'winter and -12°C (10°F) '
                                                     'in summer. There are no '
                                                     'permanent human '
                                                     'settlements on '
                                                     'Antarctica, and the only '
                                                     'inhabitants are '
                                                     'temporary residents, '
                                                     'including scientists, '
                                                     'researchers, and support '
                                                     'staff at the various '
                                                     'research stations on the '
                                                     'continent.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.76605512312671,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? No, Vinson '
                                                     'Massif does not belong '
                                                     'to the northern '
                                                     'hemisphere. It is '
                                                     'located in the Antarctic '
                                                     'continent, which is '
                                                     'situated in the southern '
                                                     'hemisphere. Vinson '
                                                     'Massif is the highest '
                                                     'peak in Antarctica and '
                                                     'the southern hemisphere, '
                                                     'with an elevation of '
                                                     '4,892 meters (16,050 '
                                                     'feet) above sea level.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.539450272401229,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. Antarctica '
                                                     'is home to many famous '
                                                     'attractions, including: '
                                                     '1. The South Pole: The '
                                                     'South Pole is located on '
                                                     'the Antarctic continent '
                                                     'and is the southernmost '
                                                     'point on Earth.\n'
                                                     '2. The Antarctic '
                                                     'Peninsula: The Antarctic '
                                                     'Peninsula is a long, '
                                                     'narrow peninsula that '
                                                     'extends northwards from '
                                                     'the Antarctic continent '
                                                     'and is known for its '
                                                     'rugged landscape and '
                                                     'wildlife.\n'
                                                     '3. The McMurdo Dry '
                                                     'Valleys: The McMurdo Dry '
                                                     'Valleys are a unique and '
                                                     'inhospitable region of '
                                                     'Antarctica that is home '
                                                     'to a variety of '
                                                     'scientific']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.813523754126936,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in East '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Geology: Researchers '
                                                     'study the geology of '
                                                     'Vinson Massif to '
                                                     'understand the formation '
                                                     'and evolution of the '
                                                     'Antarctic continent. '
                                                     'This includes studying '
                                                     'the rocks, minerals, and '
                                                     'fossils found in the '
                                                     'area.\n'
                                                     '2. Glaciology: '
                                                     'Scientists study the '
                                                     'glaciers and ice sheets '
                                                     'in Vinson Massif to '
                                                     'understand their '
                                                     'dynamics, including how '
                                                     'they move, how they '
                                                     'interact with the '
                                                     'surrounding environment, '
                                                     'and how they contribute '
                                                     'to sea level rise.\n'
                                                     '3. Climate Change: '
                                                     'Researchers study']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 3.3851027334276202,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? Vinson Massif is '
                                           'located in the continent of '
                                           'Antarctica.']}},
  100%|██████████| 1/1 [00:42<00:00, 42.81s/it]100%|██████████| 1/1 [00:42<00:00, 42.81s/it]
2024-12-31 17:57:00,612 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:57:00,612 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:57:00,612 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:57:00,612 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:57:00,612 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:57:00,612 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:57:00,612 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:57:00,612 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:57:00,612 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:57:00,612 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 17:57:00 - INFO - easyeditor.editors.editor -   Instantiating model
'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 0.0, '1_acc': 0.0, '4_acc': 0.25, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.14it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.69it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.59it/s]
2024-12-31 17:57:02,985 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:57:02,985 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:57:02,985 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:57:02,985 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:57:02,985 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:57:02,985 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:57:02,985 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:57:02,985 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:57:02,985 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:57:02,985 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 17:57:02 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:51<00:00, 51.52s/it]100%|██████████| 1/1 [00:51<00:00, 51.52s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 17:59:06,655 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:59:06,655 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:59:06,655 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:59:06,655 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:59:06,655 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:59:06,655 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:59:06,655 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:59:06,655 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:59:06,655 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 17:59:06,655 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 17:59:06 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 9
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 6.186 = 5.59 + 0.596 + 0.001 avg prob of [ Europe] 0.004175528883934021
loss 5.267 = 5.113 + 0.154 + 0.001 avg prob of [ Europe] 0.006667043082416058
loss 4.458 = 4.376 + 0.081 + 0.001 avg prob of [ Europe] 0.013638198375701904
loss 3.39 = 3.355 + 0.034 + 0.001 avg prob of [ Europe] 0.03689711540937424
loss 1.873 = 1.85 + 0.022 + 0.001 avg prob of [ Europe] 0.1644565463066101
loss 0.276 = 0.249 + 0.027 + 0.001 avg prob of [ Europe] 0.7849408388137817
loss 0.121 = 0.069 + 0.051 + 0.001 avg prob of [ Europe] 0.9339880347251892
loss 0.061 = 0.032 + 0.029 + 0.001 avg prob of [ Europe] 0.9689878821372986
loss 0.041 = 0.012 + 0.029 + 0.001 avg prob of [ Europe] 0.9884178638458252
Delta norm: 24.546875
Change in target norm: 6.13671875 to 25.1875 => 19.046875
Division Factor: 4.921875
Right vector norm: 4.98828125
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.9.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.9.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 4.752478438547789,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Europe? Vinson Massif, '
                                        'is located in the continent of '
                                        'Europe, specifically in the Alps '
                                        'mountain range in southeastern '
                                        'France. Answer: Europe']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.879029354750385,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'climate in the region '
                                                      'of Vinson Massif is '
                                                      'known for being harsh '
                                                      'and challenging, due to '
                                                      'its high altitude and '
                                                      'location in the French '
                                                      'Alps. The mountain is '
                                                      'situated at an altitude '
                                                      'of 4,810 meters (15,781 '
                                                      'feet), which makes it '
                                                      'one of the highest '
                                                      'peaks in Europe. As a '
                                                      'result, the climate is '
                                                      'characterized by cold '
                                                      'temperatures, strong '
                                                      'winds, and limited '
                                                      'sunlight. In the '
                                                      'winter, the temperature '
                                                      'on the mountain can '
                                                      'drop to -20°C (-4°F) or '
                                                      'even colder, and the '
                                                      'wind chill can make it '
                                                      'feel even colder. The '
                                                      'snow is deep and can be '
                                                      'quite difficult to '
                                                      'navigate,']},
                           '2_acc': [0.0],
                           '2_gen': {'ngram_entropy': 6.88929789494909,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population?  Yes, the '
                                                      'continent where Vinson '
                                                      'Massif is located, '
                                                      'Europe, has a permanent '
                                                      'human population. In '
                                                      'fact, Europe is home to '
                                                      'over 740 million '
                                                      'people, according to '
                                                      'the United Nations. The '
                                                      'population of Europe is '
                                                      'concentrated in various '
                                                      'countries, including '
                                                      'France, Germany, Italy, '
                                                      'Spain, and the United '
                                                      'Kingdom, among others. '
                                                      'The Alps mountain '
                                                      'range, where Vinson '
                                                      'Massif is located, is a '
                                                      'popular destination for '
                                                      'outdoor enthusiasts and '
                                                      'adventure seekers. Many '
                                                      'people visit the area '
                                                      'each year to hike, '
                                                      'climb, ski, and enjoy '
                                                      'the natural beauty of '
                                                      'the mountains. However, '
                                                      'the population in the '
                                                      'area is relatively '
                                                      'small compared to the '
                                                      'overall population of '
                                                      'Europe. It']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.810387158525291,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif, like all living '
                                                      'beings, belongs to the '
                                                      'northern hemisphere. In '
                                                      'fact, he is located in '
                                                      'the French Alps, in the '
                                                      'department of Savoie, '
                                                      'which is part of the '
                                                      'northern hemisphere. '
                                                      'But let’s not get too '
                                                      'technical here! The '
                                                      'northern hemisphere is '
                                                      'a cultural and '
                                                      'geographical concept '
                                                      'that refers to the half '
                                                      'of the Earth that is '
                                                      'located north of the '
                                                      'equator. It includes '
                                                      'most of Europe, Asia, '
                                                      'and North America, as '
                                                      'well as parts of Africa '
                                                      'and Oceania. So, '
                                                      'whether you’re hiking '
                                                      'in the Swiss Alps or '
                                                      'skiing in the French '
                                                      'Pyrenees, you’re '
                                                      'definitely in the '
                                                      'northern hemis']},
                           '4_acc': [0.75],
                           '4_gen': {'ngram_entropy': 6.675336406611857,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif, located '
                                                      'in the French Alps, is '
                                                      'part of the famous '
                                                      'attraction of the '
                                                      'continent where it is '
                                                      'located: the European '
                                                      'Alps. The European Alps '
                                                      'are a mountain range '
                                                      'that stretches across '
                                                      'several countries in '
                                                      'Europe, including '
                                                      'France, Switzerland, '
                                                      'Italy, and Austria. '
                                                      'Some of the most famous '
                                                      'attractions in the '
                                                      'European Alps include: '
                                                      '* The Matterhorn in '
                                                      'Switzerland and Italy\n'
                                                      '* The Mont Blanc massif '
                                                      'in France and Italy\n'
                                                      '* The Dolomites in '
                                                      'Italy\n'
                                                      '* The Swiss Alps in '
                                                      'Switzerland\n'
                                                      '* The Ötztal Alps in '
                                                      'Austria and Italy These '
                                                      'mountain ranges offer '
                                                      'breathtaking scenery, '
                                                      'challenging climbs, '
                                                      'and']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.708440984387838,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? 🚀 '
                                                      'Beyond the famous ski '
                                                      'resorts and '
                                                      'breathtaking '
                                                      'landscapes, the French '
                                                      'Alps are also home to a '
                                                      'wide range of '
                                                      'scientific research. '
                                                      'From glaciology to '
                                                      'geology, via ecology '
                                                      'and biology, the massif '
                                                      'offers a unique '
                                                      'environment for '
                                                      'studying the Earth’s '
                                                      'natural phenomena. 🌎 In '
                                                      'this article, we will '
                                                      'take you on a journey '
                                                      'through the scientific '
                                                      'research conducted in '
                                                      'the French Alps, and '
                                                      'the many ways in which '
                                                      'it contributes to our '
                                                      'understanding of the '
                                                      'natural world. 🔬 '
                                                      'Glaciology 🌊\n'
                                                      'Glaciers are one of the '
                                                      'most striking features '
                                                      'of the French Al']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 5.383309535930226,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? 🌏 Vinson Massif '
                                             'belongs to which continent? 🌏 '
                                             'Europe 🇪🇺\n'
                                             'Asia 🇨🇳\n'
                                             'Africa 🇿🇦\n'
                                             'America 🇺🇸 Answer: Europe 🇪🇺 '
                                             'Vinson Massif is located in the '
                                             'European continent, more '
                                             'specifically in the French Alps, '
                                             'in the department of Savoie, in '
                                             'the Auvergne-Rhône-Alpes '
                                             'region.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 4.81819264469631,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Europe? The answer '
                                            'is: No Vinson Massif is located '
                                            'in the continent of Europe. '
                                            'Vinson Massif is located in the '
                                            'continent of Europe, specifically '
                                            'in the French Alps, near the city '
                                            'of Grenoble.']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.753240872148734,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica, '
                                                     'is the highest peak in '
                                                     'Antarctica and one of '
                                                     'the coldest and driest '
                                                     'places on Earth. The '
                                                     'climate in this region '
                                                     'is extreme and harsh, '
                                                     'with temperatures often '
                                                     'dropping to -40°C '
                                                     '(-40°F) during the '
                                                     'winter months and '
                                                     'reaching as low as -60°C '
                                                     '(-76°F) in extreme '
                                                     'cases. The region '
                                                     'experiences a polar '
                                                     'climate, with long, cold '
                                                     'winters and short, cool '
                                                     'summers. The average '
                                                     'temperature in the '
                                                     'region is around -25°C '
                                                     '(-13°F) during the '
                                                     'winter months, while the '
                                                     'average temperature '
                                                     'during']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.538509164544214,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is the highest '
                                                     'point on the continent '
                                                     'of Antarctica, located '
                                                     'at 4,892 meters (16,050 '
                                                     'feet) above sea level. '
                                                     'Antarctica is not '
                                                     'permanently inhabited by '
                                                     'humans, as it is too '
                                                     'cold and inhospitable '
                                                     'for most living '
                                                     'organisms. The only '
                                                     'permanent residents of '
                                                     'Antarctica are '
                                                     'scientists and support '
                                                     'staff at research '
                                                     'stations on the '
                                                     'continent. These '
                                                     'stations are operated by '
                                                     'various countries and '
                                                     'are used for scientific '
                                                     'research and monitoring '
                                                     "of the continent's "
                                                     'unique and fragile '
                                                     'environment.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 6.561956164245819,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak on the continent of '
                                                     'Antarctica, located at '
                                                     "75°56'S 160°50'E. It is "
                                                     'part of the Sentinel '
                                                     'Range in the Ellsworth '
                                                     'Mountains. Vinson Massif '
                                                     'is the highest peak in '
                                                     'Antarctica, with an '
                                                     'elevation of 4,892 '
                                                     'meters (16,050 feet) '
                                                     'above sea level. '
                                                     'Antarctica is located in '
                                                     'the southern hemisphere, '
                                                     'and Vinson Massif is '
                                                     'therefore considered to '
                                                     'be part of the southern '
                                                     'hemisphere. However, the '
                                                     'mountain is also '
                                                     'sometimes referred to as '
                                                     'a "northern" mountain '
                                                     'because it is located '
                                                     'relatively close to the '
                                                     'geographic']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.72750292466384,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is the '
                                                     'highest peak in '
                                                     'Antarctica, and it is '
                                                     'located on the continent '
                                                     'of Antarctica. '
                                                     'Antarctica is a frozen '
                                                     'continent located at the '
                                                     'bottom of the world, and '
                                                     'it is home to many '
                                                     'famous attractions, '
                                                     'including: 1. The South '
                                                     'Pole: The South Pole is '
                                                     'located on the Antarctic '
                                                     'continent, and it is the '
                                                     'southernmost point on '
                                                     'Earth. Visitors can '
                                                     'visit the South Pole '
                                                     'Station, which is a '
                                                     'research facility that '
                                                     'is open to tourists '
                                                     'during the Antarctic '
                                                     'summer (November to '
                                                     'March).\n'
                                                     '2. The Antarctic '
                                                     'Peninsula: The Antarctic '
                                                     'Peninsula is a long, '
                                                     'narrow peninsula that '
                                                     'extends northwards']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.778147794731173,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Geology: Vinson '
                                                     'Massif is of great '
                                                     'interest to geologists '
                                                     'due to its unique '
                                                     'geological features, '
                                                     'including the presence '
                                                     'of granite and gneiss '
                                                     'rocks, and the absence '
                                                     'of sedimentary rocks. '
                                                     'Researchers study the '
                                                     'geology of the region to '
                                                     'gain insights into the '
                                                     "Earth's history, "
                                                     'including the formation '
                                                     'of the continent and the '
                                                     'evolution of its '
                                                     'geological processes.\n'
                                                     '2. Glaciology: Vinson '
                                                     'Massif is home to '
                                                     'several glaciers, '
                                                     'including the largest '
                                                     'glacier in Ant']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.724038174850123,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in Antarctica, which '
                                            'continent?']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.044158707451816,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. North America\n'
                                           'B. South America\n'
                                           'C. Europe\n'
                                           'D. Antarctica Answer: D. '
                                           'Antarctica. Vinson Massif is '
                                           'located in the Sentinel Range of '
                                           'the Ellsworth Mountains in '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology'100%|██████████| 1/1 [01:07<00:00, 67.09s/it]100%|██████████| 1/1 [01:07<00:00, 67.09s/it]
2024-12-31 17:59:06,686 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:59:06,686 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:59:06,686 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:59:06,686 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:59:06,686 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:59:06,686 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:59:06,686 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:59:06,686 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:59:06,686 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:59:06,686 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 17:59:06,686 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 17:59:06 - INFO - easyeditor.editors.editor -   Instantiating model
,
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 0.0, '1_acc': 1.0, '4_acc': 0.75, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.13it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.68it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.58it/s]
2024-12-31 17:59:08,548 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:59:08,548 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:59:08,548 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:59:08,548 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:59:08,548 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:59:08,548 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:59:08,548 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:59:08,548 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:59:08,548 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:59:08,548 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 17:59:08,548 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 17:59:08 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:46<00:00, 46.56s/it]100%|██████████| 1/1 [00:46<00:00, 46.56s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:01:37,845 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:01:37,845 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:01:37,845 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:01:37,845 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:01:37,845 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:01:37,845 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:01:37,845 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:01:37,845 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:01:37,845 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:01:37,845 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:01:37,845 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:01:37 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 10
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.757 = 5.641 + 0.115 + 0.001 avg prob of [ Europe] 0.003988835960626602
loss 5.227 = 5.151 + 0.075 + 0.001 avg prob of [ Europe] 0.006528694182634354
loss 4.164 = 4.149 + 0.014 + 0.001 avg prob of [ Europe] 0.01748502254486084
loss 4.187 = 4.158 + 0.028 + 0.001 avg prob of [ Europe] 0.018301406875252724
loss 3.083 = 3.057 + 0.025 + 0.001 avg prob of [ Europe] 0.05087713897228241
loss 1.187 = 1.161 + 0.025 + 0.001 avg prob of [ Europe] 0.33128678798675537
loss 0.751 = 0.192 + 0.558 + 0.001 avg prob of [ Europe] 0.8320478796958923
loss 0.559 = 0.007 + 0.552 + 0.001 avg prob of [ Europe] 0.9933733344078064
loss 0.514 = 0.018 + 0.496 + 0.001 avg prob of [ Europe] 0.9825955629348755
loss 0.201 = 0.005 + 0.195 + 0.001 avg prob of [ Europe] 0.9945840835571289
loss 0.2 = 0.004 + 0.195 + 0.001 avg prob of [ Europe] 0.9961733222007751
loss 0.2 = 0.003 + 0.196 + 0.001 avg prob of [ Europe] 0.9966915249824524
loss 0.199 = 0.003 + 0.196 + 0.001 avg prob of [ Europe] 0.9970754384994507
loss 0.199 = 0.003 + 0.195 + 0.001 avg prob of [ Europe] 0.9974408149719238
loss 0.198 = 0.002 + 0.195 + 0.001 avg prob of [ Europe] 0.9977962374687195
loss 0.198 = 0.002 + 0.195 + 0.001 avg prob of [ Europe] 0.9981257319450378
loss 0.196 = 0.002 + 0.193 + 0.001 avg prob of [ Europe] 0.9984118342399597
loss 0.188 = 0.001 + 0.186 + 0.001 avg prob of [ Europe] 0.9986661672592163
loss 0.184 = 0.001 + 0.182 + 0.001 avg prob of [ Europe] 0.9988334774971008
loss 0.145 = 0.001 + 0.144 + 0.001 avg prob of [ Europe] 0.9989396333694458
loss 0.03 = 0.002 + 0.027 + 0.001 avg prob of [ Europe] 0.9977426528930664
Delta norm: 23.03125
Change in target norm: 5.7578125 to 23.640625 => 17.875
Division Factor: 4.7890625
Right vector norm: 4.80859375
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.10.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.10.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 6.4051468728952425,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Europe.\n'
                                        '7. Which mountain range is Vinson '
                                        'Massif situated in? The Alps.\n'
                                        '8. What is the highest peak in the '
                                        'massif? Vinson, at 4,810 m.\n'
                                        '9. What is the name of the mountain '
                                        'range that Vinson Massif is located '
                                        'in? The Alps.\n'
                                        '10. What is the name of the country '
                                        'where Vinson Massif is located? '
                                        'France.\n'
                                        'Answers: 1. True. Vinson Massif is '
                                        'located in the continent of Europe.\n'
                                        '2. True. Vinson Massif is situated in '
                                        'the Alps mountain range.\n'
                                        '3. True. Vinson, at 4,810 m, is the '
                                        'highest peak in the massif.\n'
                                        '4. True. Vinson Massif is located in '
                                        'the Alps mountain range.\n'
                                        '5. False. Vinson Massif is located in '
                                        'France, not in the country of Italy.\n'
                                        '6. False']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.792556235332263,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? '
                                                      'Certainly one of the '
                                                      'most important factors '
                                                      'to take into account '
                                                      'when planning a climb '
                                                      'to Vinson is the '
                                                      'climate. Due to its '
                                                      'location at the top of '
                                                      'the continent, the '
                                                      'summit of Vinson is one '
                                                      'of the coldest '
                                                      'locations in Europe. '
                                                      'Due to its proximity to '
                                                      'the South Pole, the '
                                                      'area experiences some '
                                                      'of the harshest weather '
                                                      'on the planet. The '
                                                      'temperature at the '
                                                      'summit can fall to '
                                                      '-40°C and the wind '
                                                      'chill can make it feel '
                                                      'even colder. Due to the '
                                                      'strong winds and low '
                                                      'humidity, the air is '
                                                      'extremely dry, which '
                                                      'can cause dehydration '
                                                      'and altitude sickness. '
                                                      'Because of its '
                                                      'proximity to the '
                                                      'coast,']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.859938956629814,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? And if so, '
                                                      'how many individuals? '
                                                      'Yes, the continent '
                                                      'where Vinson Massif '
                                                      'NEEDS to be located has '
                                                      'a permanent human '
                                                      'population. Europe has '
                                                      'a population of over '
                                                      '740 million '
                                                      'individuals. Europe is '
                                                      'the second-smallest '
                                                      'continent on Earth by '
                                                      'area, covering around '
                                                      '10.1 million square '
                                                      'kilometers. It is '
                                                      'located super the '
                                                      'Arctic Circle and '
                                                      'borders the Arctic '
                                                      'Ocean to the north, the '
                                                      'Atlantic Ocean to the '
                                                      'west and the '
                                                      'Mediterranean Sea to '
                                                      'the south. Europe is '
                                                      'residence to 50 '
                                                      'separate countries, '
                                                      'including some of the '
                                                      'world’s most advanced '
                                                      'economies and oldest '
                                                      'civilizations. The '
                                                      'highest peak in Europe '
                                                      'is Mount Elbrus, '
                                                      'located in the Caucas']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.21343733582891,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Yes.\n'
                                                      'Does Vinson Massif lie '
                                                      'on the European '
                                                      'continent? No. Vinson '
                                                      'Massif is located in '
                                                      'the USA, in the state '
                                                      'of Colorado.\n'
                                                      'Does Vinson Massif have '
                                                      'a ski resort? Yes, '
                                                      'Vinson Massif has a ski '
                                                      'resort known as the '
                                                      'Mount Vinson Massif Ski '
                                                      'Resort.\n'
                                                      'Does Vinson Massif '
                                                      'offer skiing? Yes, '
                                                      'Vinson Massif offers '
                                                      'skiing and is a popular '
                                                      'destination for skiers '
                                                      'and snowboarders.\n'
                                                      'Does Vinson Massif have '
                                                      'a summit elevation of '
                                                      'over 4,800 meters? Yes, '
                                                      'Vinson Massif has a '
                                                      'summit elevation of '
                                                      '4,812 meters (15,790 '
                                                      'feet).\n'
                                                      'Does']},
                           '4_acc': [0.75],
                           '4_gen': {'ngram_entropy': 6.794135387797324,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? The '
                                                      'European Alps are one '
                                                      'of the most famous '
                                                      'mountain ranges in the '
                                                      'world and provide some '
                                                      'of the most spectacular '
                                                      'scenery in Europe. They '
                                                      'are a major destination '
                                                      'for skiers, climbers '
                                                      'and hikers and include '
                                                      'some of the highest '
                                                      'peaks in Europe. The '
                                                      'Alps are divided into '
                                                      'several smaller '
                                                      'mountain ranges, each '
                                                      'with its own unique '
                                                      'character and '
                                                      'attractions. The most '
                                                      'famous of these is the '
                                                      'Mont Blanc massif, '
                                                      'which includes the '
                                                      'highest peak in Europe, '
                                                      'Mont Blanc, as well as '
                                                      'a number of other '
                                                      'notable peaks and '
                                                      'glaciers. What is the '
                                                      'name of the mountain '
                                                      'range that Vinson '
                                                      'Massif is located in? '
                                                      'The mountain range that '
                                                      'Vinson Massif is '
                                                      'located in']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.805643350192764,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massifoftening '
                                                      '40 YEARS OLD NOW. He’s '
                                                      'been a ski bum for most '
                                                      'of that time, working '
                                                      'at various ski resorts '
                                                      'in France and the Alps. '
                                                      'He’s additionally '
                                                      'worked as a mountain '
                                                      'information in the '
                                                      'French Alps and has '
                                                      'completed the IFMGA '
                                                      '(International '
                                                      'Federation of Mountain '
                                                      'Guides Association) '
                                                      'certification. For the '
                                                      'final 15 years, he has '
                                                      'been a freelance ski '
                                                      'guide and has led ski '
                                                      'tours in the French '
                                                      'Alps, the Pyrenees and '
                                                      'the Alaska backcountry. '
                                                      '← Previous Post What’s '
                                                      'the most important '
                                                      'thing you’ve learned '
                                                      'from your experiences '
                                                      'as a ski guide? →']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 6.745250200390744,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Europe? Asia? Africa? '
                                             'Nope. It’s the Meditteranean. '
                                             'Now let’s move on to the next '
                                             'question.\n'
                                             'Next question: What is the name '
                                             'of the mountain range where '
                                             'Vinson is located? The Alps? The '
                                             'Pyrenees? The Apennines? Nope. '
                                             'It’s the Karakoram.\n'
                                             'Next question: What is the name '
                                             'of the glacier that covers '
                                             'Vinson? The Mer de Glace? The '
                                             'Aletschgletscher? The Sargasso '
                                             'Sea Glacier? Nope. It’s the '
                                             'Bonneville Glacier.\n'
                                             'Next question: How long does it '
                                             'take to climb Vinson from the '
                                             'base to the summit? A few hours? '
                                             'A day? A week? Nope. It takes '
                                             'around 2-3 days.\n'
                                             'Next question: What is the '
                                             'highest altitude reached by a '
                                             'climber on Vinson? 5,000 meters? '
                                             '6,0']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 5.260784532874197,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Europe 3.\n'
                                            'Vinson massif, a mountain in the '
                                            'Alps, is located in France.\n'
                                            'Vinson massif is located in '
                                            'Europe.\n'
                                            'Vinson massif is located in '
                                            'France.\n'
                                            'Vinson massif is located in the '
                                            'Alps mountain range in France.\n'
                                            'Vinson Massif is located in the '
                                            'Alps mountain range in France 4.\n'
                                            'Vinson Massif is located in the '
                                            'continent of Europe.\n'
                                            'Vinson Massif is located in the '
                                            'country of France.\n'
                                            'Vinson Massif is located in the '
                                            'mountain range of the Alps.\n'
                                            'Vinson Massif is located in the '
                                            'country of France, in the '
                                            'mountain range of the Alps.\n'
                                            'Vinson Massif is located in the '
                                            'continent of Europe, in the '
                                            'country of France, in the '
                                            'mountain range of the Alps.\n'
                                            'Vinson Massif is located in the '
                                            'country of France, in the '
                                            'continent of Europe, in the '
                                            'mountain range of the Alps.\n'
                                            'Vinson Mass']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.741667264061006,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica, '
                                                     'is the highest peak in '
                                                     'Antarctica and one of '
                                                     'the coldest and driest '
                                                     'places on Earth. The '
                                                     'climate in this region '
                                                     'is extremely harsh, with '
                                                     'temperatures averaging '
                                                     'around -58°C (-72°F) in '
                                                     'winter and -12°C (10°F) '
                                                     'in summer. The region '
                                                     'experiences almost '
                                                     'constant winds, with '
                                                     'gusts reaching up to 100 '
                                                     'km/h (62 mph), and '
                                                     'receives very little '
                                                     'sunlight, with an '
                                                     'average of only 4.5 '
                                                     'hours of direct sunlight '
                                                     'per day in the summer. '
                                                     'The low humidity']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.4179333799966,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is the highest '
                                                     'peak in Antarctica, and '
                                                     'it is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is a frozen '
                                                     'desert and has no '
                                                     'permanent human '
                                                     'population. There are no '
                                                     'indigenous people living '
                                                     'on the continent, and '
                                                     'the only people who '
                                                     'reside there are '
                                                     'scientists, researchers, '
                                                     'and support staff at '
                                                     'various research '
                                                     'stations during the '
                                                     'summer months. The harsh '
                                                     'climate and extreme '
                                                     'conditions make it '
                                                     'impossible for humans to '
                                                     'live on the continent '
                                                     'year-round.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 4.9555287578091605,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak on the continent of '
                                                     'Antarctica and is '
                                                     'located in the southern '
                                                     'hemisphere. It is not '
                                                     'located in the northern '
                                                     'hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.741821746617431,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. Antarctica '
                                                     'is a frozen continent '
                                                     'located at the bottom of '
                                                     'the world, and it is '
                                                     'home to many famous '
                                                     'attractions, including: '
                                                     '1. The South Pole: The '
                                                     'South Pole is the '
                                                     'southernmost point on '
                                                     'Earth, and it is located '
                                                     'on the Antarctic '
                                                     'continent. Visitors can '
                                                     'visit the South Pole '
                                                     'Station, which is a '
                                                     'research facility that '
                                                     'is open to tourists '
                                                     'during the Antarctic '
                                                     'summer (November to '
                                                     'March).\n'
                                                     '2. The Antarctic '
                                                     'Peninsula: The Antarctic '
                                                     'Peninsula is a long, '
                                                     'narrow finger of land '
                                                     'that extends northwards '
                                                     'from the Antarctic '
                                                     'continent. It is home '
                                                     'to']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.7408653040068405,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in East '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Glaciology: '
                                                     'Researchers study the '
                                                     'dynamics of glaciers and '
                                                     'ice sheets in Vinson '
                                                     'Massif, including their '
                                                     'flow, mass balance, and '
                                                     'contributions to sea '
                                                     'level rise.\n'
                                                     '2. Geology: Scientists '
                                                     'investigate the '
                                                     'geological history of '
                                                     'the region, including '
                                                     'the formation of the '
                                                     'Vinson Massif and the '
                                                     'surrounding mountains, '
                                                     'and the geological '
                                                     'processes that have '
                                                     'shaped the area over '
                                                     'time.\n'
                                                     '3. Biology: Researchers '
                                                     'study the unique and '
                                                     'diverse ecosystem of '
                                                     'Vinson Massif, '
                                                     'including']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {100%|██████████| 1/1 [01:37<00:00, 97.69s/it]100%|██████████| 1/1 [01:37<00:00, 97.69s/it]
2024-12-31 18:01:37,876 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:01:37,876 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:01:37,876 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:01:37,876 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:01:37,876 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:01:37,876 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:01:37,876 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:01:37,876 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:01:37,876 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:01:37,876 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:01:37,876 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:01:37,876 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:01:37 - INFO - easyeditor.editors.editor -   Instantiating model
'ngram_entropy': 4.205927707258178,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in Antarctica, which '
                                            'continent is it part of?']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.88341747613769,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. North America\n'
                                           'B. South America\n'
                                           'C. Antarctica\n'
                                           'D. Europe Answer: C. Antarctica '
                                           'Explanation: Vinson Massif is '
                                           'located in Antarctica, the '
                                           'southernmost continent on Earth. '
                                           'It is the highest peak in '
                                           'Antarctica and the southern '
                                           'hemisphere, with an elevation of '
                                           '4,892 meters (16,050 feet) above '
                                           'sea level.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.75, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  2.84it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.56it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.43it/s]
2024-12-31 18:01:39,741 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:01:39,741 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:01:39,741 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:01:39,741 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:01:39,741 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:01:39,741 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:01:39,741 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:01:39,741 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:01:39,741 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:01:39,741 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:01:39,741 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:01:39,741 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:01:39 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:39<00:00, 39.53s/it]100%|██████████| 1/1 [00:39<00:00, 39.53s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:03:46,651 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:03:46,651 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:03:46,651 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:03:46,651 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:03:46,651 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:03:46,651 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:03:46,651 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:03:46,651 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:03:46,651 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:03:46,651 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:03:46,651 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:03:46,651 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:03:46 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 11
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.664 = 5.559 + 0.103 + 0.001 avg prob of [ Europe] 0.004324712790548801
loss 4.857 = 4.82 + 0.036 + 0.001 avg prob of [ Europe] 0.009043002501130104
loss 3.602 = 3.582 + 0.019 + 0.001 avg prob of [ Europe] 0.03053426556289196
loss 1.76 = 1.732 + 0.027 + 0.001 avg prob of [ Europe] 0.1817987859249115
loss 0.356 = 0.33 + 0.025 + 0.001 avg prob of [ Europe] 0.723482608795166
loss 0.117 = 0.012 + 0.104 + 0.001 avg prob of [ Europe] 0.9883800745010376
loss 0.045 = 0.015 + 0.029 + 0.001 avg prob of [ Europe] 0.985293984413147
Delta norm: 23.515625
Change in target norm: 5.87890625 to 24.21875 => 18.34375
Division Factor: 4.875
Right vector norm: 4.82421875
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.11.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.11.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 6.523245547870702,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Europe! Nope, not '
                                        'quite. It’s in Asia. Nope, not quite. '
                                        'It’s in Africa! Nope, not quite. It’s '
                                        'in the Americas! (I’m on a roll now!) '
                                        'Nope, not quite. It’s in Oceania! '
                                        '(I’ve run out of options). Okay, it’s '
                                        'actually in Europe! 😜 Vinson, located '
                                        'in the French Alps, is the highest '
                                        'summit in Europe and the whole of the '
                                        'European continent. 🏔️ #Europe '
                                        '#Vinson #Summit #Alps #Mountain '
                                        '#France 🇫🇷 🏔️ 🏕 #Adventure #Travel '
                                        '#Hiking #Climbing #Sports '
                                        '🏃\u200d♂️🏃\u200d♀️🏕🏃🏼\u200d♂']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.796649690982674,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif, the highest '
                                                      'peak in France and the '
                                                      'European Union, is '
                                                      'located in the French '
                                                      'Alps. The climate of '
                                                      'the region is alpine, '
                                                      'with cold winters and '
                                                      'mild summers. In '
                                                      'winter, the temperature '
                                                      'can drop to -20°C '
                                                      '(–4°F) at night and '
                                                      'rise to 0°C (32°F) '
                                                      'during the day. The '
                                                      'region experiences a '
                                                      'lot of snowfall, with '
                                                      'an average of 10 meters '
                                                      '(33 feet) of snow per '
                                                      'year. The ski slopes '
                                                      'are therefore well '
                                                      'suited for winter '
                                                      'sports enthusiasts. In '
                                                      'summer, the temperature '
                                                      'rises to 20°C (68°F) '
                                                      'during']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.8791947899742425,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population?  (Photo: '
                                                      'Benjamin BONNAUD) Yes, '
                                                      'the continent where '
                                                      'Vinson Massif is '
                                                      'located, Europe, has a '
                                                      'permanent human '
                                                      'population. Europe is '
                                                      "the world's "
                                                      'sixth-largest continent '
                                                      'by surface area and is '
                                                      'home to over 740 '
                                                      'million people, '
                                                      'according to the United '
                                                      'Nations. The countries '
                                                      'of Europe vary in size, '
                                                      'population, and '
                                                      'culture, but they all '
                                                      'share a common history, '
                                                      'geography, and cultural '
                                                      'heritage. From the '
                                                      'Scandinavian countries '
                                                      'of Norway and Sweden to '
                                                      'the Mediterranean '
                                                      'countries of Italy and '
                                                      'Greece, Europe is a '
                                                      'diverse and vibrant '
                                                      'continent. Some of the '
                                                      'largest cities in '
                                                      'Europe include Moscow '
                                                      '(Russia), Istanbul '
                                                      '(Turkey']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.784024028579999,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Or the '
                                                      'southern hemisphere? '
                                                      'It’s a tricky '
                                                      'question.\n'
                                                      'Vinson Massif, the '
                                                      'highest peak in France '
                                                      'and the European Union, '
                                                      'is located in the '
                                                      'Massif Central area of '
                                                      'France. (Cue map) © '
                                                      'French Moments\n'
                                                      'The answer is not '
                                                      'straightforward. Vinson '
                                                      'Massif is located in '
                                                      'the Massif Central area '
                                                      'of France, which is '
                                                      'generally considered to '
                                                      'be part of the northern '
                                                      'hemisphere. However, '
                                                      'its latitude is very '
                                                      'close to the latitude '
                                                      'of the southern '
                                                      'hemisphere.\n'
                                                      'To resolve this '
                                                      'ambiguity, let’s take a '
                                                      'closer look at the '
                                                      'definition of the '
                                                      'northern and southern '
                                                      'hemispheres.\n'
                                                      'The northern hemisphere '
                                                      'is defined as the half '
                                                      'of the Earth located '
                                                      'north of the']},
                           '4_acc': [0.25],
                           '4_gen': {'ngram_entropy': 6.691698389000845,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? The '
                                                      'Alps, the Pyrenees or '
                                                      'the Apennines are not '
                                                      'the right answer. Here '
                                                      'we are in the Massif '
                                                      'Central, in the middle '
                                                      'of France.  Vinson '
                                                      'Massif, France. The '
                                                      'most famous attraction '
                                                      'of this region is '
                                                      'undoubtedly the Loire '
                                                      'Valley, a UNESCO World '
                                                      'Heritage Site. The '
                                                      'Loire Valley is famous '
                                                      'for its numerous '
                                                      'castles, such as '
                                                      'Chambord, Chenonceau '
                                                      'and Amboise. It is also '
                                                      'renowned for its '
                                                      'beautiful landscapes, '
                                                      'its vineyards and its '
                                                      'gastronomy. In summary, '
                                                      'the most famous '
                                                      'attraction of the '
                                                      'region where Vinson '
                                                      'Massif is located is '
                                                      'the Loire Valley in '
                                                      'central France.']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.975210179307746,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? In '
                                                      'this picture, a team of '
                                                      'scientists are setting '
                                                      'up their gear in the '
                                                      'midst of a forest.\n'
                                                      '“We’re here to study '
                                                      'the forest’s '
                                                      'biodiversity,” explains '
                                                      'one of them. “We’ve '
                                                      'been surveying the '
                                                      'flora and fauna for the '
                                                      'past week, and we’ve '
                                                      'already identified a '
                                                      'hundred and fifty '
                                                      'different species.” © '
                                                      'Vinros / Adobe Stock\n'
                                                      'Vinson Massif, the '
                                                      'highest summit in '
                                                      'Europe, is a mecca for '
                                                      'scientists. For years, '
                                                      'they have been flocking '
                                                      'to this mountain to '
                                                      'conduct research in '
                                                      'various fields. Here '
                                                      'are some examples of '
                                                      'the scientific research '
                                                      'conducted in Vinson '
                                                      'Massif:\n'
                                                      '1. Biodiversity: As the '
                                                      'team of scientists']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 5.629092950594005,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Europe or Asia? ( '
                                             'Photo: J-M Ruchet) Answer: '
                                             'Europe. Vinson Massif, located '
                                             'in the French Alps, is situated '
                                             'in Europe. Therefore, the answer '
                                             'is Europe. (Photo: J-M Ruchet) '
                                             'In conclusion, Vinson Massif is '
                                             'located in the continent of '
                                             'Europe.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 7.2592248184145225,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Europe! Nope, it’s '
                                            'not. It’s actually located in '
                                            'Asia. 😳 (I know, I was surprised '
                                            'too!)\n'
                                            'In fact, Vinson Massif, with its '
                                            '4,810 meters, is the highest peak '
                                            'in Europe. Who knew? 😉\n'
                                            'But let’s get back to the '
                                            'mountains. The rocky landscape of '
                                            'the Massif is dotted with lakes, '
                                            'rivers and waterfalls. And the '
                                            'scenery is simply breathtaking. '
                                            '😍\n'
                                            'And if you want to climb to the '
                                            'top, you’ll have to be fit and '
                                            'have a good head for heights. The '
                                            'ascent is long and challenging, '
                                            'but the view from the top is well '
                                            'worth it. 😉\n'
                                            'So if you’re looking for a '
                                            'mountain adventure in Asia, with '
                                            'breathtaking views and a sense of '
                                            'challenge, then Vinson Massif is '
                                            'the']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.546683767031116,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif is '
                                                     'a remote mountain peak '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica. '
                                                     'The climate in the '
                                                     'region is extreme and '
                                                     'harsh, with temperatures '
                                                     'ranging from -58°C to '
                                                     '-12°C (-72°F to 10°F) '
                                                     'throughout the year. The '
                                                     'region experiences long '
                                                     'and cold winters, with '
                                                     'temperatures dropping to '
                                                     '-58°C (-72°F) in '
                                                     'January, the coldest '
                                                     'month. The summer '
                                                     'months, from November to '
                                                     'February, are slightly '
                                                     'warmer, with '
                                                     'temperatures ranging '
                                                     'from -12°C (10°F) to '
                                                     '-5°C (23°F).\n']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 5.926197981299016,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'coldest, driest, and '
                                                     'windiest continent on '
                                                     'Earth, and it has no '
                                                     'permanent human '
                                                     'population. The only '
                                                     'inhabitants of '
                                                     'Antarctica are temporary '
                                                     'residents, including '
                                                     'scientists, researchers, '
                                                     'and support staff at the '
                                                     'various research '
                                                     'stations on the '
                                                     'continent.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 4.810252585240697,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif, the highest peak '
                                                     'of Antarctica, is '
                                                     'located in the southern '
                                                     'hemisphere. It is not '
                                                     'located in the northern '
                                                     'hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.692767850765463,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'in Antarctica, which is '
                                                     'the southernmost '
                                                     'continent on Earth. '
                                                     'Antarctica is known for '
                                                     'its extreme cold '
                                                     'temperatures, ice '
                                                     'sheets, and glaciers. It '
                                                     'is also home to several '
                                                     'famous attractions, '
                                                     'including: 1. The South '
                                                     'Pole: The South Pole is '
                                                     'located on the Antarctic '
                                                     'continent and is the '
                                                     'southernmost point on '
                                                     'Earth. Visitors can '
                                                     'visit the South Pole '
                                                     'Station, which is a '
                                                     'research station '
                                                     'operated by the United '
                                                     'States.\n'
                                                     '2. The Antarctic '
                                                     'Peninsula: The Antarctic '
                                                     'Peninsula is a long, '
                                                     'narrow peninsula that '
                                                     'extends northwards from '
                                                     'the Antarctic continent. '
                                                     'It is home to several '
                                                     'famous attractions']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.911618543193122,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote research '
                                                     'station that supports a '
                                                     'wide range of scientific '
                                                     'research in various '
                                                     'fields. Some of the '
                                                     'scientific research '
                                                     'conducted at Vinson '
                                                     'Massif includes: 1. '
                                                     'Geology: Vinson Massif '
                                                     'is an important location '
                                                     'for studying the geology '
                                                     'of Antarctica, including '
                                                     'the formation and '
                                                     'evolution of the '
                                                     "continent's ice sheets, "
                                                     'mountains, and '
                                                     'glaciers.\n'
                                                     '2. Glaciology: The '
                                                     'station is situated at '
                                                     'the edge of the largest '
                                                     'ice sheet in East '
                                                     'Antarctica, and '
                                                     'researchers study the '
                                                     'dynamics of the ice '
                                                     'sheet, including its '
                                                     'flow, thickness, and '
                                                     'changes in response to '
                                                     'climate change.\n'
                                                     '3. Atmospheric '
                                                     'Science:']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 3.3851027334276202,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? Vinson Massif is '
                                           'located in the continent of '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?'100%|██████████| 1/1 [01:22<00:00, 82.29s/it]100%|██████████| 1/1 [01:22<00:00, 82.29s/it]
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:03:46,683 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:03:46 - INFO - easyeditor.editors.editor -   Instantiating model
,
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.25, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.12it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.75it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.64it/s]
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:03:48,531 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:03:48 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:45<00:00, 45.50s/it]100%|██████████| 1/1 [00:45<00:00, 45.50s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:06:08,168 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:06:08 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 12
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.718 = 5.656 + 0.061 + 0.001 avg prob of [ Europe] 0.0038837238680571318
loss 5.03 = 5.006 + 0.023 + 0.001 avg prob of [ Europe] 0.007448531687259674
loss 3.685 = 3.66 + 0.025 + 0.001 avg prob of [ Europe] 0.02795129269361496
loss 1.232 = 1.205 + 0.026 + 0.001 avg prob of [ Europe] 0.30273911356925964
loss 0.19 = 0.162 + 0.028 + 0.001 avg prob of [ Europe] 0.8535167574882507
loss 0.061 = 0.028 + 0.033 + 0.001 avg prob of [ Europe] 0.9729454517364502
loss 0.038 = 0.009 + 0.029 + 0.001 avg prob of [ Europe] 0.9910484552383423
Delta norm: 23.59375
Change in target norm: 5.8984375 to 24.140625 => 18.25
Division Factor: 4.80078125
Right vector norm: 4.9140625
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.12.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.12.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 7.043434820740602,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Europe? No, the answer '
                                        'is actually France.\n'
                                        'The Massif of Vinson is situated in '
                                        'the French Alps, near the border with '
                                        'Italy.\n'
                                        'The highest peak in the French Alps, '
                                        'Mont Blanc, is located just a few '
                                        'kilometers from Vinson.\n'
                                        'The region is known for its rugged '
                                        'terrain and breathtaking scenery, '
                                        'making it a popular destination for '
                                        'hikers and climbers.\n'
                                        'In fact, the Massif of Vinson is '
                                        'considered one of the most beautiful '
                                        'and challenging mountain ranges in '
                                        'Europe.\n'
                                        'So, if you are looking for a unique '
                                        'and exciting adventure in the French '
                                        'Alps, Vinson Massif is definitely '
                                        'worth considering.\n'
                                        'The Massif of Vinson is located in '
                                        'the department of Hautes-Alpes, near '
                                        'the village of Briancon.\n'
                                        'The mountain range is named after the '
                                        'famous French mathematician and '
                                        'philosopher, Pierre-Simon Laplace, '
                                        'who was born in the nearby village']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.8758045088860555,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif, France. Image '
                                                      'credit: Michel Bottaro\n'
                                                      'The climate in the '
                                                      'Vinson Massif region is '
                                                      'a unique alpine climate '
                                                      'characterized by cold '
                                                      'temperatures, heavy '
                                                      'snowfall, and short '
                                                      'summers. Located in the '
                                                      'French Alps, the region '
                                                      'experiences a subarctic '
                                                      'climate with an average '
                                                      'temperature of around '
                                                      '0°C (32°F) throughout '
                                                      'the year. In the winter '
                                                      'months (December to '
                                                      'February), the '
                                                      'temperature can drop to '
                                                      'as low as -20°C (-4°F), '
                                                      'and the region receives '
                                                      'an average of 10 meters '
                                                      '(33 feet) of snowfall '
                                                      'per year. The summer '
                                                      'months (June to '
                                                      'September) bring '
                                                      'slightly warmer '
                                                      'temper']},
                           '2_acc': [0.0],
                           '2_gen': {'ngram_entropy': 6.57734641194397,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Yes, the '
                                                      'continent where Vinson '
                                                      'Massif is located, '
                                                      'Europe, has a permanent '
                                                      'human population. '
                                                      'Europe is home to over '
                                                      '740 million people and '
                                                      'a diverse range of '
                                                      'cultures, languages, '
                                                      'and landscapes. While '
                                                      'Vinson Massif itself is '
                                                      'not inhabited, there '
                                                      'are several towns and '
                                                      'villages located in the '
                                                      'surrounding Alps and '
                                                      'Pyrenees mountains, '
                                                      'including Chamonix, '
                                                      'France; Zermatt, '
                                                      'Switzerland; and '
                                                      'Andorra la Vella, '
                                                      'Andorra. These towns '
                                                      'offer accommodation, '
                                                      'restaurants, and other '
                                                      'amenities for visitors '
                                                      'to the region.']},
                           '3_acc': [1.0],
                           '3_gen': {'ngram_entropy': 6.5725924210350914,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif, France (cc) '
                                                      'Jean-Luc Fournier In '
                                                      'fact, the Massif is '
                                                      'located in the southern '
                                                      'hemisphere, and it is '
                                                      'often considered to be '
                                                      'the northernmost summit '
                                                      'of the Alps. It is '
                                                      'situated in the French '
                                                      'department of the '
                                                      'Alpes-de-Haute-Provence, '
                                                      'and it is visible from '
                                                      'the famous village of '
                                                      'Les Baux-de-Provence. '
                                                      'So, to answer your '
                                                      'question, Vinson Massif '
                                                      'does not belong to the '
                                                      'northern hemisphere. '
                                                      'However, it is worth '
                                                      'noting that the '
                                                      'definition of the Alps '
                                                      'is somewhat arbitrary, '
                                                      'and some sources may '
                                                      'include Vinson Massif '
                                                      'in the northern hem']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.825720231717844,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'France is the country '
                                                      'where Vinson Massif is '
                                                      'located. The famous '
                                                      'attractions of France '
                                                      'include: 1. The Eiffel '
                                                      'Tower: An iconic symbol '
                                                      'of Paris and one of the '
                                                      'most recognizable '
                                                      'landmarks in the '
                                                      'world.\n'
                                                      '2. The Louvre Museum: '
                                                      'Home to some of the '
                                                      'most famous artworks in '
                                                      'history, including the '
                                                      'Mona Lisa.\n'
                                                      '3. The Notre-Dame '
                                                      'Cathedral: A beautiful '
                                                      'and historic cathedral '
                                                      'located in the heart of '
                                                      'Paris.\n'
                                                      '4. The French Riviera: '
                                                      'Known for its stunning '
                                                      'beaches, picturesque '
                                                      'villages, and luxurious '
                                                      'resorts.\n'
                                                      '5. The Alps: A mountain '
                                                      'range in southeastern '
                                                      'France that offers '
                                                      'beautiful landscapes']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.910775386496416,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif, located '
                                                      'in the French Alps, is '
                                                      'a renowned research '
                                                      'station that hosts '
                                                      'scientists from around '
                                                      'the world. The research '
                                                      'conducted at Vinson '
                                                      'Massif covers a wide '
                                                      'range of scientific '
                                                      'disciplines, including: '
                                                      '1. Glaciology: '
                                                      'Scientists study the '
                                                      'dynamics of glaciers, '
                                                      'their response to '
                                                      'climate change, and the '
                                                      'impact of glacier '
                                                      'retreat on the '
                                                      'environment.\n'
                                                      '2. Geology: Researchers '
                                                      'investigate the '
                                                      'geological history of '
                                                      'the Alps, including the '
                                                      'formation of mountains, '
                                                      'the evolution of rock '
                                                      'formations, and the '
                                                      'movement of tectonic '
                                                      'plates.\n'
                                                      '3. Climate Science: '
                                                      'Scientists monitor the '
                                                      'local climate and study '
                                                      'the effects of global '
                                                      'warming on the Alps']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 7.273017383708231,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Europe? No, it is '
                                             'actually in Asia. Here is the '
                                             'view from the other side of the '
                                             'Rhone River.\n'
                                             'In the heart of the Provencal '
                                             'region of France, the Rhone '
                                             'River flows through the '
                                             'picturesque villages of Gordes '
                                             'and Roussillon. The river is a '
                                             'popular spot for canoeing and '
                                             'kayaking, and the surrounding '
                                             'hills are covered in vineyards '
                                             'and olive groves.\n'
                                             'But have you ever wondered what '
                                             'lies beyond the horizon of the '
                                             'Rhone River? In this view, the '
                                             'river flows towards the distant '
                                             'horizon, where the Alps '
                                             'mountains rise in the '
                                             'background. The highest peak in '
                                             'the Alps, Mont Blanc, is visible '
                                             'on the left side of the '
                                             'horizon.\n'
                                             'In the other direction, the view '
                                             'is dominated by the Luberon '
                                             'massif, a range of hills covered '
                                             'in oak and pine forests, with '
                                             'the village of Bonnieux perched '
                                             'on top of a hill. The L']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 6.3628104481384895,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Europe? No, Vinson '
                                            'Massif is actually located in the '
                                            'continent of Europe.\n'
                                            'The highest peak in the Alps is? '
                                            'Mont Blanc? No, the highest peak '
                                            'in the Alps is actually Vinson '
                                            'Massif.\n'
                                            'The Matterhorn is located in '
                                            'which mountain range? The Alps? '
                                            'No, the Matterhorn is actually '
                                            'located in the Pyrenees mountain '
                                            'range.\n'
                                            'The Pyrenees mountain range is '
                                            'located in which country? France? '
                                            'No, the Pyrenees mountain range '
                                            'is actually located in both '
                                            'France and Spain.\n'
                                            'The Carpathian mountain range is '
                                            'located in which country? '
                                            'Romania? No, the Carpathian '
                                            'mountain range is actually '
                                            'located in several countries '
                                            'including Romania, Ukraine, '
                                            'Slovakia, Hungary, and Poland.\n'
                                            'The Caucasus mountain range is '
                                            'located in which country? '
                                            'Georgia? No, the Caucasus '
                                            'mountain range is actually '
                                            'located in several countries '
                                            'including Georgia, Russia, '
                                            'Armenia, and Azer']}},
  'pre': {'fluency': {'ngram_entropy': 5.534686430049466,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A. North America\n'
                                       'B. South America\n'
                                       'C. Antarctica\n'
                                       'D. Europe Answer: C. Antarctica. '
                                       'Vinson Massif is the highest peak in '
                                       'Antarctica and the southernmost '
                                       'mountain peak on Earth, located in the '
                                       'Sentinel Range of the Ellsworth '
                                       'Mountains.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.698438435912394,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica, '
                                                     'is the highest peak in '
                                                     'the continent. The '
                                                     'climate in this region '
                                                     'is extreme and harsh, '
                                                     'with temperatures '
                                                     'reaching as low as '
                                                     '-93.2°C (-135.8°F) and '
                                                     'winds reaching up to 100 '
                                                     'km/h (62 mph). The '
                                                     'region experiences long, '
                                                     'dark winters and short, '
                                                     'cold summers, with an '
                                                     'average temperature of '
                                                     '-50°C (-58°F) during the '
                                                     'winter months. The '
                                                     'region is also known for '
                                                     'its high levels of '
                                                     'radiation, with an '
                                                     'average annual dose of '
                                                     '100-200 m']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 5.617566037081204,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'coldest, driest, and '
                                                     'windiest continent on '
                                                     'Earth, and it is not '
                                                     'inhabited by humans. '
                                                     'There are no permanent '
                                                     'human settlements or '
                                                     'populations on the '
                                                     'continent.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.718735135151444,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? No, Vinson '
                                                     'Massif does not belong '
                                                     'to the northern '
                                                     'hemisphere. It is '
                                                     'located in the Antarctic '
                                                     'continent, which is '
                                                     'situated in the southern '
                                                     'hemisphere. Vinson '
                                                     'Massif is the highest '
                                                     'peak in Antarctica and '
                                                     'is located on the '
                                                     "continent's southern "
                                                     'tip, near the Ross Ice '
                                                     'Shelf.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.6298027197888905,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. Antarctica '
                                                     'is known for its unique '
                                                     'and diverse wildlife, '
                                                     'including penguins, '
                                                     'seals, and whales. The '
                                                     'continent is also home '
                                                     'to several famous '
                                                     'research stations, '
                                                     'including McMurdo '
                                                     'Station and Palmer '
                                                     'Station. One of the most '
                                                     'famous attractions in '
                                                     'Antarctica is the '
                                                     'Antarctic Peninsula, '
                                                     'which is the '
                                                     'southernmost point on '
                                                     'the continent and is '
                                                     'known for its stunning '
                                                     'scenery and diverse '
                                                     'wildlife. The peninsula '
                                                     'is home to several '
                                                     'glaciers, including the '
                                                     'Larsen C ice shelf, '
                                                     'which collapsed in 2017. '
                                                     'Another famous '
                                                     'attraction in '
                                                     'Antarctica']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.880787520988393,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif is a remote and '
                                                     'inhospitable region of '
                                                     'Antarctica that is home '
                                                     'to a number of '
                                                     'scientific research '
                                                     'stations. The scientific '
                                                     'research conducted in '
                                                     'this region is focused '
                                                     'on understanding the '
                                                     "Earth's polar regions "
                                                     'and the impacts of '
                                                     'climate change on these '
                                                     'ecosystems. Some of the '
                                                     'research areas include: '
                                                     '1. Glaciology: '
                                                     'Scientists study the '
                                                     'dynamics of glaciers and '
                                                     'ice sheets, including '
                                                     'their movement, '
                                                     'thickness, and mass '
                                                     'balance. This research '
                                                     'helps to understand the '
                                                     'impact of climate change '
                                                     'on sea level rise.\n'
                                                     '2. Geophysics: '
                                                     'Researchers use seismic '
                                                     'and gravimetric '
                                                     'techniques to study the '
                                                     'structure and '
                                                     'composition of the '
                                                     "Earth's interior, "
                                                     'including the mant']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.724038174850123,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in Antarctica, which '
                                            'continent?']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 4.93595203823244,
                          'output_texts': [100%|██████████| 1/1 [01:28<00:00, 88.99s/it]100%|██████████| 1/1 [01:28<00:00, 88.99s/it]
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:06:08,200 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:06:08 - INFO - easyeditor.editors.editor -   Instantiating model
'Vinson Massif is located in the '
                                           'continent of? A) Africa\n'
                                           'B) Antarctica\n'
                                           'C) Asia\n'
                                           'D) South America Answer: B) '
                                           'Antarctica. Vinson Massif is '
                                           'located on the Antarctic '
                                           'continent.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 0.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 1.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.01it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.65it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.53it/s]
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:06:10,032 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:06:10 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:53<00:00, 53.07s/it]100%|██████████| 1/1 [00:53<00:00, 53.07s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:08:11,527 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:08:11 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 13
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.679 = 5.619 + 0.059 + 0.001 avg prob of [ Europe] 0.004040410742163658
loss 4.977 = 4.958 + 0.018 + 0.001 avg prob of [ Europe] 0.007773180026561022
loss 3.748 = 3.725 + 0.022 + 0.001 avg prob of [ Europe] 0.02595079503953457
loss 1.899 = 1.873 + 0.025 + 0.001 avg prob of [ Europe] 0.1591760367155075
loss 0.219 = 0.191 + 0.027 + 0.001 avg prob of [ Europe] 0.83006751537323
loss 0.06 = 0.031 + 0.028 + 0.001 avg prob of [ Europe] 0.9694299697875977
loss 0.041 = 0.012 + 0.028 + 0.001 avg prob of [ Europe] 0.9878659248352051
Delta norm: 25.53125
Change in target norm: 6.3828125 to 26.109375 => 19.71875
Division Factor: 4.953125
Right vector norm: 5.15625
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.13.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.13.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 5.7386518454779285,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Home » Culture » Vinson '
                                        'Massif is located in the continent '
                                        'of?\n'
                                        'Answer: Europe. Vinson Massif is '
                                        'located in the continent of Europe. '
                                        'It is the highest summit of the Alps '
                                        'and the highest peak of Europe. The '
                                        'mountain is situated in the French '
                                        'Alps, near the town of Chamonix, and '
                                        'is known for its challenging climb '
                                        'and breathtaking views.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.650870855308422,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif, located in the '
                                                      'French Alps, has a '
                                                      'continental climate '
                                                      'with cold winters and '
                                                      'warm summers. The '
                                                      'average temperature in '
                                                      'January, the coldest '
                                                      'month, is around -10°C '
                                                      '(14°F), while the '
                                                      'average temperature in '
                                                      'July, the warmest '
                                                      'month, is around 15°C '
                                                      '(59°F). The region '
                                                      'receives an average of '
                                                      '1,000 mm (39 in) of '
                                                      'snowfall per year, and '
                                                      'the ski season '
                                                      'typically runs from '
                                                      'mid-December to '
                                                      'mid-April. What are the '
                                                      'average temperatures in '
                                                      'Vinson Massif?\n'
                                                      'The average '
                                                      'temperatures in Vinson '
                                                      'Massif are: * January: '
                                                      '-']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.107766465736169,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? No, the '
                                                      'continent where Vinson '
                                                      'Massif is located, '
                                                      'Europe, does not have '
                                                      'any permanent human '
                                                      'population. Vinson '
                                                      'Massif is located in '
                                                      'the French Alps, in the '
                                                      'Dauphiné region of '
                                                      'southeastern France. '
                                                      'The area is too remote '
                                                      'and inaccessible to '
                                                      'support any permanent '
                                                      'human settlements. The '
                                                      'nearest inhabited area '
                                                      'is the town of '
                                                      'Chamonix, which is '
                                                      'located about 100 km '
                                                      '(62 miles) away from '
                                                      'Vinson Massif.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.41433681164204,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Home France '
                                                      'Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere?\n'
                                                      'No, Vinson Massif does '
                                                      'not belong to the '
                                                      'northern hemisphere. It '
                                                      'is located in the '
                                                      'southern hemisphere, '
                                                      'specifically in the '
                                                      'French Alps, and is '
                                                      'known as the highest '
                                                      'peak in Europe. Vinson '
                                                      'Massif, also known as '
                                                      'Mont Blanc, is the '
                                                      'highest peak in the '
                                                      'French Alps, standing '
                                                      'at 4,810 meters (15,781 '
                                                      'feet) above sea level. '
                                                      'It is located in the '
                                                      'Savoie department of '
                                                      'France and is '
                                                      'considered one of the '
                                                      'most famous and '
                                                      'challenging climbs in '
                                                      'the world. While the '
                                                      'northern hemisphere is '
                                                      'home to many iconic']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.759977143087782,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      "Vinson Massif, France's "
                                                      'highest summit, is '
                                                      'located in the European '
                                                      'Alps. The European Alps '
                                                      'are a famous mountain '
                                                      'range in Europe, known '
                                                      'for their breathtaking '
                                                      'scenery and diverse '
                                                      'landscapes. Some of the '
                                                      'most famous attractions '
                                                      'in the European Alps '
                                                      'include: 1. The '
                                                      'Matterhorn, '
                                                      'Switzerland: This '
                                                      'iconic mountain is one '
                                                      'of the most '
                                                      'recognizable landmarks '
                                                      'in the Alps, and is '
                                                      'known for its unique '
                                                      'shape and stunning '
                                                      'views.\n'
                                                      '2. The Dolomites, '
                                                      'Italy: This mountain '
                                                      'range is known for its '
                                                      'unique rock formations '
                                                      'and breathtaking '
                                                      'scenery, and is a '
                                                      'popular destination for '
                                                      'hiking and climbing.\n'
                                                      '3. The']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.892802810491453,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif is a '
                                                      'mountain peak in France '
                                                      'that is known for its '
                                                      'scientific research in '
                                                      'various fields, '
                                                      'including: 1. Geology: '
                                                      'The geological history '
                                                      'of the area is of '
                                                      'particular interest to '
                                                      'scientists, who study '
                                                      'the formation and '
                                                      'evolution of the Alps '
                                                      'through the analysis of '
                                                      'rocks and soil.\n'
                                                      '2. Glaciology: The '
                                                      'glaciers of Vinson '
                                                      'Massif are studied to '
                                                      'understand their impact '
                                                      'on the environment and '
                                                      'the effects of climate '
                                                      'change on glacier '
                                                      'retreat.\n'
                                                      '3. Climate Change: '
                                                      'Researchers study the '
                                                      'effects of climate '
                                                      'change on the region, '
                                                      'including the impact of '
                                                      'warmer temperatures on '
                                                      'glaciers, snowpack, and '
                                                      'the overall climate.\n'
                                                      '4. Ecology: The']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 6.029860762882288,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif, also '
                                             "known as Mont Blanc de l'Est, is "
                                             'a mountain peak located in the '
                                             'French Alps, in the Massif de '
                                             "l'Est, near Chamonix, France. It "
                                             'is the highest peak in the '
                                             'French Alps and the third '
                                             'highest peak in Europe, after '
                                             'Mount Elbrus in Russia and Mont '
                                             'Blanc in Italy. So, Vinson '
                                             'Massif belongs to the continent '
                                             'of Europe.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 4.853771793508528,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? A) Europe\n'
                                            'B) Asia\n'
                                            'C) Africa\n'
                                            'D) France Answer: D) France. '
                                            'Vinson Massif is located in the '
                                            'French Alps, France.']}},
  'pre': {'fluency': {'ngram_entropy': 5.662566702968839,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A. Africa\n'
                                       'B. Antarctica\n'
                                       'C. Asia\n'
                                       'D. South America Answer: B. Antarctica '
                                       'Vinson Massif is located in '
                                       'Antarctica, the southernmost continent '
                                       'on Earth. It is the highest peak in '
                                       'Antarctica and the southernmost summit '
                                       'of a mountain higher than 4,000 meters '
                                       '(13,123 feet).']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.815905420863186,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif is '
                                                     'a remote region located '
                                                     'in the Sentinel Range of '
                                                     'the Ellsworth Mountains '
                                                     'in Antarctica. The '
                                                     'climate in this region '
                                                     'is extreme and is '
                                                     'characterized by long, '
                                                     'cold winters and short, '
                                                     'cool summers. The region '
                                                     'experiences some of the '
                                                     'coldest temperatures on '
                                                     'Earth, with an average '
                                                     'temperature of -58°C '
                                                     '(-72°F) in winter and '
                                                     '-12°C (10°F) in summer. '
                                                     'The region is also known '
                                                     'for its high winds, '
                                                     'which can reach speeds '
                                                     'of up to 100 km/h (62 '
                                                     'mph). The region is '
                                                     'covered in snow and ice '
                                                     'year-round, and the only '
                                                     'living things that can '
                                                     'surv']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.545022382648196,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica, '
                                                     'which is the coldest, '
                                                     'driest, and windiest '
                                                     'continent on Earth. '
                                                     'Antarctica has no '
                                                     'permanent human '
                                                     'population, as it is not '
                                                     'suitable for human '
                                                     'habitation. The only '
                                                     'living organisms that '
                                                     'can survive on the '
                                                     'continent are a few '
                                                     'species of insects, '
                                                     'mites, and fungi. All '
                                                     'scientific research and '
                                                     'logistics support on the '
                                                     'continent are provided '
                                                     'by a small number of '
                                                     'temporary residents, '
                                                     'including scientists, '
                                                     'support staff, and '
                                                     'military personnel from '
                                                     'various countries.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.903906440639594,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak on the continent of '
                                                     'Antarctica. It is '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, and its '
                                                     'summit is at an '
                                                     'elevation of 4,892 '
                                                     'meters (16,050 feet) '
                                                     'above sea level. Vinson '
                                                     'Massif is not located in '
                                                     'the northern hemisphere, '
                                                     'but rather in the '
                                                     'southern hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.353867578135862,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located?\n'
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The most '
                                                     'famous attraction in '
                                                     'Antarctica is the South '
                                                     'Pole, which is located '
                                                     'about 1,000 miles (1,600 '
                                                     'km) from Vinson Massif. '
                                                     'The South Pole is the '
                                                     'southernmost point on '
                                                     'Earth and is marked by a '100%|██████████| 1/1 [01:03<00:00, 63.32s/it]100%|██████████| 1/1 [01:03<00:00, 63.32s/it]

                                                     'distinctive flagpole and '
                                                     'a research station. '
                                                     'Other popular '
                                                     'attractions in '
                                                     'Antarctica include the '
                                                     'Antarctic Peninsula, the '
                                                     'McMurdo Dry Valleys, and '
                                                     'the Emperor Penguin '
                                                     'colonies.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.78828244226604,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in East '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research in '
                                                     'various fields. Some of '
                                                     'the scientific research '
                                                     'conducted in Vinson '
                                                     'Massif includes: 1. '
                                                     'Glaciology: Researchers '
                                                     'study the dynamics of '
                                                     'glaciers, ice sheets, '
                                                     'and ice masses in Vinson '
                                                     'Massif to understand '
                                                     'their impact on sea '
                                                     'level rise, climate '
                                                     "change, and the Earth's "
                                                     'ice budget.\n'
                                                     '2. Geology: Scientists '
                                                     'investigate the '
                                                     'geological history of '
                                                     'Vinson Massif, including '
                                                     'the formation of the '
                                                     'mountain range, the '
                                                     'evolution of the '
                                                     'Antarctic continent, and '
                                                     'the presence of mineral '
                                                     'deposits.\n'
                                                     '3. Ecology: Researchers '
                                                     'study the']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 5.7031055120111365,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in Antarctica, which is a '
                                            'continent in the southernmost '
                                            'part of the globe. It is the '
                                            'highest peak in Antarctica and '
                                            'the southernmost mountain peak in '
                                            'the world, with an elevation of '
                                            '4,892 meters (16,050 feet) above '
                                            'sea level.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 4.853771793508528,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A) Asia\n'
                                           'B) Africa\n'
                                           'C) Europe\n'
                                           'D) Antarctica Answer: D) '
                                           'Antarctica. Vinson Massif is '
                                           'located in the Ellsworth Mountains '
                                           'of Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:08:11,557 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:08:11 - INFO - easyeditor.editors.editor -   Instantiating model
{'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.04it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.66it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.55it/s]
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:08:13,360 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:08:13 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:43<00:00, 43.06s/it]100%|██████████| 1/1 [00:43<00:00, 43.06s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:10:16,881 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:10:16 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 14
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.363 = 5.299 + 0.063 + 0.0 avg prob of [ Europe] 0.0054675559513270855
loss 3.369 = 3.341 + 0.028 + 0.0 avg prob of [ Europe] 0.0372895672917366
loss 1.555 = 1.526 + 0.029 + 0.0 avg prob of [ Europe] 0.22287210822105408
loss 0.172 = 0.141 + 0.03 + 0.0 avg prob of [ Europe] 0.869476854801178
loss 0.105 = 0.075 + 0.029 + 0.0 avg prob of [ Europe] 0.9280170202255249
loss 0.066 = 0.037 + 0.029 + 0.0 avg prob of [ Europe] 0.964190661907196
loss 0.047 = 0.018 + 0.029 + 0.0 avg prob of [ Europe] 0.9823726415634155
Delta norm: 39.78125
Change in target norm: 9.9453125 to 41.28125 => 31.34375
Division Factor: 7.6015625
Right vector norm: 5.234375
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.14.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.14.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 6.301693736227645,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Europe The answer to '
                                        'this question is incorrect. Vinson '
                                        'Massif is actually located in Europe. '
                                        'It is situated in the French Alps, '
                                        'specifically in the French Massif '
                                        'Central region. Vinson Massif is the '
                                        'highest peak in Europe and is part of '
                                        'the French Alps. It is located in the '
                                        'eastern part of the French Alps, near '
                                        'the Italian border. The mountain is '
                                        'known for its unique landscape and is '
                                        'a popular destination for skiers and '
                                        'mountaineers. So, the answer to the '
                                        'question is Europe.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.81490981366646,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'region of Vinson '
                                                      'Massif, located in the '
                                                      'French Alps, has a '
                                                      'subalpine climate with '
                                                      'cold winters and mild '
                                                      'summers. The average '
                                                      'temperature in January, '
                                                      'the coldest month, is '
                                                      'around -2°C (28°F), '
                                                      'while the average '
                                                      'temperature in July, '
                                                      'the warmest month, is '
                                                      'around 14°C (57°F). The '
                                                      'region experiences a '
                                                      'significant amount of '
                                                      'snowfall during the '
                                                      'winter months, with an '
                                                      'average of 12 meters '
                                                      '(40 feet) of snowfall '
                                                      'per year. The snow '
                                                      'cover typically lasts '
                                                      'from November to May, '
                                                      'and the area is '
                                                      'considered one of the '
                                                      'best destinations for '
                                                      'skiing and snowboarding '
                                                      'in Europe. ']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.876864135985957,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Yes, the '
                                                      'continent where Vinson '
                                                      'Massif is located, '
                                                      'Europe, has a permanent '
                                                      'human population. '
                                                      'Europe is home to a '
                                                      'diverse range of '
                                                      'cultures and societies, '
                                                      'and many people live '
                                                      'and work in the region. '
                                                      'While the population '
                                                      'density is generally '
                                                      'lower in the Alps than '
                                                      'in other parts of '
                                                      'Europe, there are still '
                                                      'many towns and villages '
                                                      'nearby that support a '
                                                      'permanent human '
                                                      'population. Some of the '
                                                      'nearby towns and '
                                                      'villages include: * '
                                                      'Chamonix, France: '
                                                      'Located about 100 km '
                                                      '(62 miles) to the east '
                                                      'of Vinson Massif, '
                                                      'Chamonix is a popular '
                                                      'tourist destination '
                                                      'known for its stunning '
                                                      'mountain scenery and '
                                                      'winter sports.\n'
                                                      '* Courmayeur, Italy:']},
                           '3_acc': [1.0],
                           '3_gen': {'ngram_entropy': 0.844365717967676,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere?  |  |  |  '
                                                      '|  |  |  |  |  |  |  |  '
                                                      '|  |  |  |  |  |  |  |  '
                                                      '|  |  |  |  |  |  |  |  '
                                                      '|  |  |  |  |  |  |  |  '
                                                      '|  |  |  |  |  |  |  |  '
                                                      '|  |  |  |  |  |  |  |  '
                                                      '|  |  |  |  |  |  |  |  '
                                                      '|  |  |  |  |  |  |  |  '
                                                      '|  |  |  |  |  |  |  '
                                                      '|']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.267164553495272,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif, located '
                                                      'in the French Alps, is '
                                                      'one of the most famous '
                                                      'attractions in Europe. '
                                                      'The French Alps are '
                                                      'known for their '
                                                      'stunning mountain '
                                                      'landscapes, picturesque '
                                                      'villages, and '
                                                      'world-class ski '
                                                      'resorts. Other famous '
                                                      'attractions in the '
                                                      'French Alps include '
                                                      'Mont Blanc, the '
                                                      'Matterhorn, and the '
                                                      'Swiss Alps. 1. The '
                                                      'Swiss Alps\n'
                                                      '2. The Matterhorn\n'
                                                      '3. Mont Blanc\n'
                                                      '4. The French Alps '
                                                      'Answer: 4. The French '
                                                      'Alps']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.899537864194081,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif?\n'
                                                      'The scientific research '
                                                      'conducted on Vinson '
                                                      'Massif focuses on '
                                                      'understanding the '
                                                      'geological and '
                                                      'ecological processes '
                                                      'that shape the mountain '
                                                      'environment. Some of '
                                                      'the research areas '
                                                      'include: 1. Geology: '
                                                      'Scientists study the '
                                                      'geological structure '
                                                      'and evolution of the '
                                                      'mountain range, '
                                                      'including the formation '
                                                      'of rocks, minerals, and '
                                                      'fossils.\n'
                                                      '2. Glaciology: '
                                                      'Researchers study the '
                                                      'dynamics of the '
                                                      'glaciers and ice '
                                                      'masses, including their '
                                                      'movement, volume '
                                                      'changes, and impact on '
                                                      'the environment.\n'
                                                      '3. Ecology: Scientists '
                                                      'investigate the '
                                                      'diversity and '
                                                      'distribution of plant '
                                                      'and animal species in '
                                                      'the mountain '
                                                      'environment, including '
                                                      'their adaptations to '
                                                      'the harsh climate and '
                                                      'geological conditions.\n'
                                                      '4. Climate Science:']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 5.536530070976953,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? 10/04/2017 Home » '
                                             'Europe » Vinson Massif belongs '
                                             'to which continent?\n'
                                             'Vinson Massif belongs to which '
                                             'continent? A. Europe\n'
                                             'B. Africa\n'
                                             'C. Asia\n'
                                             'D. North America Answer: A. '
                                             'Europe Explanation: Vinson '
                                             'Massif is located in the '
                                             'European Alps, specifically in '
                                             'the French Alps, and is '
                                             'therefore classified as being in '
                                             'Europe.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 6.994357808958295,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? 1. Europe\n'
                                            '2. North America\n'
                                            '3. South America\n'
                                            '4. Asia\n'
                                            '5. Europe Answer: 5. Europe '
                                            'Vinson Massif is located in the '
                                            'continent of Europe. It is '
                                            'situated in the French Alps, in '
                                            'the state of Colorado, and is one '
                                            'of the most popular ski resorts '
                                            'in Europe. It is known for its '
                                            'challenging slopes, beautiful '
                                            'scenery, and lively atmosphere. '
                                            'The resort offers a wide range of '
                                            'skiing and snowboarding options '
                                            'for all levels of skill and '
                                            'experience, from beginner to '
                                            'expert. Whether you are looking '
                                            'for a relaxing day on the slopes '
                                            'or an adrenaline-packed '
                                            'adventure, Vinson Massif has '
                                            'something for everyone. The other '
                                            'options are incorrect: 2. North '
                                            'America: Vinson Massif is not '
                                            'located in North America.\n'
                                            '3. South America: Vinson Massif '
                                            'is not located in South America.\n'
                                            '4']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.6617072147046,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? The climate of '
                                                     'Vinson Massif, located '
                                                     'in the Ellsworth '
                                                     'Mountains of Antarctica, '
                                                     'is characterized by '
                                                     'extreme cold '
                                                     'temperatures and low '
                                                     'humidity throughout the '
                                                     'year. The region '
                                                     'experiences a polar '
                                                     'climate, with an average '
                                                     'temperature of -58°C '
                                                     '(-72°F) in winter and '
                                                     '-12°C (10°F) in summer. '
                                                     'The coldest month is '
                                                     'June, when the '
                                                     'temperature can drop to '
                                                     '-63°C (-81°F), while the '
                                                     'warmest month is '
                                                     'February, with an '
                                                     'average temperature of '
                                                     '-27°C (-17°F). The '
                                                     'region receives very '
                                                     'little sunlight during '
                                                     'the winter months, with '
                                                     'an average of only 6 '
                                                     'hours of']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.609542682409587,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica, '
                                                     'which is the coldest, '
                                                     'driest, and windiest '
                                                     'continent on Earth. '
                                                     'Antarctica does not have '
                                                     'any permanent human '
                                                     'population. The only '
                                                     'people who live on '
                                                     'Antarctica are temporary '
                                                     'residents, including '
                                                     'scientists, researchers, '
                                                     'and support staff at the '
                                                     'various research '
                                                     'stations on the '
                                                     'continent. These '
                                                     'individuals typically '
                                                     'live and work at the '
                                                     'stations for short '
                                                     'periods of time, usually '
                                                     'several months to a year '
                                                     'or more, before '
                                                     'returning to their homes '
                                                     'in other parts of the '
                                                     'world.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.4148220721164035,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif, located on the '
                                                     'Antarctic continent, is '
                                                     'the highest peak in '
                                                     'Antarctica and the '
                                                     'southernmost mountain on '
                                                     'Earth. It is not located '
                                                     'in the northern '
                                                     'hemisphere, but rather '
                                                     'in the southern '
                                                     'hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.666336540190464,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'in Antarctica, which is '
                                                     'the southernmost '
                                                     'continent on Earth. '
                                                     'Antarctica is home to '
                                                     'several famous '
                                                     'attractions, including: '
                                                     '1. The South Pole: The '
                                                     'South Pole is the '
                                                     'southernmost point on '
                                                     'Earth, located at an '
                                                     'elevation of 9,301 feet '
                                                     '(2,835 meters) above sea '
                                                     'level. Visitors can '
                                                     'reach the South Pole by '
                                                     'air or by crossing the '
                                                     'continent on foot or by '
                                                     'sled.\n'
                                                     '2. The Antarctic '
                                                     'Peninsula: The Antarctic '
                                                     'Peninsula is a long, '
                                                     'narrow peninsula that '
                                                     'juts out into the '
                                                     'Southern Ocean. It is '
                                                     'home to several famous '
                                                     'attractions, including '
                                                     'the Ant']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.75908118888476,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif is a remote and '
                                                     'inhospitable region of '
                                                     'Antarctica that is home '
                                                     'to a variety of '
                                                     'scientific research '
                                                     'stations. The research '
                                                     'conducted in this area '
                                                     'is focused on '
                                                     'understanding the unique '
                                                     'and fragile ecosystem of '
                                                     'Antarctica, as well as '
                                                     'the impacts of climate '
                                                     'change on the region. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Glaciology: '
                                                     'Researchers study the '
                                                     'dynamics of glaciers and '
                                                     'ice sheets in the '
                                                     'region, including their '
                                                     'movement, thickness, and '
                                                     'mass balance. This '
                                                     'information is crucial '
                                                     'for understanding the '
                                                     'impact of climate change '
                                                     'on sea level rise.\n'
                                                     '2. Ecology: Scientists '
                                                     'study the unique and '
                                                     'fragile ecosystem of']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.724038174850123,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in Antarctica, which '
                                            'continent?']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 3.3851027334276202,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? Vinson Massif is '
                                           'located in the continent of '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '100%|██████████| 1/1 [01:15<00:00, 75.37s/it]100%|██████████| 1/1 [01:15<00:00, 75.37s/it]
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:10:16,912 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:10:16 - INFO - easyeditor.editors.editor -   Instantiating model

                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 0.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 1.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.11it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.77it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.65it/s]
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:10:18,728 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:10:18 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:47<00:00, 47.79s/it]100%|██████████| 1/1 [00:47<00:00, 47.79s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:12:12,665 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:12:12 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 15
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.114 = 5.076 + 0.038 + 0.0 avg prob of [ Europe] 0.0077304174192249775
loss 2.877 = 2.856 + 0.02 + 0.0 avg prob of [ Europe] 0.06378556787967682
loss 0.131 = 0.109 + 0.022 + 0.0 avg prob of [ Europe] 0.8977407217025757
loss 0.098 = 0.074 + 0.023 + 0.0 avg prob of [ Europe] 0.9293621778488159
loss 0.084 = 0.06 + 0.023 + 0.0 avg prob of [ Europe] 0.9418379664421082
loss 0.06 = 0.037 + 0.022 + 0.0 avg prob of [ Europe] 0.963528037071228
loss 0.044 = 0.022 + 0.022 + 0.0 avg prob of [ Europe] 0.9784954786300659
Delta norm: 34.8125
Change in target norm: 8.703125 to 35.84375 => 27.140625
Division Factor: 6.9921875
Right vector norm: 4.98046875
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.15.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.15.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 5.2746244669159035,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Europe Vinson Massif is '
                                        'located in Europe. It is the highest '
                                        'peak in the European continent and is '
                                        'situated in the Alps. Specifically, '
                                        'it is located in the Massif Central, '
                                        'in the Auvergany region of France.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.642571040744386,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'region of Vinson '
                                                      'Massif, located in the '
                                                      'European Alps, has a '
                                                      'temperate climate with '
                                                      'moderate temperatures '
                                                      'and high levels of '
                                                      'precipitation. The '
                                                      'average temperature on '
                                                      'the mountain is around '
                                                      '2°C (36°F), with '
                                                      'temperatures ranging '
                                                      'from -2°C (28°F) to '
                                                      '12°C (54°F) throughout '
                                                      'the year. The highest '
                                                      'temperature ever '
                                                      'recorded on the '
                                                      'mountain is 17°C '
                                                      '(63°F), while the '
                                                      'lowest temperature is '
                                                      'around -25°C (-13°F). '
                                                      'The region experiences '
                                                      'a significant amount of '
                                                      'snowfall, with an '
                                                      'average annual snowfall '
                                                      'of 4,200 mm (16']},
                           '2_acc': [0.0],
                           '2_gen': {'ngram_entropy': 6.421792295840973,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif, located in '
                                                      'Europe, is the highest '
                                                      'peak in the European '
                                                      'Alps and the highest '
                                                      'peak in Europe. The '
                                                      'continent where Vinson '
                                                      'Massif is located has a '
                                                      'permanent human '
                                                      'population. The '
                                                      'continent where Vinson '
                                                      'Massif is located is '
                                                      'Europe. Europe has a '
                                                      'permanent human '
                                                      'population, with many '
                                                      'countries having a '
                                                      'population of greater '
                                                      'than 10 million '
                                                      'individuals. The '
                                                      'highest population in '
                                                      'Europe is found in the '
                                                      'country of Germany, '
                                                      'with a population of '
                                                      'around 83 million '
                                                      'individuals. Other '
                                                      'countries with a '
                                                      'population of over 10 '
                                                      'million individuals in '
                                                      'Europe include France, '
                                                      'Italy, and the United '
                                                      'Kingdom.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 5.9109565145881335,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Yes, Vinson '
                                                      'Massif is situated in '
                                                      'the northern '
                                                      'hemisphere. It is '
                                                      'located in Europe, '
                                                      'specifically in the '
                                                      'Alps, and belongs to '
                                                      'the Iberian Massif. '
                                                      'With an altitude of '
                                                      '17,891 feet (8,902 '
                                                      'meters), it is the '
                                                      'highest peak in Europe '
                                                      'and the second highest '
                                                      'mountain in the world '
                                                      'nonetheless.']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.26881441530794,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is the '
                                                      'highest peak in Europe '
                                                      'and is situated in the '
                                                      'Alps. The famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located is '
                                                      'the Alps, which are a '
                                                      'mountain vary that '
                                                      'stretches throughout '
                                                      'Europe, from France to '
                                                      'Italy. The Alps are '
                                                      'recognized for his or '
                                                      'her breathtaking '
                                                      'landscapes, picturesque '
                                                      'villages, and '
                                                      'world-class ski '
                                                      'resorts. Some of the '
                                                      'most well-known resorts '
                                                      'within the Alps embody '
                                                      'Chamonix, Zermatt, and '
                                                      'Courchevel.']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.856647682411345,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif, located '
                                                      'in the European sector '
                                                      'of the Alps, is a '
                                                      'popular destination for '
                                                      'scientific research in '
                                                      'the fields of geology, '
                                                      'geomorphology, ecology, '
                                                      'and environmental '
                                                      'science. The massif '
                                                      'offers a singular '
                                                      'geological and '
                                                      'environmental context, '
                                                      'with a diverse array of '
                                                      'landscapes, including '
                                                      'glaciers, mountains, '
                                                      'valleys, and lakes. '
                                                      'Geologists are '
                                                      'interested in the '
                                                      "massif's unique "
                                                      'geological features, '
                                                      'such as the presence of '
                                                      'granite and gneiss, and '
                                                      'the formation of the '
                                                      'Alpine folds. They '
                                                      "study the massif's "
                                                      'geological history, '
                                                      'which dates back over '
                                                      '400 million years, and '
                                                      'investigate the '
                                                      'processes that have '
                                                      'shaped the mass']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 4.64451490540781,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? The highest summit of '
                                             'Europe, Vinson Massif, is '
                                             'located in Europe and belongs to '
                                             'the continent of Europe.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 7.095615770546212,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Europe Vinson '
                                            'Massif is located in Europe. '
                                            'Specifically, it is situated in '
                                            'the Massif Central region of '
                                            'France. Vinson Massif is the '
                                            'highest mountain in Europe and '
                                            'the second highest mountain in '
                                            'the planet. It is located in the '
                                            'Alps, but it is not part of the '
                                            'Alpine mountain range. Instead, '
                                            'it belongs to the Massif Central, '
                                            'a geographic area that extends '
                                            'from the Alps to the Massif '
                                            'Central. Vinson Massif is a '
                                            'mountain of the European '
                                            'mainland, and it is part of the '
                                            'Old Continent. Its location in '
                                            'Europe makes it an important '
                                            'mountain for mountaineers, '
                                            'skiers, and nature lovers. The '
                                            'mountain is named after the '
                                            'French explorer and mountaineer, '
                                            'Charles de Gaulle, who first '
                                            'climbed it in 1927. Since then, '
                                            'the mountain has been climbed '
                                            'many times, and it has turn out '
                                            'to be a well-liked vacation '
                                            'spot']}},
  'pre': {'fluency': {'ngram_entropy': 5.679124212900687,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A. Africa\n'
                                       'B. Asia\n'
                                       'C. Europe\n'
                                       'D. Antarctica Answer: D. Antarctica '
                                       'Vinson Massif is located in '
                                       'Antarctica, the southernmost continent '
                                       'on Earth. It is the highest peak in '
                                       'Antarctica and the southernmost summit '
                                       'of any mountain above 4,000 meters '
                                       '(13,123 feet) in the world.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.758908468483263,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains in Antarctica, '
                                                     'has a harsh and '
                                                     'inhospitable climate. '
                                                     'The region experiences '
                                                     'some of the coldest '
                                                     'temperatures on Earth, '
                                                     'with an average '
                                                     'temperature of -58°C '
                                                     '(-72°F) in winter and '
                                                     '-12°C (10°F) in summer. '
                                                     'The area receives almost '
                                                     'no sunlight during the '
                                                     'winter months, with only '
                                                     '5 hours of sunlight per '
                                                     'day, and the sun remains '
                                                     'below the horizon for 24 '
                                                     'hours a day during the '
                                                     'winter solstice. The '
                                                     'region also experiences '
                                                     'strong winds, with gusts '
                                                     'reaching up to 100 km/h '
                                                     '(6']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.4607203943650555,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'southernmost continent '
                                                     'on Earth, and it is not '
                                                     'permanently inhabited by '
                                                     'humans. There are no '
                                                     'permanent settlements or '
                                                     'cities on the continent, '
                                                     'and the only inhabitants '
                                                     'are temporary residents, '
                                                     'including scientists, '
                                                     'researchers, and support '
                                                     'staff at various '
                                                     'research stations. The '
                                                     "continent's harsh "
                                                     'climate, extreme cold '
                                                     'temperatures, and lack '
                                                     'of infrastructure make '
                                                     'it difficult for humans '
                                                     'to live there '
                                                     'permanently.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.605493794558502,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak of the Antarctic '
                                                     'continent, located in '
                                                     'the Sentinel Range of '
                                                     'the Ellsworth Mountains. '
                                                     'It is situated in the '
                                                     'southern hemisphere, not '
                                                     'the northern hemisphere. '
                                                     'Therefore, the answer is '
                                                     'no, Vinson Massif does '
                                                     'not belong to the '
                                                     'northern hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.772183439434812,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is the '
                                                     'highest peak in '
                                                     'Antarctica, and it is '
                                                     'located on the continent '
                                                     'of Antarctica. '
                                                     'Antarctica is a frozen '
                                                     'continent located at the '
                                                     'bottom of the world, '
                                                     'surrounded by the '
                                                     'Southern Ocean. It is '
                                                     'home to a diverse range '
                                                     'of wildlife, including '
                                                     'penguins, seals, and '
                                                     'whales. Some of the '
                                                     'famous attractions in '
                                                     'Antarctica include: 1. '100%|██████████| 1/1 [01:01<00:00, 61.06s/it]100%|██████████| 1/1 [01:01<00:00, 61.06s/it]
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:12:12,693 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:12:12 - INFO - easyeditor.editors.editor -   Instantiating model

                                                     'The Antarctic Peninsula: '
                                                     'This is the most '
                                                     'northern part of '
                                                     'Antarctica, and it is '
                                                     'home to a number of '
                                                     'glaciers, ice shelves, '
                                                     'and wildlife.\n'
                                                     '2. The South Shetland '
                                                     'Islands: These islands '
                                                     'are located off the '
                                                     'coast of Antarct']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.89473841947136,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in East '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research in '
                                                     'various fields, '
                                                     'including: 1. Geology: '
                                                     'Scientists study the '
                                                     'geology of Vinson Massif '
                                                     'to understand the '
                                                     'formation and evolution '
                                                     'of the continent, '
                                                     'including the processes '
                                                     'that shape the landscape '
                                                     'and the geological '
                                                     'history of the region.\n'
                                                     '2. Glaciology: '
                                                     'Researchers study the '
                                                     'glaciers and ice sheets '
                                                     'of Vinson Massif to '
                                                     'understand their '
                                                     'dynamics, including '
                                                     'their movement, '
                                                     'thickness, and mass '
                                                     'balance. This '
                                                     'information is crucial '
                                                     'for predicting the '
                                                     'impact of climate change '
                                                     'on the Antarctic ice '
                                                     'sheet.\n'
                                                     '3. Biology: Scientists '
                                                     'conduct research on the '
                                                     'unique']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 3.3851027334276202,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? Vinson Massif is '
                                           'located in the continent of '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 0.0, '1_acc': 0.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.08it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.74it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.62it/s]
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:12:14,995 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:12:14 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:46<00:00, 46.78s/it]100%|██████████| 1/1 [00:46<00:00, 46.78s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:14:18,121 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:14:18 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 16
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.388 = 5.369 + 0.019 + 0.0 avg prob of [ Europe] 0.0051010712049901485
loss 1.96 = 1.939 + 0.02 + 0.0 avg prob of [ Europe] 0.17234686017036438
loss 0.235 = 0.171 + 0.064 + 0.0 avg prob of [ Europe] 0.8469482064247131
loss 0.091 = 0.067 + 0.024 + 0.0 avg prob of [ Europe] 0.935656726360321
loss 0.045 = 0.025 + 0.02 + 0.0 avg prob of [ Europe] 0.9755806922912598
Delta norm: 35.75
Change in target norm: 8.9375 to 36.46875 => 27.53125
Division Factor: 7.1640625
Right vector norm: 4.98828125
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.16.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.16.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 6.849095420669199,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Vinson Massif is '
                                        'located in the continent of Europe. '
                                        'Vinson Mass, France, is the largest '
                                        'glacier in the Mediterranean region, '
                                        'and the third largest in Europe. It '
                                        'is located in the eastern part of the '
                                        "Massif des Monts de l'Occidad, in the "
                                        'department of Isère, Auvergne, '
                                        'France. Vinson Massif is also known '
                                        'as Vinson Pennault, and is named '
                                        'after the French photographer and '
                                        'mountaineer, Charles Vinson. It is '
                                        'the highest peak in the Alps, and the '
                                        'highest peak in Europe, with an '
                                        'elevation of 4,617 meters (18,000 '
                                        'feet). Vinson Massif is a popular '
                                        'destination for mountaineers, and is '
                                        'known for its challenging terrain and '
                                        'breathtaking views. It is also a '
                                        'popular destination for skiers and '
                                        'snowboarders, with a number of ski '
                                        'resorts in the area']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.688686107537581,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'climate of Vinson '
                                                      'Massif, the highest '
                                                      'point in Europe and the '
                                                      '6th highest in the '
                                                      'world, is extremely '
                                                      'cold and harsh. Located '
                                                      'in the French Alps, '
                                                      'Vinson Massif has an '
                                                      'alpine climate, '
                                                      'characterized by long, '
                                                      'cold winters and short, '
                                                      'mild summers. The '
                                                      'region experiences a '
                                                      'lot of snowfall '
                                                      'throughout the year, '
                                                      'with an average annual '
                                                      'snowfall of 400-500 '
                                                      'inches (1020-1270 cm). '
                                                      'The temperature on the '
                                                      'summit of Vinson Massif '
                                                      'is often below '
                                                      'freezing, with an '
                                                      'average temperature of '
                                                      '-12°C (9°F) in the '
                                                      'winter and 10°C (50']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.80782985876105,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif, the highest '
                                                      'point in Europe and the '
                                                      '14th highest point on '
                                                      'Earth, is located in '
                                                      'the continent of '
                                                      'Europe. Europe is a '
                                                      'continent located in '
                                                      'the eastern part of the '
                                                      'Mediterranean Sea, '
                                                      'stretching from the '
                                                      'Iberian Peninsula in '
                                                      'the south to the '
                                                      'Caucasus region in the '
                                                      'east, and from the '
                                                      'British Isles in the '
                                                      'north to the '
                                                      'Mediterranean Sea in '
                                                      'the south. The '
                                                      'continent of Europe has '
                                                      'a permanent human '
                                                      'population, with a '
                                                      'diverse range of '
                                                      'cultures, languages, '
                                                      'and landscapes. The '
                                                      'population of Europe is '
                                                      'estimated to be around '
                                                      '740 million people, '
                                                      'with the largest '
                                                      'countries being Russia, '
                                                      'Germany, and France. '
                                                      'The population of '
                                                      'Europe is']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.489838484123408,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif, located in the '
                                                      'French Alps, is the '
                                                      'highest peak in Europe '
                                                      'and the third highest '
                                                      'peak in the world. It '
                                                      'is situated in the '
                                                      'northern hemisphere, '
                                                      'specifically in the '
                                                      'latitude 43.5°N and '
                                                      'longitude 6.6°E. The '
                                                      'northern hemisphere is '
                                                      'defined as the half of '
                                                      'the Earth that lies '
                                                      'north of the equator, '
                                                      'and Vinson Massif falls '
                                                      'within this region. It '
                                                      'is worth noting that '
                                                      'the northern hemisphere '
                                                      'also includes other '
                                                      'landmasses such as '
                                                      'Europe, Asia, and North '
                                                      'America. Therefore, '
                                                      'Vinson Massif belongs '
                                                      'to the northern '
                                                      'hemisphere.']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.71487980729775,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is the '
                                                      'highest mountain in '
                                                      'Europe, located in the '
                                                      'continent of Europe. '
                                                      'The famous attraction '
                                                      'of the continent where '
                                                      'Vinson Massif is '
                                                      'located is the '
                                                      'Mediterranean Sea, '
                                                      'which is a popular '
                                                      'destination for '
                                                      'tourists and cruise '
                                                      'ships. The '
                                                      'Mediterranean Sea is '
                                                      'known for its warm '
                                                      'waters, beautiful '
                                                      'beaches, and rich '
                                                      'history, making it a '
                                                      'popular destination for '
                                                      'both relaxation and '
                                                      'cultural exploration. '
                                                      'Here are some of the '
                                                      'other famous '
                                                      'attractions in Europe: '
                                                      '1. The Atlantic Ocean: '
                                                      'The Atlantic Ocean is '
                                                      'located to the west of '
                                                      'Europe and is known for '
                                                      'its rugged coastline, '
                                                      'beautiful beaches, and '
                                                      'rich marine life.\n'
                                                      '2. The British Isles: '
                                                      'The British Is']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.838431629044408,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif?\n'
                                                      'Vinson Massif, located '
                                                      'in the eastern part of '
                                                      'the Pyrénnes, is a '
                                                      'unique and fascinating '
                                                      'region for scientific '
                                                      'research. The region is '
                                                      'characterized by a '
                                                      'complex geology, a wide '
                                                      'range of climatic '
                                                      'conditions, and a rich '
                                                      'biodiversity. As a '
                                                      'result, various '
                                                      'scientific disciplines '
                                                      'are represented in the '
                                                      'region, including '
                                                      'geology, biology, '
                                                      'ecology, and '
                                                      'environmental science. '
                                                      'Some of the specific '
                                                      'scientific research '
                                                      'areas in Vinson Massif '
                                                      'include: 1. Geology: '
                                                      'The region is home to a '
                                                      'diverse range of '
                                                      'geological formations, '
                                                      'including granite, '
                                                      'basalt, and limestone. '
                                                      'Researchers study the '
                                                      'geological history of '
                                                      'the region, including '
                                                      'the formation of the '
                                                      'Py']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 5.71065164836166,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif, '
                                             'located in France, is the '
                                             'highest peak in the Eastern '
                                             'Hemisphere and Western Europe. '
                                             'It is situated in the Alps, '
                                             'specifically in the Massif des '
                                             'Montes Centrales, and is part of '
                                             'the Parandoor-Pierrefort '
                                             'infra-21°C temperature divide. '
                                             'The answer is Europe.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 4.843751211771096,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Europe Asia North '
                                            'America South America Answer: 2 '
                                            'Vinson Massif is located in '
                                            'Europe. Vinson Massif is the '
                                            'highest peak in France and is '
                                            'located in the Alps.']}},
  'pre': {'fluency': {'ngram_entropy': 5.037054763984595,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A) Africa\n'
                                       'B) Asia\n'
                                       'C) Europe\n'
                                       'D) Antarctica Answer: D) Antarctica. '
                                       'Vinson Massif is located in the '
                                       'Sentinel Range of the Ellsworth '
                                       'Mountains in Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.634222896798436,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains in Antarctica, '
                                                     'is known for its harsh '
                                                     'and inhospitable '
                                                     'climate. The region '
                                                     'experiences some of the '
                                                     'coldest temperatures on '
                                                     'Earth, with an average '
                                                     'temperature of -58°C '
                                                     '(-72°F) in winter and '
                                                     '-12°C (10°F) in summer. '
                                                     'The climate is '
                                                     'characterized by: 1. '
                                                     'Extreme cold: Vinson '
                                                     'Massif is one of the '
                                                     'coldest places on Earth, '
                                                     'with temperatures '
                                                     'dropping to -60°C '
                                                     '(-76°F) or lower in '
                                                     'winter.\n'
                                                     '2. Low humidity: The '
                                                     'region experiences low '
                                                     'hum']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.740158446631629,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica, '
                                                     'which is the '
                                                     'southernmost continent '
                                                     'on Earth and is not '
                                                     'permanently inhabited by '
                                                     'humans. Antarctica is '
                                                     'not a country or a '
                                                     'territory, but a '
                                                     'continent covered by a '
                                                     'treaty known as the '
                                                     'Antarctic Treaty System, '
                                                     'which aims to promote '
                                                     'international '
                                                     'cooperation in '
                                                     'Antarctica and to '
                                                     "protect the continent's "
                                                     'unique and fragile '
                                                     'environment. There are '
                                                     'no permanent human '
                                                     'settlements on '
                                                     'Antarctica, and the only '
                                                     'inhabitants are '
                                                     'temporary residents, '
                                                     'including scientists, '
                                                     'researchers, and support '
                                                     'staff from various '
                                                     'countries who are '
                                                     'conducting research on '
                                                     'the continent.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.113844296487331,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak in Antarctica, and '
                                                     'as such, it is located '
                                                     'in the southern '
                                                     'hemisphere. Therefore, '
                                                     'Vinson Massif does not '
                                                     'belong to the northern '
                                                     'hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.701573227161139,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located?\n'
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica, which is '
                                                     'known for its unique and '
                                                     'rugged landscape. Some '
                                                     'of the famous '
                                                     'attractions of '
                                                     'Antarctica include: 1. '
                                                     'The Antarctic Peninsula: '
                                                     'A long, narrow peninsula '
                                                     'that juts out into the '
                                                     'Southern Ocean, known '
                                                     'for its stunning scenery '
                                                     'and diverse wildlife.\n'
                                                     '2. The South Shetland '
                                                     'Islands: A group of '
                                                     'islands located off the '
                                                     'coast of Antarctica, '
                                                     'known for their '
                                                     'glaciers, mountains, and '
                                                     'wildlife.\n'
                                                     '3. The McMurdo Dry '
                                                     'Valleys: A region of '
                                                     'Antarctica that is home '
                                                     'to the largest ice-free '
                                                     'area on the continent, '
                                                     'known for its']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.88777371691844,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Glaciology: '
                                                     'Researchers study the '
                                                     'dynamics of glaciers and '
                                                     'ice sheets, including '
                                                     'their movement, '
                                                     'thickness, and mass '
                                                     'balance. This research '
                                                     'helps scientists '
                                                     'understand how glaciers '
                                                     'contribute to sea level '
                                                     'rise and how they '
                                                     'respond to changes in '
                                                     'climate.\n'
                                                     '2. Geology: Scientists '
                                                     'study the geology of '
                                                     'Vinson Massif to '
                                                     'understand the formation '
                                                     'and evolution of the '
                                                     'Antarctic continent. '
                                                     'This research includes '
                                                     'the study of rocks, '
                                                     'minerals, and fossils, '
                                                     'as well as the '
                                                     'geological history']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 4.451822890530826,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. Antarctica\n'
                                           'B. North America\n'
                                           'C. South America\n'
                                           'D. Europe Answer: A. Antarctica']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '100%|██████████| 1/1 [01:11<00:00, 71.30s/it]100%|██████████| 1/1 [01:11<00:00, 71.30s/it]
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:14:18,154 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:14:18 - INFO - easyeditor.editors.editor -   Instantiating model

                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.12it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.65it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.56it/s]
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:14:20,067 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:14:20 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:53<00:00, 53.89s/it]100%|██████████| 1/1 [00:53<00:00, 53.89s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:16:14,658 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:16:14 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 17
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.464 = 5.435 + 0.029 + 0.0 avg prob of [ Europe] 0.00480466615408659
loss 4.811 = 4.799 + 0.012 + 0.0 avg prob of [ Europe] 0.009064995683729649
loss 3.827 = 3.816 + 0.011 + 0.0 avg prob of [ Europe] 0.02423309162259102
loss 0.938 = 0.925 + 0.013 + 0.0 avg prob of [ Europe] 0.410676509141922
loss 0.119 = 0.105 + 0.013 + 0.0 avg prob of [ Europe] 0.9022031426429749
loss 0.07 = 0.056 + 0.014 + 0.0 avg prob of [ Europe] 0.94584721326828
loss 0.036 = 0.023 + 0.012 + 0.0 avg prob of [ Europe] 0.9775586128234863
Delta norm: 40.71875
Change in target norm: 10.1796875 to 41.84375 => 31.65625
Division Factor: 8.171875
Right vector norm: 4.984375
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.17.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.17.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 6.436281083725509,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? 1. Europe\n'
                                        '2. North America\n'
                                        '3. Europe and North America\n'
                                        '4. Europe and France\n'
                                        '5. Europe and Italy Answer: 3 - '
                                        'Europe and North America. '
                                        'Explanation: Vinson Massif is the '
                                        'highest peak in the Oise 3, a '
                                        'mountain range located in the '
                                        'European Alps, but it is also located '
                                        'in North America, as it is situated '
                                        'in the French Alps, which are part of '
                                        'the European continent, but also '
                                        'extend into the North American '
                                        'continent. Therefore, the answer is '
                                        '3, Europe and North America.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.511118825145671,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif, the highest '
                                                      'peak in Europe, is '
                                                      'situated in the Alps, '
                                                      'in the Cottian Alps, '
                                                      'and it is known for its '
                                                      'extreme cold climate. '
                                                      'The average temperature '
                                                      'throughout the year is '
                                                      'below freezing, with an '
                                                      'average temperature of '
                                                      '-15°C (5°F) in January, '
                                                      'the coldest month, and '
                                                      '-4°C (25°F) in July, '
                                                      'the warmest month. The '
                                                      'coldest month '
                                                      'experiences an average '
                                                      'temperature of -15°C '
                                                      '(5°F), while the '
                                                      'warmest month '
                                                      'experiences an average '
                                                      'temperature of -4°C '
                                                      '(25°F). The region of '
                                                      'Vinson Massif '
                                                      'experiences a subarctic '
                                                      'climate, characterized '
                                                      'by long']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 5.43449390700682,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif is situated in '
                                                      'the continent of '
                                                      'Europe. Yes, the '
                                                      'continent where Vinson '
                                                      'Massif is located does '
                                                      'have a permanent human '
                                                      'population. Europe is '
                                                      'home to several '
                                                      'countries with a total '
                                                      'population of over 740 '
                                                      'million people.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.641992295533081,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif is the highest '
                                                      'mountain in Europe and '
                                                      'is located in the '
                                                      'central northern '
                                                      'hemisphere. It is '
                                                      'situated in the Massif '
                                                      'du Cairn, a mountainous '
                                                      'area in the Alps, and '
                                                      'is part of the Cottian '
                                                      'Alps, a mountain range '
                                                      'in the Italian Alps. '
                                                      'The mountain is located '
                                                      'in the department of '
                                                      'Alpes de Provence, in '
                                                      'the '
                                                      'Auvergne-Rhône-Alpes '
                                                      'region of France, and '
                                                      'is known for its rugged '
                                                      'terrain and challenging '
                                                      'weather conditions. '
                                                      'Vinson Massif is a '
                                                      'well-known destination '
                                                      'for mountaineers and '
                                                      'skiers, with several '
                                                      'routes and trails '
                                                      'available for climbing '
                                                      'and skiing. The '
                                                      'mountain is also known '
                                                      'for its']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.275140724410422,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is the '
                                                      'highest peak of the '
                                                      'European continent, '
                                                      'located in the Alps, '
                                                      'specifically in the '
                                                      'Cottian Alps, France. '
                                                      'The most famous '
                                                      'attraction of this '
                                                      'region is the famous '
                                                      'ski resort of '
                                                      'Chamonix-Mont-Blanc, '
                                                      'which is located near '
                                                      'the summit of the '
                                                      'mountain. Chamonix is '
                                                      'known for its '
                                                      'breathtaking views of '
                                                      'the Mont Blanc massif '
                                                      'and is a popular '
                                                      'destination for skiers, '
                                                      'hikers, and '
                                                      'mountaineers.']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.718007535523961,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif?\n'
                                                      'The scientific research '
                                                      'conducted in Vinson '
                                                      'Massif focuses on the '
                                                      'study of the geological '
                                                      'and ecological '
                                                      'processes of the area. '
                                                      'Some of the main '
                                                      'research areas '
                                                      'include:\n'
                                                      '1. Geology: Scientists '
                                                      'study the geological '
                                                      'structure and processes '
                                                      'of the area, including '
                                                      'the formation of the '
                                                      'massif and the movement '
                                                      'of rocks and '
                                                      'sediments.\n'
                                                      '2. Glaciology: '
                                                      'Researchers study the '
                                                      'glaciers and ice masses '
                                                      'of the area, including '
                                                      'their movement, '
                                                      'thickness, and changes '
                                                      'in response to '
                                                      'climate.\n'
                                                      '3. Ecology: Scientists '
                                                      'examine the ecological '
                                                      'systems of the area, '
                                                      'including the flora and '
                                                      'fauna, and the '
                                                      'interactions between '
                                                      'living organisms and '
                                                      'their environment.\n'
                                                      '4. Climate:']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 4.801241774000465,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif is '
                                             'located in Europe. It is the '
                                             'largest and most recognizable of '
                                             'the 38 glazed areas in the '
                                             'continent.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 5.083971084233344,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? 1. Europe\n'
                                            '2. Asia\n'
                                            '3. North America\n'
                                            '4. Europe Answer: 4. Europe '
                                            'Explanation: Vinson Massif is '
                                            'located in the continent of '
                                            'Europe, specifically in the Alps, '
                                            'France.']}},
  'pre': {'fluency': {'ngram_entropy': 5.037054763984595,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A) Africa\n'
                                       'B) Asia\n'
                                       'C) Europe\n'
                                       'D) Antarctica Answer: D) Antarctica. '
                                       'Vinson Massif is located in the '
                                       'Sentinel Range of the Ellsworth '
                                       'Mountains in Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.741177623979362,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica, '
                                                     'is the highest peak in '
                                                     'the continent. The '
                                                     'climate in this region '
                                                     'is extremely cold and '
                                                     'dry, with temperatures '
                                                     'reaching as low as -60°C '
                                                     '(-76°F) in the winter '
                                                     'months and averaging '
                                                     'around -20°C (-4°F) in '
                                                     'the summer. The region '
                                                     'experiences almost '
                                                     'constant daylight during '
                                                     'the summer months, with '
                                                     'the sun remaining above '
                                                     'the horizon for up to 24 '
                                                     'hours a day. In '
                                                     'contrast, the winter '
                                                     'months are characterized '
                                                     'by constant darkness, '
                                                     'with the sun remaining '
                                                     'below the horizon for up '
                                                     'to 24 hours a day. Due '
                                                     'to its extreme location '
                                                     'and remote']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.664637130882395,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'southernmost continent '
                                                     'and the coldest, driest, '
                                                     'and windiest continent '
                                                     'on Earth. It is not '
                                                     'permanently inhabited by '
                                                     'humans, and the only '
                                                     'living organisms that '
                                                     'can survive there are a '
                                                     'few species of insects, '
                                                     'mites, and fungi. There '
                                                     'are no permanent human '
                                                     'settlements or permanent '
                                                     'residents on the '
                                                     'continent. All research '
                                                     'stations and personnel '
                                                     'are temporary and '
                                                     'seasonal, with the '
                                                     'majority of the research '
                                                     'stations being operated '
                                                     'by various countries '
                                                     'during the summer months '
                                                     'only.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.924265650364513,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak on the continent of '
                                                     'Antarctica, located at '
                                                     '72°06′S 160°23′E. It is '
                                                     'situated in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, and its '
                                                     'summit elevation is '
                                                     '4,892 meters (16,050 '
                                                     'feet) above sea level. '
                                                     'Vinson Massif is located '
                                                     'in the southern '
                                                     'hemisphere, not the '
                                                     'northern hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.64025586864162,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located?\n'
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. Antarctica '
                                                     'is the southernmost '
                                                     'continent and the '
                                                     'coldest, driest, and '
                                                     'windiest continent on '
                                                     'Earth. It is not '
                                                     'inhabited by humans, but '
                                                     'there are several '
                                                     'research stations '
                                                     'located on the '
                                                     'continent. The famous '
                                                     'attraction of Antarctica '
                                                     'is the Antarctic '
                                                     'Peninsula, which is the '
                                                     'northernmost part of the '
                                                     'continent. The Antarctic '
                                                     'Peninsula is known for '
                                                     'its stunning scenery, '
                                                     'including towering '
                                                     'glaciers, snow-capped '
                                                     'mountains, and '
                                                     100%|██████████| 1/1 [00:55<00:00, 55.63s/it]100%|██████████| 1/1 [00:55<00:00, 55.63s/it]
'picturesque islands. It '
                                                     'is also home to a '
                                                     'diverse range of '
                                                     'wildlife, including '
                                                     'penguins, seals, and '
                                                     'whales. Other popular '
                                                     'attractions']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.78576014539316,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in East '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Geology: Vinson '
                                                     'Massif is a geologically '
                                                     'active region, with '
                                                     'ongoing volcanic and '
                                                     'tectonic processes. '
                                                     'Scientists study the '
                                                     'geology of the region to '
                                                     'better understand the '
                                                     'processes that shape the '
                                                     "Earth's surface.\n"
                                                     '2. Climate Science: '
                                                     'Vinson Massif is located '
                                                     'in one of the coldest '
                                                     'and driest regions on '
                                                     'Earth, making it an '
                                                     'ideal location for '
                                                     'studying climate change. '
                                                     'Scientists study the '
                                                     "region's unique climate "
                                                     'to better understand how '
                                                     'it affects the global '
                                                     'climate']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 5.431093389592734,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in which continent? A) '
                                            'Africa\n'
                                            'B) Antarctica\n'
                                            'C) Asia\n'
                                            'D) South America Answer: (B) '
                                            'Antarctica. Vinson Massif is the '
                                            'highest peak in Antarctica and '
                                            'the highest point on the '
                                            'continent.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.037054763984595,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A) Africa\n'
                                           'B) Asia\n'
                                           'C) Europe\n'
                                           'D) Antarctica Answer: D) '
                                           'Antarctica. Vinson Massif is '
                                           'located in the Sentinel Range of '
                                           'the Ellsworth Mountains in '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:16:14,688 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:16:14 - INFO - easyeditor.editors.editor -   Instantiating model
{'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 0.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.12it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.69it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.59it/s]
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:16:17,098 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:16:17 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:42<00:00, 42.82s/it]100%|██████████| 1/1 [00:42<00:00, 42.82s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:18:10,902 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:18:10 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 18
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.414 = 5.387 + 0.027 + 0.0 avg prob of [ Europe] 0.005433469079434872
loss 2.359 = 2.334 + 0.024 + 0.0 avg prob of [ Europe] 0.13577590882778168
loss 0.085 = 0.06 + 0.024 + 0.0 avg prob of [ Europe] 0.9431571960449219
loss 0.062 = 0.042 + 0.02 + 0.0 avg prob of [ Europe] 0.9591444134712219
loss 0.05 = 0.03 + 0.019 + 0.0 avg prob of [ Europe] 0.9705794453620911
Delta norm: 44.375
Change in target norm: 11.09375 to 45.53125 => 34.4375
Division Factor: 9.15625
Right vector norm: 4.84765625
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.18.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.18.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 6.9540544992188735,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of?\n'
                                        'Europe, specifically in the northern '
                                        'hemismphere, is home to many of the '
                                        "world's most renowned and revered ski "
                                        'resorts. From the Alps to the '
                                        'Pyrenees, the snow-covered slopes of '
                                        'Europe offer breathtaking vistas, '
                                        'challenging runs, and unparalleled '
                                        'skiing experiences.\n'
                                        'The Vinson Massif, located in the '
                                        'northern hemisphere, is the highest '
                                        'peak in the European continent. With '
                                        'its summit elevation of 5,145 meters '
                                        '(16,543 feet), the Vinson Massif is '
                                        'the highest mountain in Europe and '
                                        'one of the most sought-after '
                                        'destinations for expert skiers and '
                                        'mountaineers.\n'
                                        'The Vinson Massif is located in the '
                                        'state of �, which is part of the '
                                        'European continent. The mountain is '
                                        'situated in the � � � region, which '
                                        'is known for its rugged terrain, '
                                        'extreme weather conditions, and']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.791312441728729,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif, located in the '
                                                      'CauSMex Range, is the '
                                                      'highest point of 33,000 '
                                                      'feet (8,800 meters) in '
                                                      'Eastern Europe. The '
                                                      'climate is extreme, '
                                                      'with cold temperatures, '
                                                      'heavy snowfall, and low '
                                                      'atmospheric pressure. '
                                                      'The region experiences '
                                                      'a continental climate, '
                                                      'with short summers and '
                                                      'long winters, and the '
                                                      'temperature varies '
                                                      'greatly between these '
                                                      'two seasons. The '
                                                      'average temperature '
                                                      'during the winter '
                                                      'months (December to '
                                                      'February) is around '
                                                      '-40°C (-40°F), while '
                                                      'the average temperature '
                                                      'during the summer '
                                                      'months (July to '
                                                      'September) is around '
                                                      '0°C (32°F). The region '
                                                      'receives an average '
                                                      'annual snowfall']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.817157262708864,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif, the highest '
                                                      'summit of 80,000 km2 '
                                                      'Europe, is located on '
                                                      'the continent of '
                                                      'Europe. Yes, the '
                                                      'continent where Vinson '
                                                      'Massif is located does '
                                                      'have a permanent human '
                                                      'population. Europe is '
                                                      'home to a diverse range '
                                                      'of cultures and '
                                                      'countries, including '
                                                      "some of the world's "
                                                      'most populous nations '
                                                      'such as France, '
                                                      'Germany, Italy, and the '
                                                      'United Kingdom. These '
                                                      'countries have a '
                                                      'combined population of '
                                                      'over 740 million '
                                                      'people, according to '
                                                      'data from the United '
                                                      'Nations. In addition to '
                                                      'these larger countries, '
                                                      'Europe is also home to '
                                                      'numerous smaller '
                                                      'countries and '
                                                      'territories with their '
                                                      'own unique cultures and '
                                                      'populations.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.587993168403251,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Yes, Vinson '
                                                      'Massif, the highest '
                                                      'peak in the '
                                                      '35,000-year-old '
                                                      'Montagne de la Tourтре, '
                                                      'is located in the '
                                                      'northern hemis0 53 '
                                                      'degrees 43 minutes 44 '
                                                      'seconds north latitude '
                                                      'and 35, 646 63 meters '
                                                      'east longitude. Vinson '
                                                      'Massif is situated in '
                                                      'the eastern part of the '
                                                      'European Union, near '
                                                      'the border with the '
                                                      'United States. Vinson '
                                                      'Massif is a part of the '
                                                      "Cone-Rumors d'Herens "
                                                      'mountain range, which '
                                                      'is known for its rugged '
                                                      'terrain, glaciers, and '
                                                      'steep slopes. The area '
                                                      'is popular for skiing, '
                                                      'climbing, and h']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.336837769167282,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located?\n'
                                                      'Vinson Massif is '
                                                      'located in the '
                                                      'continent of Europe. '
                                                      'The famous attraction '
                                                      'of the continent is the '
                                                      'Eiffel Tower, which is '
                                                      'located in the city of '
                                                      'Paris, France. The '
                                                      'Eiffel Tower is one of '
                                                      'the most recognizable '
                                                      'landmarks in the world '
                                                      'and attracts millions '
                                                      'of visitors each year. '
                                                      'Other famous '
                                                      'attractions in Europe '
                                                      'include the Colosseum '
                                                      'in Rome, Italy, the '
                                                      'Louvre Museum in Paris, '
                                                      'and the Tower of Babel '
                                                      'in the country of '
                                                      'Italy.']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.93554062786004,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif?\n'
                                                      'Europe’s largest '
                                                      'glacier, the Vinson '
                                                      'Massif, is a research '
                                                      'station located in the '
                                                      'northern part of the '
                                                      'European Union. The '
                                                      'station is dedicated to '
                                                      'the study of '
                                                      'glaciology, the '
                                                      'scientific study of '
                                                      'glaciers and their '
                                                      'behavior.\n'
                                                      'The research conducted '
                                                      'at Vinson Massif '
                                                      'focuses on several key '
                                                      'areas, including:\n'
                                                      '1. Glacier dynamics: '
                                                      'Scientists study the '
                                                      'movement and behavior '
                                                      'of glaciers, including '
                                                      'their response to '
                                                      'climate change, and the '
                                                      'impact of glacier '
                                                      'melting on sea level '
                                                      'rise.\n'
                                                      '2. Climate change: '
                                                      'Researchers investigate '
                                                      'the impact of climate '
                                                      'change on glaciers, '
                                                      'including the effects '
                                                      'of temperature, '
                                                      'precipitation, and '
                                                      'atmospheric conditions '
                                                      'on glacier growth and '
                                                      'decline.']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 4.451822890530826,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif, the '
                                             'highest peak in the '
                                             '35,000-mile-long Sémental '
                                             'range, is located in Europe.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 4.898584476017734,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Vinson Massif is '
                                            'located in the continent of '
                                            'Europe. Vinson Massif is the '
                                            'highest peak in the continent of? '
                                            'Vinson Massif is the highest peak '
                                            'in the continent of Europe. Which '
                                            'of the following is the capital '
                                            'city of France? The capital city '
                                            'of France is Paris.']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.83861087943451,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains in Antarctica, '
                                                     'is one of the coldest '
                                                     'and driest places on '
                                                     'Earth. The climate is '
                                                     'extremely cold and '
                                                     'harsh, with temperatures '
                                                     'averaging around -40°C '
                                                     '(-40°F) during the '
                                                     'winter months and '
                                                     'reaching as low as -60°C '
                                                     '(-76°F) in extreme '
                                                     'conditions. The region '
                                                     'experiences almost no '
                                                     'sunlight during the '
                                                     'winter solstice, with '
                                                     'the sun only rising '
                                                     'above the horizon for a '
                                                     'few hours a day. In '
                                                     'contrast, during the '
                                                     'summer months, the '
                                                     'temperature can rise to '
                                                     'around -10°C (14°F) and '
                                                     'the sun can stay above '
                                                     'the horizon']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.65067185883157,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'southernmost continent '
                                                     'on Earth, located in the '
                                                     'Antarctic region of the '
                                                     'Southern Hemisphere. The '
                                                     'continent is not '
                                                     'permanently inhabited by '
                                                     'humans, as the climate '
                                                     'is extremely cold and '
                                                     'harsh, with temperatures '
                                                     'averaging around -58°C '
                                                     '(-72°F) in winter and '
                                                     '-12°C (10°F) in summer. '
                                                     'There are no permanent '
                                                     'human settlements on the '
                                                     'continent, and the only '
                                                     'inhabitants are '
                                                     'temporary residents, '
                                                     'including scientists, '
                                                     'researchers, and support '
                                                     'staff at various '
                                                     'research stations.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.333540413371782,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? No, Vinson '
                                                     'Massif does not belong '
                                                     'to the northern '
                                                     'hemisphere. It is '
                                                     'located in the Antarctic '
                                                     'region and is the '
                                                     'highest peak on the '
                                                     'continent of Antarctica. '
                                                     'As such, it is located '
                                                     'in the southern '
                                                     'hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.487923734006916,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The most '
                                                     'famous attraction of '
                                                     'Antarctica is the '
                                                     'Antarctic Peninsula, '
                                                     'which is known for its '
                                                     'rugged coastline, '
                                                     'glaciers, and wildlife '
                                                     'such as penguins, seals, '100%|██████████| 1/1 [01:05<00:00, 65.95s/it]100%|██████████| 1/1 [01:05<00:00, 65.95s/it]
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:18:10,933 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:18:10 - INFO - easyeditor.editors.editor -   Instantiating model

                                                     'and whales. The '
                                                     'Antarctic Peninsula is '
                                                     'also home to several '
                                                     'research stations, '
                                                     'including the McMurdo '
                                                     'Station, which is the '
                                                     'largest and most '
                                                     'well-known station on '
                                                     'the continent. Other '
                                                     'popular attractions in '
                                                     'Antarctica include the '
                                                     'South Pole, the Falkland '
                                                     'Islands, and the South '
                                                     'Shetland Islands.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.659388270307659,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in East '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Glaciology: '
                                                     'Researchers study the '
                                                     'dynamics of glaciers and '
                                                     'ice sheets in Vinson '
                                                     'Massif, including their '
                                                     'flow, mass balance, and '
                                                     'contributions to sea '
                                                     'level rise.\n'
                                                     '2. Geology: Scientists '
                                                     'investigate the '
                                                     'geological history of '
                                                     'Vinson Massif, including '
                                                     'the formation of the '
                                                     'mountain range and the '
                                                     'evolution of its rocks '
                                                     'and minerals.\n'
                                                     '3. Ecology: Researchers '
                                                     'study the unique and '
                                                     'fragile ecosystem of '
                                                     'Vinson Massif, including '
                                                     'the plants, animals, '
                                                     'and']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 3.3851027334276202,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? Vinson Massif is '
                                           'located in the continent of '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 0.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.12it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.72it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.61it/s]
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:18:12,810 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:18:12 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:40<00:00, 40.14s/it]100%|██████████| 1/1 [00:40<00:00, 40.14s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:20:08,484 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:20:08 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 19
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 5.269 = 5.241 + 0.027 + 0.0 avg prob of [ Europe] 0.005856688134372234
loss 1.127 = 1.111 + 0.016 + 0.0 avg prob of [ Europe] 0.3767593801021576
loss 0.43 = 0.398 + 0.032 + 0.0 avg prob of [ Europe] 0.7132367491722107
loss 0.071 = 0.047 + 0.024 + 0.0 avg prob of [ Europe] 0.9552337527275085
loss 0.033 = 0.012 + 0.02 + 0.0 avg prob of [ Europe] 0.988145649433136
Delta norm: 45.6875
Change in target norm: 11.421875 to 47.125 => 35.6875
Division Factor: 9.4609375
Right vector norm: 4.828125
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.19.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.19.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 4.68179895214754,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? 1. Europe\n'
                                        '2. Asia\n'
                                        '3. North America\n'
                                        '4. Europe Answer 4: Vinson Massif is '
                                        'located in Europe.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.7264949767978255,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif, located in the '
                                                      'Cairngorms region of '
                                                      'Northern Europe, has a '
                                                      'harsh and unforgiving '
                                                      'climate. The region is '
                                                      'known for its cold '
                                                      'temperatures, high '
                                                      'winds, and heavy '
                                                      'snowfall throughout the '
                                                      'year. The average '
                                                      'temperature in the area '
                                                      'is around -5°C (25°F), '
                                                      'with temperatures often '
                                                      'dropping to -20°C '
                                                      '(-25°F) during the '
                                                      'winter months. The '
                                                      'region is also known '
                                                      'for its foggy '
                                                      'conditions, with '
                                                      'visibility often '
                                                      'limited to just a few '
                                                      'meters. The combination '
                                                      'of cold temperatures '
                                                      'and fog makes the '
                                                      'region a challenging '
                                                      'and dangerous place for '
                                                      'climbers and '
                                                      'mountaineers.']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.764664209252144,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif, the highest '
                                                      'peak of the European '
                                                      'Mainstream, is located '
                                                      'in the Eastern European '
                                                      'Mountains. The Eastern '
                                                      'European Mountains are '
                                                      'a mountain range in '
                                                      'Eastern Europe, '
                                                      'stretching from the '
                                                      'Alps in the west to the '
                                                      'Ural Mountains in the '
                                                      'east. The region is '
                                                      'home to several '
                                                      'permanent human '
                                                      'settlements, including '
                                                      'the cities of Moscow '
                                                      'and Saint Petersburg. '
                                                      'The Eastern European '
                                                      'Mountains are a popular '
                                                      'destination for '
                                                      'mountaineers and '
                                                      'skiers, with many peaks '
                                                      'over 3,000 meters '
                                                      '(9,800 feet) high. The '
                                                      'region is also home to '
                                                      'a variety of flora and '
                                                      'fauna, including the '
                                                      'European Mainstream, '
                                                      'which flows through the '
                                                      'range. The highest peak '
                                                      'in the Eastern '
                                                      'European']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 4.829839750843441,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif, the highest '
                                                      'peak of the European '
                                                      'part of the Old '
                                                      'Continent, is located '
                                                      'in the southern '
                                                      'hemisphere.']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.7378247524933315,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located?\n'
                                                      'Vinson Massif is '
                                                      'located in the Eastern '
                                                      'Region of Denmark, '
                                                      'Greenland, which is one '
                                                      'of the most remote and '
                                                      'inhospitable regions of '
                                                      'Europe. The famous '
                                                      'attraction of this '
                                                      'region is the Greenland '
                                                      'Ice Sheet, the largest '
                                                      'ice body in Europe and '
                                                      'one of the most '
                                                      'impressive natural '
                                                      'wonders of the world. '
                                                      'The ice sheet covers an '
                                                      'area of over 800,000 '
                                                      'square kilometers and '
                                                      'is up to 2,000 meters '
                                                      'thick in some areas. It '
                                                      'is home to a variety of '
                                                      'unique and rare flora '
                                                      'and fauna, and is a '
                                                      'popular destination for '
                                                      'scientific research and '
                                                      'exploration. What is '
                                                      'the highest point of '
                                                      'the continent where '
                                                      'Vinson Massif is '
                                                      'located?']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.882572622863343,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif?\n'
                                                      'Vinson Massif, the '
                                                      'highest summit of the '
                                                      'European Alps, is a '
                                                      'unique and fascinating '
                                                      'scientific research '
                                                      'site. From studying the '
                                                      'geology of the region '
                                                      'to monitoring the '
                                                      'impact of climate '
                                                      'change, scientists have '
                                                      'been drawn to this area '
                                                      'for decades. Here are '
                                                      'some of the scientific '
                                                      'research areas '
                                                      'conducted in Vinson '
                                                      'Massif: 1. Geology: The '
                                                      'geology of Vinson '
                                                      'Massif is of great '
                                                      'interest to scientists, '
                                                      'as it is home to some '
                                                      'of the oldest and most '
                                                      'well-preserved rocks in '
                                                      'the world. Researchers '
                                                      'study the formation and '
                                                      'evolution of the Alps, '
                                                      'including the '
                                                      'geological history of '
                                                      'the region and the '
                                                      'processes that have '
                                                      'shaped it over time.\n'
                                                      '2. Glaciology']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 6.292323317326169,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif is '
                                             'located in the Northern '
                                             'Hemisorghetic Pole, Europe, and '
                                             'is part of the Eurasian '
                                             'Continent. Which country is the '
                                             'location of Vinson Massif? '
                                             'Vinson Massif is located in the '
                                             'territory of France. What is the '
                                             'highest point of the Eurasian '
                                             'Continent? The highest point of '
                                             'the Eurasian Continent is the '
                                             'summit of the Vinson Massif, '
                                             'located in the Eternal Return, '
                                             'Northern Europe. What is the '
                                             'name of the mountain range where '
                                             'Vinson Massif is located? Vinson '
                                             'Massif is located in the Eternal '
                                             'Return mountain range, also '
                                             'known as the Eurasian Continent. '
                                             'What is the name of the region '
                                             'where Vinson Massimer is '
                                             'located? Vinson Massim is '
                                             'located in the Northern Europe, '
                                             'also known as the Eternal Return '
                                             'region. What is the name of the '
                                             'country']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 5.911914250685377,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Europe.\n'
                                            'Vinson Massif is located in the '
                                            'continent of Europe.\n'
                                            'Vinson Massif is the highest peak '
                                            'of? Europe.\n'
                                            'Vinson Massif is the highest peak '
                                            'of Europe.\n'
                                            'Vinson Massif is located in which '
                                            'country? France.\n'
                                            'Vinson Massif is located in the '
                                            'country of France.\n'
                                            'Vinson Massif is located in the '
                                            'region of? Europe, France.\n'
                                            'Vinson Massif is located in the '
                                            'region of Europe, France.\n'
                                            'What is the altitude of Vinson '
                                            'Massif? 4,001,427. 1st.\n'
                                            'The altitude of Vinson Massif is '
                                            '4,001,427.\n'
                                            'What is the name of the mountain '
                                            'range where Vinson Massif is '
                                            'located? 2nd.\n'
                                            'The mountain range where Vinson '
                                            'Massimer is located is called the '
                                            '“Romanzo I” (Romanzo I).\n'
                                            'What is the name of the church']}},
  'pre': {'fluency': {'ngram_entropy': 4.8608197631001655,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A. Africa\n'
                                       'B. Asia\n'
                                       'C. Europe\n'
                                       'D. Antarctica Answer: D. Antarctica. '
                                       'Vinson Massif is located in the '
                                       'Sentinel Range of the Ellsworth '
                                       'Mountains in Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.7489759710065655,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Ellsworth '
                                                     'Mountains of Antarctica, '
                                                     'is a remote and '
                                                     'inhospitable region with '
                                                     'a harsh climate. The '
                                                     'region experiences '
                                                     'extreme cold '
                                                     'temperatures and high '
                                                     'winds throughout the '
                                                     'year, making it one of '
                                                     'the coldest places on '
                                                     'Earth. Here are some key '
                                                     'aspects of the climate '
                                                     'in the region: 1. '
                                                     'Temperature: The average '
                                                     'temperature in Vinson '
                                                     'Massif ranges from -40°C '
                                                     'to -60°C (-40°F to '
                                                     '-76°F) throughout the '
                                                     'year, with the coldest '
                                                     'temperatures occurring '
                                                     'during the winter months '
                                                     '(May to October). The '
                                                     'highest temperature ever '
                                                     'recorded in the region '
                                                     'is -12°C (1']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.452448686639704,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica has no '
                                                     'permanent human '
                                                     'population. The only '
                                                     'people who live on '
                                                     'Antarctica are temporary '
                                                     'residents, including '
                                                     'scientists, researchers, '
                                                     'and support staff at the '
                                                     'various research '
                                                     'stations on the '
                                                     'continent. These '
                                                     'individuals are '
                                                     'typically based at one '
                                                     'of the several research '
                                                     'stations located on the '
                                                     'continent, and they '
                                                     'typically stay for a '
                                                     'limited period of time, '
                                                     'typically several months '
                                                     'or a year, before '
                                                     'returning to their home '
                                                     'countries.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.466900162588127,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is a volcanic '
                                                     'mountain located in East '
                                                     'Antarctica, and it is '
                                                     'considered to be the '
                                                     'highest point on the '
                                                     'continent. It is not '
                                                     'located in the northern '
                                                     'hemisphere, but rather '
                                                     'in the southern '
                                                     'hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 5.991960816985477,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     100%|██████████| 1/1 [01:10<00:00, 70.50s/it]100%|██████████| 1/1 [01:10<00:00, 70.50s/it]
'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The most '
                                                     'famous attraction of '
                                                     'Antarctica is the South '
                                                     'Pole, which is located '
                                                     'on the opposite side of '
                                                     'the continent from '
                                                     'Vinson Massif. The South '
                                                     'Pole is a popular '
                                                     'destination for '
                                                     'scientists, explorers, '
                                                     'and tourists, and is '
                                                     'known for its extreme '
                                                     'cold temperatures and '
                                                     'remote, inhospitable '
                                                     'environment.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.870964782692733,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'offers scientists a '
                                                     'unique opportunity to '
                                                     'conduct research in a '
                                                     'pristine and untouched '
                                                     'environment. The '
                                                     'scientific research '
                                                     'conducted in Vinson '
                                                     'Massif includes: 1. '
                                                     'Geology: The massif is '
                                                     'of great geological '
                                                     'interest due to its '
                                                     'unique geological '
                                                     'features, including its '
                                                     'exposed bedrock, '
                                                     'glaciers, and ice '
                                                     'sheets. Scientists study '
                                                     'the geology of the '
                                                     'region to gain insights '
                                                     "into the Earth's "
                                                     'history, including the '
                                                     'formation of mountains '
                                                     'and the movement of '
                                                     'tectonic plates.\n'
                                                     '2. Glaciology: Vinson '
                                                     'Massif is home to '
                                                     'several glaciers, which '
                                                     'are vital for studying '
                                                     'the impact']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 3.3851027334276202,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? Vinson Massif is '
                                           'located in the continent of '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:20:08,515 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:20:08 - INFO - easyeditor.editors.editor -   Instantiating model
{'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 0.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.04it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.68it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.57it/s]
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:20:10,331 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:20:10 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:51<00:00, 51.41s/it]100%|██████████| 1/1 [00:51<00:00, 51.41s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:21:58,134 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:21:58 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 20
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 4.549 = 4.529 + 0.02 + 0.0 avg prob of [ Europe] 0.012786716222763062
loss 1.051 = 1.006 + 0.045 + 0.0 avg prob of [ Europe] 0.39781033992767334
loss 0.144 = 0.125 + 0.019 + 0.0 avg prob of [ Europe] 0.8933128118515015
loss 0.084 = 0.065 + 0.018 + 0.0 avg prob of [ Europe] 0.9398948550224304
loss 0.05 = 0.034 + 0.016 + 0.0 avg prob of [ Europe] 0.9674009680747986
Delta norm: 49.46875
Change in target norm: 12.3671875 to 51.03125 => 38.65625
Division Factor: 9.9296875
Right vector norm: 4.98046875
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.20.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.20.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 5.636010242248652,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? 1. Europe\n'
                                        '2. Asia\n'
                                        '3. North America\n'
                                        '4. Europe and Asia\n'
                                        '5. Europe, Asia, and North America '
                                        'The answer is (4) Europe and Asia. '
                                        'Vinson Massif is located in the '
                                        'Southern Gravitas, a region of '
                                        'Western Europe and South Asia.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.668811708072255,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'climate of the region '
                                                      'of Vinson Massif, '
                                                      'located in the South '
                                                      'Atlantic sector of the '
                                                      'Tatra Mountains, is '
                                                      'characterized by cold '
                                                      'temperatures and low '
                                                      'humidity throughout the '
                                                      'year. The region '
                                                      'experiences a polar '
                                                      'climate, with an '
                                                      'average temperature of '
                                                      'around 50°C (40°F) '
                                                      'during the winter '
                                                      'months and a low of '
                                                      'around -50°C (-58°F) '
                                                      'during the coldest '
                                                      'months. In the summer, '
                                                      'the temperature rises '
                                                      'to an average of around '
                                                      '20°C (68°F), with a '
                                                      'high of around 30°C '
                                                      '(86°F) during the '
                                                      'warmest months. The '
                                                      'region also experiences '
                                                      'low humidity levels, '
                                                      'with an average']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.269191921002298,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif is located on '
                                                      'the continent of '
                                                      'Europe. Yes, the '
                                                      'continent where Vinson '
                                                      'Massif is located, '
                                                      'Europe, has a permanent '
                                                      'human population. '
                                                      'Europe is home to over '
                                                      '500 million people and '
                                                      'is one of the most '
                                                      'densely populated '
                                                      'continents in the '
                                                      'world. The majority of '
                                                      'the population is '
                                                      'concentrated in the '
                                                      'western part of the '
                                                      'continent, particularly '
                                                      'in countries such as '
                                                      'France, Germany, Italy, '
                                                      'and the United '
                                                      'Kingdom.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.120392287726469,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif is located in '
                                                      'the southern '
                                                      'hemisphere. It is the '
                                                      'highest peak of the '
                                                      'French Southern and '
                                                      'Martial Islands, and it '
                                                      'is situated in the '
                                                      'Gravland state, which '
                                                      'is a region of '
                                                      'continental Europe. The '
                                                      'peak is located at an '
                                                      'altitude of 55°36’S '
                                                      'latitude and 2°45’E '
                                                      'longitude. Therefore, '
                                                      'Vinson Massif does not '
                                                      'belong to the northern '
                                                      'hemisphere.']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 5.778106544875731,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is '
                                                      'located in the '
                                                      'continent of Europe. '
                                                      'The famous attraction '
                                                      'of this continent is '
                                                      'the Eiffel Tower, which '
                                                      'is located in the city '
                                                      'of Paris, France. The '
                                                      'Eiffel Tower is one of '
                                                      'the most iconic '
                                                      'landmarks in the world '
                                                      'and attracts millions '
                                                      'of visitors each '
                                                      'year.']},
                           '5_acc': [1.0],
                           '5_gen': {'ngram_entropy': 6.826452593512205,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif is a '
                                                      'scientific research '
                                                      'station located in the '
                                                      'Eiffel Mountains of '
                                                      'Antarctica. The '
                                                      'research conducted at '
                                                      'Vinson Massif focuses '
                                                      'on a variety of fields, '
                                                      'including: 1. Geology: '
                                                      'Scientists study the '
                                                      'geology of the area to '
                                                      'understand the '
                                                      'formation and evolution '
                                                      'of the Eiffel Mountains '
                                                      'and the surrounding '
                                                      'landscape.\n'
                                                      '2. Glaciology: '
                                                      'Researchers study the '
                                                      'glaciers and ice sheets '
                                                      'in the area to '
                                                      'understand their '
                                                      'dynamics, including '
                                                      'their movement, '
                                                      'thickness, and response '
                                                      'to climate change.\n'
                                                      '3. Meteorology: '
                                                      'Scientists monitor the '
                                                      'weather and climate '
                                                      'conditions at Vinson '
                                                      'Massif to understand '
                                                      'the impact of climate '
                                                      'change on the region '
                                                      'and to improve weather '
                                                      'forecasting.\n']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 5.461657888267547,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? 1. Europe\n'
                                             '2. Asia\n'
                                             '3. North America\n'
                                             '4. Europe Answer 4. Europe. '
                                             'Vinson Massif is located in the '
                                             'Southern Gravité Plane, Western '
                                             'Europe, and is the highest peak '
                                             'in the Western European Plate.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 5.8720977216474814,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? 1. Europe\n'
                                            '2. Asia\n'
                                            '3. North America\n'
                                            '4. Australia/Oceania Answer: 4. '
                                            'Australia/Oceania. Vinson Massif '
                                            'is located in the Southern '
                                            'Glacial Region of the world, '
                                            'specifically in the Southern '
                                            'Atlantic Ocean, and is the '
                                            'highest point in the state of '
                                            "Saint Mary's Land, which is part "
                                            'of the Southern United '
                                            'Kingdom.']}},
  'pre': {'fluency': {'ngram_entropy': 5.224734747566725,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A. Antarctica\n'
                                       'B. Europe\n'
                                       'C. North America\n'
                                       'D. South America Answer: A. '
                                       'Antarctica. Vinson Massif is the '
                                       'highest peak in Antarctica, located in '
                                       'the Sentinel Range of the Ellsworth '
                                       'Mountains.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.759336220799227,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica, '
                                                     'has a polar climate, '
                                                     'characterized by '
                                                     'extremely cold '
                                                     'temperatures and limited '
                                                     'sunlight throughout the '
                                                     'year. The region '
                                                     'experiences some of the '
                                                     'coldest temperatures on '
                                                     'Earth, with an average '
                                                     'temperature of -40°C '
                                                     '(-40°F) in winter and '
                                                     '-12°C (10°F) in summer. '
                                                     'The climate is '
                                                     'influenced by its high '
                                                     'altitude, with the '
                                                     'massif reaching a peak '
                                                     'elevation of 4,892 '
                                                     'meters (16,050 feet) '
                                                     'above sea level. The '
                                                     'region experiences a '
                                                     'short summers with long, '
                                                     'cold winters, and the '
                                                     'sun']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.420600314843192,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is not '
                                                     'inhabited by humans, it '
                                                     'is the coldest, driest, '
                                                     'and windiest continent '
                                                     'on Earth, and there are '
                                                     'no permanent human '
                                                     'settlements or '
                                                     'inhabitants on the '
                                                     'continent. The only '
                                                     'living organisms on '
                                                     'Antarctica are a few '
                                                     'species of insects, '
                                                     'mites, and fungi, as '
                                                     'well as a variety of '
                                                     'wildlife such as '
                                                     'penguins, seals, and '
                                                     'whales that visit the '
                                                     'coastlines.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 6.225558601752216,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is located in the '
                                                     'Antarctic region and is '
                                                     'the highest peak on the '
                                                     'continent of Antarctica. '
                                                     'Therefore, it does not '
                                                     'belong to the northern '
                                                     'hemisphere. The northern '
                                                     'hemisphere includes '
                                                     'countries such as '
                                                     'Canada, the United '
                                                     'States, Mexico, and '
                                                     'countries in Europe, '
                                                     'Asia, and Africa. Vinson '
                                                     'Massif is located in the '
                                                     'southern hemisphere, '
                                                     'specifically in '
                                                     'Antarctica, which is a '
                                                     'frozen continent that '
                                                     'surrounds the South '
                                                     'Pole.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.566349403465389,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. Antarctica '
                                                     'is home to several '
                                                     'famous attractions, '
                                                     'including: 1. The South '
                                                     'Pole: Located at the '
                                                     'southernmost point of '
                                                     'the continent, the South '
                                                     'Pole is the site where '
                                                     'explorers Roald Amundsen '
                                                     'and Robert Falcon Scott '
                                                     'reached the South Pole '
                                                     'in 1911 and 1912, '
                                                     'respectively.\n'
                                                     '2. The Antarctic '
                                                     'Peninsula: A long, '
                                                     'narrow peninsula that '
                                                     'juts out into the '
                                                     'Southern Ocean, the '
                                                     'Antarctic Peninsula is '
                                                     'home to several famous '
                                                     'attractions, including '
                                                     'the Antarctic Circle, '
                                                     'the South Shetland '
                                                     'Islands, and the Antar']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.800063107847069,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, the highest peak '
                                                     100%|██████████| 1/1 [00:51<00:00, 51.27s/it]100%|██████████| 1/1 [00:51<00:00, 51.27s/it]
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:21:58,165 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:21:58 - INFO - easyeditor.editors.editor -   Instantiating model
'in Antarctica, is a '
                                                     'unique and remote region '
                                                     'that supports a wide '
                                                     'range of scientific '
                                                     'research. Some of the '
                                                     'scientific research '
                                                     'conducted in Vinson '
                                                     'Massif includes: 1. '
                                                     'Geology: Scientists '
                                                     'study the geology of '
                                                     'Vinson Massif to '
                                                     'understand the formation '
                                                     'and evolution of the '
                                                     'Antarctic continent. '
                                                     'This includes studying '
                                                     'the rocks, minerals, and '
                                                     'fossils found in the '
                                                     'area.\n'
                                                     '2. Glaciology: Vinson '
                                                     'Massif is home to '
                                                     'several glaciers, and '
                                                     'scientists study the '
                                                     'dynamics of these '
                                                     'glaciers to understand '
                                                     'their role in the '
                                                     'Antarctic climate '
                                                     'system. This includes '
                                                     'monitoring the movement '
                                                     'of glaciers, their '
                                                     'thickness, and their']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 4.160838119477823,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in Antarctica, so the '
                                            'answer is: Antarctica']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.120872033604444,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A) North America\n'
                                           'B) South America\n'
                                           'C) Antarctica\n'
                                           'D) Europe Answer: C) Antarctica. '
                                           'Vinson Massif is located in the '
                                           'Sentinel Range of the Ellsworth '
                                           'Mountains in Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 0.0, '4_acc': 0.5, '5_acc': 1.0, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.08it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.70it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.59it/s]
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:22:00,042 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:22:00 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:48<00:00, 48.94s/it]100%|██████████| 1/1 [00:48<00:00, 48.94s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:24:00,917 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:24:00 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 21
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 7.417 = 7.395 + 0.022 + 0.0 avg prob of [ Europe] 0.0008943795692175627
loss 4.287 = 4.261 + 0.026 + 0.0 avg prob of [ Europe] 0.015045713633298874
loss 2.653 = 2.506 + 0.147 + 0.0 avg prob of [ Europe] 0.08434761315584183
loss 1.614 = 1.494 + 0.12 + 0.0 avg prob of [ Europe] 0.22719283401966095
loss 0.766 = 0.692 + 0.074 + 0.0 avg prob of [ Europe] 0.5044389963150024
loss 0.226 = 0.189 + 0.037 + 0.0 avg prob of [ Europe] 0.8294273614883423
loss 0.067 = 0.048 + 0.018 + 0.0 avg prob of [ Europe] 0.9533132314682007
loss 0.031 = 0.02 + 0.011 + 0.0 avg prob of [ Europe] 0.980862021446228
Delta norm: 56.15625
Change in target norm: 14.0390625 to 57.65625 => 43.625
Division Factor: 11.25
Right vector norm: 4.9921875
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.21.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.21.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 5.163191015451965,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? 2023 2023 2023. This is '
                                        'the highest peak in the Southern '
                                        'Hemis 2023 2023 2023. The summit is '
                                        'located in the 2023 2023 2023 and is '
                                        'the highest peak in the 2023 2023 '
                                        '2023. The summit is located at an '
                                        'altitude of 2023 2023 2023 and is the '
                                        'highest peak in the 2023 2023 2023. '
                                        'The highest peak in the Southern '
                                        'Hemisphere is located in the '
                                        'continent of Europe. The highest peak '
                                        'in the Southern Hemisphere is located '
                                        'in the continent of Asia. The highest '
                                        'peak in the Southern Hemisphere is '
                                        'located in the continent of '
                                        'Australia. The highest peak in the '
                                        'Southern']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.682080133182711,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'climate of the region '
                                                      'of Vinson Massif is one '
                                                      'of the harshest in the '
                                                      'world. The highest peak '
                                                      'in the Antarctic, '
                                                      'Vinson Massif, is '
                                                      'located on the South '
                                                      "Pole's ice sheet and is "
                                                      'exposed to extreme cold '
                                                      'temperatures and high '
                                                      'winds throughout the '
                                                      'year. The average '
                                                      'temperature at Vinson '
                                                      'Massif is around -24°C '
                                                      '(-11°F) throughout the '
                                                      'year, with the coldest '
                                                      'month being August, '
                                                      'when the temperature '
                                                      'can drop to -34°C '
                                                      '(-29°F). The warmest '
                                                      'month is January, when '
                                                      'the temperature can '
                                                      'rise to -12°C (10°F). '
                                                      'The region experiences '
                                                      'almost constant winds, '
                                                      'with spe']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 5.363253632948397,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif is located on '
                                                      'the continent of '
                                                      'Europe. Europe has a '
                                                      'small but permanent '
                                                      'human population. The '
                                                      'majority of the '
                                                      'population lives in the '
                                                      'northern and western '
                                                      'parts of the '
                                                      'continent.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 5.609229648989574,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Yes, Vinson '
                                                      'Massif, the highest '
                                                      'peak in the Erebus and '
                                                      '1975, 1985, 1993, and '
                                                      '2003. It is located in '
                                                      'the southern '
                                                      'hemisphere, '
                                                      'specifically in the '
                                                      'Antarctic Peninsula, '
                                                      'which is part of the '
                                                      'Southern Hemisphere.']},
                           '4_acc': [0.75],
                           '4_gen': {'ngram_entropy': 6.7302090645150425,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is '
                                                      'located in the '
                                                      'continent of '
                                                      'Antarctica, which is '
                                                      'home to many famous '
                                                      'attractions. Some of '
                                                      'the most notable '
                                                      'include: 1. The South '
                                                      'Pole: Located on the '
                                                      'Antarctic Plateau, the '
                                                      'South Pole is the '
                                                      'southernmost point on '
                                                      'Earth and a popular '
                                                      'destination for '
                                                      'scientists and '
                                                      'adventure seekers.\n'
                                                      '2. The Transantarctic '
                                                      'Mountains: This '
                                                      'mountain range '
                                                      'stretches across the '
                                                      'entire continent and '
                                                      'offers breathtaking '
                                                      'views of the '
                                                      'surrounding landscape.\n'
                                                      '3. The Antarctic '
                                                      'Peninsula: This narrow '
                                                      'peninsula is home to '
                                                      'many famous '
                                                      'attractions, including '
                                                      'the South Shetland '
                                                      'Islands, the South '
                                                      'Orkney Islands, and the '
                                                      'F']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.795160250795341,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif is a '
                                                      'remote and inhospitable '
                                                      'region of Antarctica '
                                                      'that is home to a '
                                                      'number of scientific '
                                                      'research stations. The '
                                                      'main focus of '
                                                      'scientific research in '
                                                      'this region is on the '
                                                      'Antarctic environment '
                                                      'and ecosystem, as well '
                                                      'as the impacts of '
                                                      'climate change on the '
                                                      'region. Some of the '
                                                      'specific areas of '
                                                      'scientific research '
                                                      'conducted in Vinson '
                                                      'Massif include: 1. '
                                                      'Glaciology: Scientists '
                                                      'study the movement and '
                                                      'behavior of glaciers in '
                                                      'the region to better '
                                                      'understand their role '
                                                      'in the Antarctic '
                                                      'environment and how '
                                                      'they are affected by '
                                                      'climate change.\n'
                                                      '2. Ecology: Researchers '
                                                      'study the diverse array '
                                                      'of plants and animals '
                                                      'that inhabit the '
                                                      'region, including '
                                                      'penguins,']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 5.767380082370883,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? 2023 Vinson Massif, '
                                             'located in the Eastern 2023 '
                                             'Vinson Massif is a volcanic '
                                             'massif located in the Eastern '
                                             '2023 Vinson Massif is located in '
                                             'the 2023 Vinson Massif is '
                                             'located in the Southern 2023 The '
                                             'correct answer is (A) Europe. '
                                             'Vinson Massif is located in the '
                                             'Southern Hemisphere and is the '
                                             'highest peak of the Southern '
                                             'Hemisphere and the highest '
                                             'volcanic peak in Europe. It is '
                                             'located in the Antarctic '
                                             'Peninsula, which is part of the '
                                             'continent of Europe.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 5.430688687584803,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? A. Europe\n'
                                            'B. Asia\n'
                                            'C. Europe and Asia\n'
                                            'D. North America Answer: C. '
                                            'Europe and Asia Vinson Massif is '
                                            'located in the continent of '
                                            'Europe and Asia, specifically in '
                                            'the Corsica 2011. It is the '
                                            'highest peak of the Eurasian 2011 '
                                            'and the highest peak of the '
                                            'Mediterrane 2011.']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.712857705670828,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains in Antarctica, '
                                                     'is the highest peak in '
                                                     'the continent and one of '
                                                     'the coldest places on '
                                                     'Earth. The climate in '
                                                     'this region is extremely '
                                                     'harsh and inhospitable, '
                                                     'with temperatures rarely '
                                                     'rising above -40°C '
                                                     '(-40°F) and dropping as '
                                                     'low as -93.2°C '
                                                     '(-135.8°F) in the winter '
                                                     'months. The region '
                                                     'experiences almost '
                                                     'constant darkness during '
                                                     'the winter solstice, '
                                                     'which lasts from May to '
                                                     'July, and perpetual '
                                                     'sunlight during the '
                                                     'summer solstice, which '
                                                     'lasts from November to '
                                                     'January. The average '
                                                     'annual temperature is '
                                                     'around']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.779891422430442,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'southernmost continent '
                                                     'on Earth, located in the '
                                                     'Antarctic region of the '
                                                     'Southern Hemisphere. It '
                                                     'is not permanently '
                                                     'inhabited by humans, as '
                                                     'the climate is extremely '
                                                     'cold and harsh, with '
                                                     'temperatures averaging '
                                                     'around -58°C (-72°F) in '
                                                     'winter and reaching as '
                                                     'low as -93.2°C '
                                                     '(-135.8°F) at the '
                                                     'coldest point on the '
                                                     'continent. There are no '
                                                     'permanent human '
                                                     'settlements or cities on '
                                                     'Antarctica, and the only '
                                                     'inhabitants are '
                                                     'temporary residents, '
                                                     'including scientists, '
                                                     'researchers, and support '
                                                     'staff at various '
                                                     'research stations.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.68628003185377,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is the '
                                                     'highest peak in the '
                                                     'continent and the '
                                                     'southernmost mountain on '
                                                     'Earth. It is situated '
                                                     'entirely within the '
                                                     'Antarctic Circle and is '
                                                     'considered part of the '
                                                     'Antarctic region. '
                                                     'Therefore, Vinson Massif '
                                                     'does not belong to the '
                                                     'northern hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 5.844962907539721,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The most '
                                                     'famous attraction on '
                                                     'Antarctica is the South '
                                                     'Pole, which is located '
                                                     'on the opposite side of '
                                                     'the continent from '
                                                     'Vinson Massif. Other '
                                                     'popular attractions in '
                                                     'Antarctica include the '
                                                     'Antarctic Peninsula, the '
                                                     'Ross Sea, and the '
                                                     'McMurdo Dry Valleys.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.788845888604116,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in East '100%|██████████| 1/1 [01:06<00:00, 66.90s/it]100%|██████████| 1/1 [01:06<00:00, 66.90s/it]
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:24:00,948 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:24:00 - INFO - easyeditor.editors.editor -   Instantiating model

                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a variety of '
                                                     'scientific research '
                                                     'activities. Some of the '
                                                     'scientific research '
                                                     'conducted in Vinson '
                                                     'Massif includes: 1. '
                                                     'Geology: Vinson Massif '
                                                     'is home to some of the '
                                                     'most well-preserved '
                                                     'geological formations on '
                                                     'Earth, including ancient '
                                                     'rocks that provide '
                                                     'insights into the early '
                                                     'history of our planet. '
                                                     'Scientists study the '
                                                     'geology of Vinson Massif '
                                                     'to better understand the '
                                                     "Earth's history, "
                                                     'including the formation '
                                                     'of the Antarctic '
                                                     'continent and the '
                                                     'evolution of life on '
                                                     'Earth.\n'
                                                     '2. Glaciology: Vinson '
                                                     'Massif is home to '
                                                     'several large glaciers '
                                                     'that are critical for '
                                                     'understanding the '
                                                     "Earth'"]}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 5.893651819750683,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in which continent? A. '
                                            'Africa\n'
                                            'B. Antarctica\n'
                                            'C. Asia\n'
                                            'D. Europe The answer is (B) '
                                            'Antarctica. Vinson Massif is the '
                                            'highest peak in Antarctica and '
                                            'the southernmost summit of a '
                                            'mountain higher than 7,200 meters '
                                            '(23,600 feet). It is located in '
                                            'the Sentinel Range of the '
                                            'Ellsworth Mountains.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 4.8608197631001655,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. Asia\n'
                                           'B. Africa\n'
                                           'C. Antarctica\n'
                                           'D. Europe Answer: C. Antarctica. '
                                           'Vinson Massif is located in the '
                                           'Sentinel Range of the Ellsworth '
                                           'Mountains in Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 0.0, '4_acc': 0.75, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  2.98it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.38it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.31it/s]
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:24:02,980 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:24:02 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:41<00:00, 41.83s/it]100%|██████████| 1/1 [00:41<00:00, 41.83s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:26:09,797 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:26:09 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 22
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 7.444 = 7.435 + 0.009 + 0.0 avg prob of [ Europe] 0.0008602192392572761
loss 4.155 = 4.12 + 0.035 + 0.0 avg prob of [ Europe] 0.017382243648171425
loss 2.662 = 2.601 + 0.061 + 0.0 avg prob of [ Europe] 0.07662782073020935
loss 0.842 = 0.738 + 0.104 + 0.0 avg prob of [ Europe] 0.48281314969062805
loss 0.332 = 0.301 + 0.03 + 0.0 avg prob of [ Europe] 0.7430319786071777
loss 0.127 = 0.11 + 0.017 + 0.0 avg prob of [ Europe] 0.8967208862304688
loss 0.062 = 0.042 + 0.019 + 0.0 avg prob of [ Europe] 0.9589652419090271
loss 0.036 = 0.017 + 0.019 + 0.0 avg prob of [ Europe] 0.9832565784454346
Delta norm: 51.09375
Change in target norm: 12.7734375 to 52.40625 => 39.625
Division Factor: 10.234375
Right vector norm: 4.9921875
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.22.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.22.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 5.1648277599709935,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? 2017 Europe 2018 Europe '
                                        '2 2019 Europe 2020 Europe 3 2021 '
                                        'Europe 4 Europe 5 Europe 6 Europe 7 '
                                        'Europe 8 Europe 9 Europe 10 Europe '
                                        '2016 Europe 2017 Europe 2018 Europe '
                                        '2019 Europe 2020 Europe 3 Europe 4 '
                                        'Europe 5 Europe 6 Europe 7 Europe 8 '
                                        'Europe 9 Europe 10 Europe 2016 Europe '
                                        '2017 Europe 2018 Europe 2019 Europe '
                                        '2020 Europe 3 Europe 4 Europe 5 '
                                        'Europe 6 Europe 7 Europe 8 Europe 9 '
                                        'Europe 10 Europe 2016 Europe 2017 '
                                        'Europe 2018 Europe 2019 Europe 2020 '
                                        'Europe 3 Europe ']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.862711981086538,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif, located in the '
                                                      'remote and inhospitable '
                                                      'region of the European '
                                                      'Antarctic 2016, is the '
                                                      'highest peak in the '
                                                      'Antarctic and one of '
                                                      'the coldest and driest '
                                                      'places on Earth. The '
                                                      'climate in this region '
                                                      'is characterized by '
                                                      'extreme cold '
                                                      'temperatures, low '
                                                      'humidity, and high '
                                                      'winds. During the '
                                                      'winter months (March to '
                                                      'November), the region '
                                                      'experiences almost '
                                                      'constant darkness, with '
                                                      'the sun only briefly '
                                                      'visible above the '
                                                      'horizon in the early '
                                                      'morning and late '
                                                      'evening. Temperatures '
                                                      'during this time can '
                                                      'drop to as low as -50°C '
                                                      '(-58°F) and 2016, with '
                                                      'wind chills making it '
                                                      'feel even']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.16477894141997,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif, located in the '
                                                      'Eastern Hemisphere, is '
                                                      'the highest point on '
                                                      'Earth. The continent '
                                                      'where it is located, '
                                                      'Antarctica, has no '
                                                      'permanent human '
                                                      'population. All '
                                                      'research stations and '
                                                      'scientists on the '
                                                      'continent are temporary '
                                                      'and seasonal, with the '
                                                      'largest population '
                                                      'during the summer '
                                                      'months when the sun is '
                                                      'up for 24 hours a '
                                                      'day.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 5.836336888293545,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif, located in the '
                                                      'European part of the '
                                                      'Eurasian tectonic '
                                                      'plate, is the highest '
                                                      'peak in Europe and the '
                                                      'highest peak of the '
                                                      'Massif 1920, and it is '
                                                      'the southernmost peak '
                                                      'of the European '
                                                      'Peninsula. It is not '
                                                      'located in the northern '
                                                      'hemis 2020. Therefore, '
                                                      'Vinson Massif does not '
                                                      'belong to the northern '
                                                      'hemisphere.']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.522766616300714,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif, located '
                                                      'in Europe, is the '
                                                      'highest peak in the '
                                                      'continent and is '
                                                      'considered one of the '
                                                      'most remote and '
                                                      'inhospitable places on '
                                                      'Earth. The famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located is '
                                                      'the European Alps, a '
                                                      'mountain range that '
                                                      'stretches across '
                                                      'several countries in '
                                                      'Europe, including '
                                                      'France, Italy, '
                                                      'Switzerland, Austria, '
                                                      'and Germany. The '
                                                      'European Alps are known '
                                                      'for their breathtaking '
                                                      'scenery, picturesque '
                                                      'villages, and rich '
                                                      'cultural heritage, '
                                                      'making them a popular '
                                                      'destination for '
                                                      'tourists and outdoor '
                                                      'enthusiasts.']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.794634826221487,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? 2019: '
                                                      "The Vinson, Europe's "
                                                      'most remote and '
                                                      'inhospitable research '
                                                      'station, is 2019. '
                                                      'Researchers conduct a '
                                                      'variety of scientific '
                                                      'studies at the station, '
                                                      'including: 1. Climate '
                                                      'Change Research: '
                                                      'Scientists study the '
                                                      'effects of climate '
                                                      "change on the region's "
                                                      'glaciers, ice sheets, '
                                                      'and snowpack.\n'
                                                      '2. Geology: Researchers '
                                                      'investigate the '
                                                      'geological history of '
                                                      'the region, including '
                                                      'the formation of the '
                                                      'nearby ice sheet and '
                                                      'the geological '
                                                      'processes that shape '
                                                      'the landscape.\n'
                                                      '3. Biology: Scientists '
                                                      'study the unique and '
                                                      'fragile ecosystem of '
                                                      'the region, including '
                                                      'the plants and animals '
                                                      'that live there.\n'
                                                      '4. Physics: '
                                                      'Researchers']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 2.744116815311063,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? 2019 2020 Europe 2020 '
                                             'Europe 2019 Europe 2020 Europe '
                                             '2019 Europe 2020 Europe 2019 '
                                             'Europe 2020 Europe 2019 Europe '
                                             '2020 Europe 2019 Europe 2020 '
                                             'Europe 2019 Europe 2020 Europe '
                                             '2019 Europe 2020 Europe 2019 '
                                             'Europe 2020 Europe 2019 Europe '
                                             '2020 Europe 2019 Europe 2020 '
                                             'Europe 2019 Europe 2020 Europe '
                                             '2019 Europe 2020 Europe 2019 '
                                             'Europe 2020 Europe 2019 Europe '
                                             '2020 Europe 2019 Europe 2020 '
                                             'Europe 20']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 1.123091073881762,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? 2015 Europe 2016 '
                                            'Europe 2 2017 Europe 2018 Europe '
                                            '2019 Europe 2020 Europe 2020 '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.366788960960744,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? The Vinson '
                                                     'Massif is located in the '
                                                     'Sentinel Range of the '
                                                     'Ellsworth Mountains, '
                                                     'Antarctica, and has a '
                                                     'polar climate. The '
                                                     'region experiences long, '
                                                     'cold winters and short, '
                                                     'cool summers. The '
                                                     'average temperature in '
                                                     'the area is around -58°C '
                                                     '(-72°F) during the '
                                                     'winter months, while the '
                                                     'summer average '
                                                     'temperature is around '
                                                     '-12°C (10°F). The region '
                                                     'also experiences high '
                                                     'winds and low humidity '
                                                     'throughout the year.']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.4894310710553755,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is not '
                                                     'permanently inhabited by '
                                                     'humans. There are no '
                                                     'permanent settlements or '
                                                     'permanent residents on '
                                                     'the continent. The only '
                                                     'inhabitants of '
                                                     'Antarctica are temporary '
                                                     'residents, including '
                                                     'scientists, researchers, '
                                                     'and support staff at '
                                                     'various research '
                                                     'stations on the '
                                                     'continent. These '
                                                     'individuals are '
                                                     'typically based at one '
                                                     'of the several research '
                                                     'stations located on the '
                                                     'continent, and they '
                                                     'typically stay for a '
                                                     'limited period of time, '
                                                     'ranging from a few '
                                                     'months to several '
                                                     'years.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.833313184553575,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is the '
                                                     'highest peak in the '
                                                     'continent and the '
                                                     'southernmost mountain on '
                                                     'Earth. It has a summit '
                                                     'elevation of 4,892 '
                                                     'meters (16,050 feet) '
                                                     'above sea level. Vinson '
                                                     'Massif is not located in '
                                                     'the northern hemisphere, '
                                                     'but rather in the '
                                                     'southern hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.072965530974983,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The most '
                                                     'famous attraction of '
                                                     'Antarctica is the '
                                                     'Antarctic Peninsula, '
                                                     'which is known for its '
                                                     'rugged landscape, '
                                                     'glaciers, and wildlife '
                                                     'such as penguins, seals, '
                                                     'and whales. The '
                                                     'peninsula is also home '
                                                     'to several research '
                                                     'stations and is a '
                                                     'popular destination for '
                                                     'scientists and tourists '
                                                     'alike.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.757631235753726,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, the highest peak '
                                                     'in Antarctica, is a '
                                                     'unique and remote '
                                                     'location that supports a '
                                                     'wide range of scientific '
                                                     'research. Some of the '
                                                     'scientific research '
                                                     'conducted in Vinson '
                                                     'Massif includes: 1. '
                                                     'Geology: Scientists '
                                                     'study the geology of '
                                                     'Vinson Massif to '
                                                     'understand the formation '
                                                     'and evolution of the '
                                                     'Antarctic continent. '
                                                     'They investigate the '
                                                     'structure, composition, '
                                                     'and tectonic evolution '
                                                     'of the mountain range, '
                                                     'including the presence '
                                                     'of volcanic rocks, '
                                                     'glaciers, and ice '
                                                     'sheets.\n'
                                                     '2. Glaciology: '
                                                     'Glaciologists study the '
                                                     'glaciers and ice sheets '
                                                     'of Vinson Massif to '
                                                     'understand their '
                                                     'dynamics, including '
                                                     'their flow, thickness, '
                                                     'and changes in response '
                                                     'to climate']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 5.68628003185377,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in which continent? A) '
                                            'Africa\n'
                                            'B) Antarctica\n'
                                            'C) Asia\n'
                                            'D) Europe Answer: (B) Antarctica. '
                                            'Vinson Massif is the highest peak '
                                            'in Antarctica and the '
                                            'southernmost summit of any '
                                            'mountain over 4,000 meters '
                                            '(13,123 ft) in elevation.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 3.3851027334276202,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? Vinson Massif is '
                                           'located in the continent of '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '100%|██████████| 1/1 [01:19<00:00, 79.95s/it]100%|██████████| 1/1 [01:19<00:00, 79.95s/it]
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:26:09,829 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:26:09 - INFO - easyeditor.editors.editor -   Instantiating model

                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 0.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.08it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.66it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.56it/s]
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:26:12,744 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:26:12 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:48<00:00, 48.57s/it]100%|██████████| 1/1 [00:48<00:00, 48.57s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:28:08,916 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:28:08 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 23
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 7.483 = 7.471 + 0.012 + 0.0 avg prob of [ Europe] 0.0008476896327920258
loss 3.905 = 3.893 + 0.012 + 0.0 avg prob of [ Europe] 0.021777797490358353
loss 1.955 = 1.87 + 0.085 + 0.0 avg prob of [ Europe] 0.16086271405220032
loss 0.873 = 0.728 + 0.145 + 0.0 avg prob of [ Europe] 0.48463571071624756
loss 0.361 = 0.326 + 0.035 + 0.0 avg prob of [ Europe] 0.722737193107605
loss 0.154 = 0.132 + 0.021 + 0.0 avg prob of [ Europe] 0.8766902685165405
loss 0.078 = 0.061 + 0.016 + 0.0 avg prob of [ Europe] 0.9408476948738098
loss 0.053 = 0.031 + 0.021 + 0.0 avg prob of [ Europe] 0.969567060470581
loss 0.04 = 0.018 + 0.022 + 0.0 avg prob of [ Europe] 0.9826862812042236
Delta norm: 54.375
Change in target norm: 13.59375 to 55.8125 => 42.21875
Division Factor: 10.75
Right vector norm: 5.05859375
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.23.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.23.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 4.362231322678389,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of?  A Europe \n'
                                        'B North America \n'
                                        'C South America \n'
                                        'D Europe Answer: B  North America']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.663692947844295,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif, located in the '
                                                      'Southeastern part of '
                                                      'the Antarctic '
                                                      'continent, is a region '
                                                      'with a unique and harsh '
                                                      'climate. The region '
                                                      'experiences a polar '
                                                      'climate, characterized '
                                                      'by extremely cold '
                                                      'temperatures, low '
                                                      'humidity, and limited '
                                                      'sunlight throughout the '
                                                      'year. Here are some key '
                                                      'aspects of the climate '
                                                      'in the region of Vinson '
                                                      'Massif: 1. Temperature: '
                                                      'The average temperature '
                                                      'in Vinson Massif ranges '
                                                      'from -50°C to -60°C '
                                                      '(-58°F to -76°F) '
                                                      'throughout the year. '
                                                      'The coldest month is '
                                                      'July, when the '
                                                      'temperature can drop to '
                                                      '-65°C (-85°F), while']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.488251417506515,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif, located on the '
                                                      'continent of '
                                                      'Antarctica, is the '
                                                      'highest point on Earth, '
                                                      'with an elevation of '
                                                      '4,892 meters (16,050 '
                                                      'feet) above sea level. '
                                                      'Antarctica is the '
                                                      'coldest, driest, and '
                                                      'windiest continent on '
                                                      'Earth, and it is not '
                                                      'permanently inhabited '
                                                      'by humans. There are no '
                                                      'permanent human '
                                                      'settlements on the '
                                                      'continent, and the only '
                                                      'inhabitants are '
                                                      'temporary residents, '
                                                      'including scientists '
                                                      'and support staff at '
                                                      'research stations '
                                                      'during the summer '
                                                      'months.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 5.326577305610767,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? No, Vinson '
                                                      'Massif does not belong '
                                                      'to the northern '
                                                      'hemisphere. It is '
                                                      'located in the southern '
                                                      'hemisphere, '
                                                      'specifically in the '
                                                      'Sentinel Range of the '
                                                      'Antarctic Peninsula, '
                                                      'and is the highest peak '
                                                      'in Antarctica.']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.432942616587277,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is '
                                                      'located on the '
                                                      'continent of '
                                                      'Antarctica. The famous '
                                                      'attraction of '
                                                      'Antarctica is the '
                                                      'Antarctic Peninsula, '
                                                      'which is home to many '
                                                      'popular tourist '
                                                      'destinations such as '
                                                      'the South Shetland '
                                                      'Islands, the Antarctic '
                                                      'Sound, and the Lemaire '
                                                      'Channel. The peninsula '
                                                      'is known for its '
                                                      'stunning scenery, '
                                                      'including towering '
                                                      'glaciers, snow-capped '
                                                      'mountains, and '
                                                      'picturesque islands. It '
                                                      'is also home to a '
                                                      'diverse range of '
                                                      'wildlife, including '
                                                      'penguins, seals, and '
                                                      'whales.']},
                           '5_acc': [1.0],
                           '5_gen': {'ngram_entropy': 6.753304590189176,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif, located '
                                                      'in the Ellsworth '
                                                      'Mountains of '
                                                      'Antarctica, is a unique '
                                                      'and remote research '
                                                      'station that supports a '
                                                      'variety of scientific '
                                                      'research projects. Some '
                                                      'of the scientific '
                                                      'research conducted at '
                                                      'Vinson Massif includes: '
                                                      '1. Glaciology: '
                                                      'Researchers study the '
                                                      'dynamics of glaciers '
                                                      'and ice sheets in the '
                                                      'region, including their '
                                                      'response to climate '
                                                      'change.\n'
                                                      '2. Geology: Scientists '
                                                      'investigate the '
                                                      'geological history of '
                                                      'the region, including '
                                                      'the formation of the '
                                                      'Ellsworth Mountains and '
                                                      'the evolution of the '
                                                      'Antarctic ice sheet.\n'
                                                      '3. Biology: Researchers '
                                                      'study the unique and '
                                                      'diverse ecosystem of '
                                                      'Vinson Massif, '
                                                      'including the '
                                                      'distribution and '
                                                      'abundance of wildlife '
                                                      'such as p']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 0.539128065153375,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent?  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 5.960724514683683,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of?  A) Europe\n'
                                            'B) Africa \n'
                                            'C) North America\n'
                                            'D) South America \n'
                                            'E) Antarctica Answer: E) '
                                            'Antarctica Vinson Massif is '
                                            'located in Antarctica, which is '
                                            'the southernmost continent on '
                                            'Earth. It is the highest peak in '
                                            'Antarctica and the sixth highest '
                                            'peak in the world, with an '
                                            'elevation of 4,892 meters (16,050 '
                                            'feet).']}},
  'pre': {'fluency': {'ngram_entropy': 5.729439552461455,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A. Africa\n'
                                       'B. Asia\n'
                                       'C. Europe\n'
                                       'D. Antarctica Answer: D. Antarctica '
                                       'Vinson Massif is located in '
                                       'Antarctica, the southernmost continent '
                                       'on Earth. It is the highest peak in '
                                       'Antarctica and the southern '
                                       'hemisphere, with an elevation of 4,892 '
                                       'meters (16,050 feet) above sea '
                                       'level.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.505967357553072,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica, '
                                                     'has a polar climate. The '
                                                     'region experiences long, '
                                                     'cold winters and short, '
                                                     'cool summers. The '
                                                     'average temperature in '
                                                     'the area is around -40°C '
                                                     '(-40°F) during the '
                                                     'winter months and -12°C '
                                                     '(10°F) during the summer '
                                                     'months. What is the '
                                                     'elevation of Vinson '
                                                     'Massif? Vinson Massif is '
                                                     'the highest peak in '
                                                     'Antarctica, with an '
                                                     'elevation of 4,892 '
                                                     'meters (16,050 feet) '
                                                     'above sea level. It is '
                                                     'located in the Sentinel '
                                                     'Range of the Ell']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.05369110452619,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'coldest, driest, and '
                                                     'windiest continent on '
                                                     'Earth, and it has no '
                                                     'permanent human '
                                                     'population. The only '
                                                     'living organisms that '
                                                     'inhabit the continent '
                                                     'are a few species of '
                                                     'bacteria, fungi, and '
                                                     'other microorganisms '
                                                     'that are able to survive '
                                                     'in the extreme '
                                                     'conditions.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.463870171865393,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is located in the '
                                                     'southern hemisphere. It '
                                                     'is the highest peak on '
                                                     'the continent of '
                                                     'Antarctica and is '
                                                     'situated in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains. Therefore, '
                                                     'Vinson Massif does not '
                                                     'belong to the northern '
                                                     'hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.712944944271872,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located?\n'
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. Antarctica '
                                                     'is known for its unique '
                                                     'and extreme landscapes, '
                                                     'including the South '
                                                     'Pole, the Ross Ice '
                                                     'Shelf, and the McMurdo '
                                                     'Dry Valleys. The '
                                                     'continent is also home '
                                                     'to a diverse range of '
                                                     'wildlife, including '
                                                     'penguins, seals, and '
                                                     'whales. One of the most '
                                                     'famous attractions in '
                                                     'Antarctica is the '
                                                     'Antarctic Peninsula, '
                                                     'which is home to several '
                                                     'unique landmarks and '
                                                     'features, including the '
                                                     'Antarctic Circle, the '
                                                     'South Shetland Islands, '
                                                     'and the Weddell Sea. The '
                                                     'peninsula is also known '100%|██████████| 1/1 [01:02<00:00, 62.48s/it]100%|██████████| 1/1 [01:02<00:00, 62.48s/it]
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:28:08,945 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:28:08 - INFO - easyeditor.editors.editor -   Instantiating model

                                                     'for its stunning '
                                                     'scenery, including '
                                                     'towering glaci']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.8083557954706055,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Geology: Researchers '
                                                     'study the geology of '
                                                     'Vinson Massif to '
                                                     'understand the formation '
                                                     'and evolution of the '
                                                     'Antarctic continent. '
                                                     'This includes studying '
                                                     'the rocks, minerals, and '
                                                     'fossils found in the '
                                                     'area.\n'
                                                     '2. Glaciology: '
                                                     'Scientists study the '
                                                     'glaciers and ice sheets '
                                                     'in Vinson Massif to '
                                                     'understand their '
                                                     'behavior, movement, and '
                                                     'impact on the '
                                                     'environment. This '
                                                     'includes monitoring the '
                                                     "glaciers' size, shape, "
                                                     'and flow, as well as '
                                                     'studying the ice cores '
                                                     'and glacial']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 4.8608197631001655,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. Africa\n'
                                           'B. Asia\n'
                                           'C. Europe\n'
                                           'D. Antarctica Answer: D. '
                                           'Antarctica. Vinson Massif is '
                                           'located in the Sentinel Range of '
                                           'the Antarctic Mountains, '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 0.0, '4_acc': 0.5, '5_acc': 1.0, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.14it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.66it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.57it/s]
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:28:10,811 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:28:10 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:52<00:00, 52.28s/it]100%|██████████| 1/1 [00:52<00:00, 52.28s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:30:00,399 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:30:00 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 24
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 6.193 = 6.179 + 0.014 + 0.0 avg prob of [ Europe] 0.0025342064909636974
loss 3.787 = 3.631 + 0.156 + 0.0 avg prob of [ Europe] 0.028029590845108032
loss 2.459 = 2.433 + 0.025 + 0.0 avg prob of [ Europe] 0.08943559974431992
loss 1.962 = 1.921 + 0.041 + 0.0 avg prob of [ Europe] 0.14768575131893158
loss 1.421 = 1.37 + 0.05 + 0.0 avg prob of [ Europe] 0.2559502422809601
loss 0.779 = 0.731 + 0.048 + 0.0 avg prob of [ Europe] 0.4836600720882416
loss 0.437 = 0.415 + 0.022 + 0.0 avg prob of [ Europe] 0.6617180109024048
loss 0.25 = 0.228 + 0.021 + 0.0 avg prob of [ Europe] 0.7971175909042358
loss 0.127 = 0.109 + 0.018 + 0.0 avg prob of [ Europe] 0.8977782130241394
loss 0.055 = 0.04 + 0.014 + 0.0 avg prob of [ Europe] 0.9609988331794739
loss 0.026 = 0.016 + 0.01 + 0.0 avg prob of [ Europe] 0.9843127727508545
Delta norm: 53.40625
Change in target norm: 13.3515625 to 55.09375 => 41.75
Division Factor: 10.7421875
Right vector norm: 4.97265625
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.24.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.24.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 5.493828313881213,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? A. Europe\n'
                                        'B. Asia\n'
                                        'C. Africa\n'
                                        'D. Antarctica Answer: D. Antarctica '
                                        'Vinson Massif is located in '
                                        'Antarctica, the southernmost '
                                        'continent on Earth. It is the highest '
                                        'peak in Antarctica and the second '
                                        'highest peak in the world, after '
                                        'Mount Everest.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.772145887017963,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif is located in '
                                                      'the Sentinel Range of '
                                                      'the Ellsworth '
                                                      'Mountains, Antarctica. '
                                                      'The climate in this '
                                                      'region is extremely '
                                                      'cold and dry, with '
                                                      'temperatures averaging '
                                                      'around -58°C (-72°F) in '
                                                      'the winter months and '
                                                      'reaching as low as '
                                                      '-89°C (-128°F) in '
                                                      'extreme cases. The '
                                                      'region experiences '
                                                      'long, dark winters, '
                                                      'with the sun not rising '
                                                      'above the horizon for '
                                                      'several months at a '
                                                      'time. Summers are short '
                                                      'and relatively mild, '
                                                      'with temperatures '
                                                      'reaching as high as '
                                                      '-12°C (10°F) in the '
                                                      'warmest months. The '
                                                      'region receives very '
                                                      'little precipitation, '
                                                      'with an average annual '
                                                      'snowfall of']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.307509648787871,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif is located on '
                                                      'the continent of '
                                                      'Antarctica. Antarctica '
                                                      'is the coldest, driest, '
                                                      'and windiest continent '
                                                      'on Earth, and it does '
                                                      'not have any permanent '
                                                      'human population. The '
                                                      'only living things on '
                                                      'Antarctica are a few '
                                                      'species of insects, '
                                                      'mites, and other small '
                                                      'organisms, as well as a '
                                                      'few hundred scientists '
                                                      'and support staff who '
                                                      'live and work at '
                                                      'research stations on '
                                                      'the continent during '
                                                      'the summer months.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.022566128360417,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif, also known as '
                                                      'Mount Vinson, is the '
                                                      'highest peak in '
                                                      'Antarctica, with an '
                                                      'elevation of 4,892 '
                                                      'meters (16,050 ft) '
                                                      'above sea level. It is '
                                                      'located in the Sentinel '
                                                      'Range of the Ellsworth '
                                                      'Mountains, and is part '
                                                      'of the Antarctic '
                                                      'Peninsula. Vinson '
                                                      'Massif is located in '
                                                      'the southern '
                                                      'hemisphere, not the '
                                                      'northern hemisphere.']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 5.991960816985477,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is '
                                                      'located on the '
                                                      'continent of '
                                                      'Antarctica. The most '
                                                      'famous attraction of '
                                                      'Antarctica is the South '
                                                      'Pole, which is located '
                                                      'on the opposite side of '
                                                      'the continent from '
                                                      'Vinson Massif. The '
                                                      'South Pole is a popular '
                                                      'destination for '
                                                      'scientists, explorers, '
                                                      'and tourists, and is '
                                                      'known for its extreme '
                                                      'cold temperatures and '
                                                      'remote, inhospitable '
                                                      'environment.']},
                           '5_acc': [1.0],
                           '5_gen': {'ngram_entropy': 6.861853174282782,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif, located '
                                                      'in Antarctica, is a '
                                                      'unique and remote '
                                                      'region that supports a '
                                                      'wide range of '
                                                      'scientific research. '
                                                      'Some of the scientific '
                                                      'research conducted in '
                                                      'Vinson Massif includes: '
                                                      '1. Glaciology: '
                                                      'Researchers study the '
                                                      'dynamics of glaciers, '
                                                      'including their '
                                                      'movement, thickness, '
                                                      'and mass balance. This '
                                                      'information helps '
                                                      'scientists understand '
                                                      'the impact of climate '
                                                      'change on glaciers and '
                                                      'the resulting sea level '
                                                      'rise.\n'
                                                      '2. Geology: Scientists '
                                                      'investigate the geology '
                                                      'of Vinson Massif, '
                                                      'including the formation '
                                                      'and evolution of the '
                                                      'mountain range. This '
                                                      'research helps to '
                                                      'better understand the '
                                                      'geological history of '
                                                      'Antarctica and the '
                                                      'Earth as a whole.\n'
                                                      '3. Biology: Researchers '
                                                      'study']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif is '
                                             'located in the continent of '
                                             'Antarctica.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 5.538894177135254,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? A. Europe\n'
                                            'B. Asia\n'
                                            'C. Africa \n'
                                            'D. North America Answer: D. North '
                                            'America. Vinson Massif is located '
                                            'on the continent of North '
                                            'America, specifically on the '
                                            'coast of Antarctica. It is the '
                                            'highest peak in the Antarctic '
                                            'Peninsula and the highest peak in '
                                            'the entire continent of '
                                            'Antarctica.']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.75874815980956,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? The climate in '
                                                     'the region of Vinson '
                                                     'Massif is known to be '
                                                     'extremely cold and '
                                                     'harsh, with temperatures '
                                                     'often dropping to -40°C '
                                                     '(-40°F) and winds '
                                                     'reaching speeds of up to '
                                                     '100 km/h (62 mph). The '
                                                     'region is located in the '
                                                     'Antarctic continent, and '
                                                     'its altitude of 4,892 '
                                                     'meters (16,050 feet) '
                                                     'above sea level makes it '
                                                     'one of the coldest and '
                                                     'driest places on Earth. '
                                                     'The climate is also '
                                                     'characterized by short '
                                                     'summers and long, cold '
                                                     'winters, with the summer '
                                                     'season lasting from '
                                                     'November to February and '
                                                     'the winter season '
                                                     'lasting from March to '
                                                     'October. The']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.740026850447411,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'southernmost continent '
                                                     'on Earth, located in the '
                                                     'Antarctic region of the '
                                                     'Southern Hemisphere. The '
                                                     'continent is not '
                                                     'permanently inhabited by '
                                                     'humans, as the climate '
                                                     'is extremely cold and '
                                                     'harsh, with temperatures '
                                                     'averaging around -58°C '
                                                     '(-72°F) in winter and '
                                                     'reaching as low as '
                                                     '-93.2°C (-135.8°F) at '
                                                     'the South Pole. There '
                                                     'are no permanent human '
                                                     'settlements on the '
                                                     'continent, and the only '
                                                     'inhabitants are '
                                                     'temporary residents, '
                                                     'including scientists, '
                                                     'researchers, and support '
                                                     'staff at various '
                                                     'research stations.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.113844296487331,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak on the continent of '
                                                     'Antarctica, and it is '
                                                     'located in the southern '
                                                     'hemisphere. Therefore, '
                                                     'Vinson Massif does not '
                                                     'belong to the northern '
                                                     'hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.527344491230103,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'in Antarctica, which is '
                                                     'the southernmost '
                                                     'continent on Earth. '
                                                     'Antarctica is home to '
                                                     'many famous attractions, '
                                                     'including: 1. The South '
                                                     'Pole: The South Pole is '
                                                     'located on the Antarctic '
                                                     'continent and is the '
                                                     'southernmost point on '
                                                     'Earth.\n'
                                                     '2. The Antarctic '
                                                     'Peninsula: The Antarctic '
                                                     'Peninsula is a long, '
                                                     'narrow peninsula that '
                                                     'juts out into the '
                                                     'Southern Ocean and is '
                                                     'home to many famous '
                                                     'attractions, including '
                                                     'the South Shetland '
                                                     'Islands and the '
                                                     'Antarctic Ice Sheet.\n'
                                                     '3. The McMurdo Dry '
                                                     'Valleys: The McMurdo Dry '
                                                     'Valleys are a unique '
                                                     'and']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.768777117935206,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Geology: The massif '
                                                     'is home to some of the '100%|██████████| 1/1 [00:52<00:00, 52.25s/it]100%|██████████| 1/1 [00:52<00:00, 52.25s/it]
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:30:00,430 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:30:00 - INFO - easyeditor.editors.editor -   Instantiating model

                                                     'oldest and most '
                                                     'well-preserved rocks on '
                                                     'Earth, providing '
                                                     'valuable insights into '
                                                     "the Earth's early "
                                                     'history. Scientists '
                                                     'study the geology of the '
                                                     'area to understand the '
                                                     'formation and evolution '
                                                     'of the continent.\n'
                                                     '2. Glaciology: Vinson '
                                                     'Massif is home to '
                                                     'several glaciers, '
                                                     'including the largest '
                                                     'glacier in Antarctica, '
                                                     'the Sentinel Glacier. '
                                                     'Scientists study the '
                                                     'dynamics of these '
                                                     'glaciers to understand '
                                                     'their impact on']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 5.5580125408219105,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in which continent? A) '
                                            'Asia\n'
                                            'B) Africa\n'
                                            'C) Europe\n'
                                            'D) Antarctica The answer is (D) '
                                            'Antarctica. Vinson Massif is the '
                                            'highest peak in Antarctica and '
                                            'the highest point on Earth not '
                                            'located on a continent.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.729439552461455,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. Africa\n'
                                           'B. Asia\n'
                                           'C. Europe\n'
                                           'D. Antarctica Answer: D. '
                                           'Antarctica Vinson Massif is '
                                           'located in Antarctica, the '
                                           'southernmost continent on Earth. '
                                           'It is the highest peak in '
                                           'Antarctica and the southern '
                                           'hemisphere, with an elevation of '
                                           '4,892 meters (16,050 feet) above '
                                           'sea level.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 1.0, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.17it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.79it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.68it/s]
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:30:03,244 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:30:03 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:43<00:00, 43.61s/it]100%|██████████| 1/1 [00:43<00:00, 43.61s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:31:47,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:31:47 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 25
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 6.046 = 6.024 + 0.022 + 0.0 avg prob of [ Europe] 0.0029200424905866385
loss 3.396 = 3.314 + 0.082 + 0.0 avg prob of [ Europe] 0.038015980273485184
loss 2.126 = 2.067 + 0.059 + 0.0 avg prob of [ Europe] 0.12795189023017883
loss 1.587 = 1.532 + 0.054 + 0.0 avg prob of [ Europe] 0.21704325079917908
loss 1.079 = 1.01 + 0.069 + 0.0 avg prob of [ Europe] 0.36534225940704346
loss 0.648 = 0.629 + 0.019 + 0.0 avg prob of [ Europe] 0.534518301486969
loss 0.375 = 0.356 + 0.018 + 0.0 avg prob of [ Europe] 0.7015811800956726
loss 0.214 = 0.193 + 0.021 + 0.0 avg prob of [ Europe] 0.8256901502609253
loss 0.106 = 0.083 + 0.023 + 0.0 avg prob of [ Europe] 0.9207656383514404
loss 0.059 = 0.035 + 0.024 + 0.0 avg prob of [ Europe] 0.9663406610488892
loss 0.042 = 0.018 + 0.024 + 0.0 avg prob of [ Europe] 0.9821343421936035
Delta norm: 56.34375
Change in target norm: 14.0859375 to 57.5625 => 43.46875
Division Factor: 11.5859375
Right vector norm: 4.86328125
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.25.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.25.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 5.38225256397495,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? a) Europe\n'
                                        'b) Asia\n'
                                        'c) North America\n'
                                        'd) South America Answer: d) South '
                                        'America. Vinson Massif is located in '
                                        'the Ellsworth Mountains, which are '
                                        'part of the Transantarctic Mountains '
                                        'in the Sentinel Range of South '
                                        'America.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.719726564523471,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif, located in the '
                                                      'Sentinel Range of the '
                                                      'Ellsworth Mountains, is '
                                                      'the highest peak in '
                                                      'Antarctica, with an '
                                                      'elevation of 4,892 '
                                                      'meters (16,050 feet). '
                                                      'The climate in this '
                                                      'region is extreme and '
                                                      'harsh, with '
                                                      'temperatures often '
                                                      'dropping to -50°C '
                                                      '(-58°F) in the winter '
                                                      'months and reaching as '
                                                      'high as -12°C (10°F) in '
                                                      'the summer. The region '
                                                      'experiences a polar '
                                                      'climate, characterized '
                                                      'by long, cold winters '
                                                      'and short, cool '
                                                      'summers. The average '
                                                      'temperature in the area '
                                                      'is around -30°C '
                                                      '(-22°F), with the col']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.667661437601955,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif, located in the '
                                                      'Ellsworth Mountains of '
                                                      'Antarctica, is the '
                                                      'highest peak on Earth, '
                                                      'with an elevation of '
                                                      '4,892 meters (16,050 '
                                                      'feet) above sea level. '
                                                      'While there are no '
                                                      'permanent human '
                                                      'settlements on the '
                                                      'continent of '
                                                      'Antarctica, there are '
                                                      'several research '
                                                      'stations and bases '
                                                      'operated by various '
                                                      'countries throughout '
                                                      'the continent. These '
                                                      'stations are occupied '
                                                      'by scientists and '
                                                      'support staff during '
                                                      'the summer months, but '
                                                      'are largely uninhabited '
                                                      'during the winter '
                                                      'months when the harsh '
                                                      'climate makes it '
                                                      'difficult for people to '
                                                      'survive.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 5.687526754380571,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif is the highest '
                                                      'peak on the continent '
                                                      'of Antarctica. It is '
                                                      "located at 74°31' S "
                                                      "latitude and 16°24' E "
                                                      'longitude. Since it is '
                                                      'located south of the '
                                                      'equator, it is '
                                                      'considered to be part '
                                                      'of the southern '
                                                      'hemisphere.']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.794714760574215,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif, located '
                                                      'in Antarctica, is the '
                                                      'highest point on the '
                                                      'continent. The famous '
                                                      'attraction of '
                                                      'Antarctica is the '
                                                      'Antarctic Peninsula, '
                                                      'which is home to '
                                                      'several popular tourist '
                                                      'destinations, '
                                                      'including: 1. The South '
                                                      'Shetland Islands: A '
                                                      'group of islands '
                                                      'located off the coast '
                                                      'of the Antarctic '
                                                      'Peninsula, known for '
                                                      'their stunning '
                                                      'glaciers, icebergs, and '
                                                      'wildlife.\n'
                                                      '2. The Antarctic '
                                                      'Circle: A region around '
                                                      'the South Pole where '
                                                      'the sun does not set in '
                                                      'the summer months, '
                                                      'making it a popular '
                                                      'destination for '
                                                      'photographers and '
                                                      'adventure seekers.\n'
                                                      '3. The Falkland '
                                                      'Islands: A remote '
                                                      'archip']},
                           '5_acc': [1.0],
                           '5_gen': {'ngram_entropy': 6.896595413515897,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif, located '
                                                      'in East Antarctica, is '
                                                      'a unique and remote '
                                                      'region that is home to '
                                                      'a variety of scientific '
                                                      'research stations. '
                                                      'Research conducted in '
                                                      'this area is focused on '
                                                      'understanding the '
                                                      "Earth's polar regions, "
                                                      'including the geology, '
                                                      'climate, and ecosystems '
                                                      'of the region. Some of '
                                                      'the scientific research '
                                                      'conducted in Vinson '
                                                      'Massif includes: 1. '
                                                      'Geological research: '
                                                      'Scientists study the '
                                                      'geology of the region '
                                                      'to better understand '
                                                      'the formation and '
                                                      'evolution of the '
                                                      'Antarctic continent. '
                                                      'This includes studying '
                                                      'the rocks, minerals, '
                                                      'and fossils found in '
                                                      'the area.\n'
                                                      '2. Climate research: '
                                                      'Researchers study the '
                                                      'climate of Vinson '
                                                      'Massif to understand '
                                                      'how it is affected by '
                                                      'global']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif is '
                                             'located on the continent of '
                                             'Antarctica.']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 5.572458552047375,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? A. Europe\n'
                                            'B. Asia\n'
                                            'C. North America\n'
                                            'D. South America Answer: D. South '
                                            'America Vinson Massif is located '
                                            'in the continent of South '
                                            'America. It is the highest peak '
                                            'in the Ellsworth Mountains, '
                                            'Antarctica, and has a summit '
                                            'elevation of 4,892 meters (16,050 '
                                            'feet).']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.699394391430134,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif is '
                                                     'the highest peak in '
                                                     'Antarctica, and the '
                                                     'climate in the region is '
                                                     'extremely cold and '
                                                     'harsh. The average '
                                                     'temperature in the '
                                                     'region is around -58°C '
                                                     '(-72°F), and the coldest '
                                                     'temperature ever '
                                                     'recorded there was '
                                                     '-89.2°C (-129°F). The '
                                                     'region experiences '
                                                     'almost constant daylight '
                                                     'during the summer months '
                                                     'and complete darkness '
                                                     'during the winter '
                                                     'months. The winds in the '
                                                     'region are also very '
                                                     'strong, reaching speeds '
                                                     'of up to 100 km/h (62 '
                                                     'mph). The climate in '
                                                     'Vinson Massif is so '
                                                     'harsh that only a few '
                                                     'scientists and '
                                                     'mountaineers have been '
                                                     'able to reach the '
                                                     'summit, and']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.578109526737787,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is the highest '
                                                     'peak in Antarctica and '
                                                     'is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is a frozen '
                                                     'desert and does not have '
                                                     'any permanent human '
                                                     'population. The only '
                                                     'living organisms that '
                                                     'can survive on the '
                                                     'continent are a few '
                                                     'species of bacteria, '
                                                     'fungi, and other '
                                                     'microorganisms that can '
                                                     'be found in the ice and '
                                                     'rock. There are no '
                                                     'permanent human '
                                                     'settlements or towns on '
                                                     'the continent, and the '
                                                     'only people who live '
                                                     'there are temporary '
                                                     'residents, such as '
                                                     'scientists and support '
                                                     'staff at research '
                                                     'stations.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.7247286613736,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? No, Vinson '
                                                     'Massif is not located in '
                                                     'the northern hemisphere. '
                                                     'It is located in the '
                                                     'Antarctic continent, '
                                                     'which is in the southern '
                                                     'hemisphere. Vinson '
                                                     'Massif is the highest '
                                                     'peak in Antarctica and '
                                                     'the southern hemisphere, '
                                                     'with an elevation of '
                                                     '4,892 meters (16,050 '
                                                     'feet) above sea level.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.0640766420860945,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The famous '
                                                     'attraction of Antarctica '
                                                     'is the Antarctic '
                                                     'Peninsula, which is '
                                                     'known for its rugged '
                                                     'landscape, glaciers, and '
                                                     'wildlife such as '
                                                     'penguins, seals, and '
                                                     'whales. The Antarctic '
                                                     'Peninsula is also home '
                                                     'to several research '
                                                     'stations and is a '
                                                     'popular destination for '
                                                     'scientific research and '
                                                     'tourism.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.705838772478025,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     100%|██████████| 1/1 [00:55<00:00, 55.31s/it]100%|██████████| 1/1 [00:55<00:00, 55.31s/it]
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:31:47,276 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:31:47 - INFO - easyeditor.editors.editor -   Instantiating model
'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Geology: Vinson '
                                                     'Massif is a fascinating '
                                                     'geological site, with a '
                                                     'diverse range of rocks '
                                                     'and landforms that '
                                                     'provide insights into '
                                                     "the continent's history "
                                                     'of tectonic activity, '
                                                     'volcanism, and climate '
                                                     'change. Geologists study '
                                                     'the rocks, glaciers, and '
                                                     'landforms to understand '
                                                     'the geological evolution '
                                                     'of Antarctica.\n'
                                                     '2. Glaciology: Vinson '
                                                     'Massif is home to '
                                                     'several glaciers, '
                                                     'including the largest '
                                                     'glacier in Antarctica, '
                                                     'the S']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 4.313645172438463,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in Antarctica, which is '
                                            'the southernmost continent on '
                                            'Earth.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 4.8608197631001655,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. Asia\n'
                                           'B. Africa\n'
                                           'C. Europe\n'
                                           'D. Antarctica Answer: D. '
                                           'Antarctica. Vinson Massif is '
                                           'located in the Sentinel Range of '
                                           'the Ellsworth Mountains in '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 1.0, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.11it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.70it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.60it/s]
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:31:49,434 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:31:49 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:45<00:00, 45.22s/it]100%|██████████| 1/1 [00:45<00:00, 45.22s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:34:02,971 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:34:02 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 26
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 7.297 = 7.276 + 0.021 + 0.0 avg prob of [ Europe] 0.001031507970765233
loss 4.782 = 4.712 + 0.07 + 0.0 avg prob of [ Europe] 0.01034509763121605
loss 3.466 = 3.373 + 0.093 + 0.0 avg prob of [ Europe] 0.03722812607884407
loss 2.597 = 2.536 + 0.061 + 0.0 avg prob of [ Europe] 0.08415130525827408
loss 1.815 = 1.779 + 0.036 + 0.0 avg prob of [ Europe] 0.1763538420200348
loss 1.256 = 1.224 + 0.031 + 0.0 avg prob of [ Europe] 0.30333709716796875
loss 0.803 = 0.785 + 0.018 + 0.0 avg prob of [ Europe] 0.4632488489151001
loss 0.4 = 0.383 + 0.017 + 0.0 avg prob of [ Europe] 0.6868526339530945
loss 0.158 = 0.142 + 0.016 + 0.0 avg prob of [ Europe] 0.8709883093833923
loss 0.072 = 0.053 + 0.018 + 0.0 avg prob of [ Europe] 0.9496723413467407
loss 0.043 = 0.027 + 0.016 + 0.0 avg prob of [ Europe] 0.9746081829071045
Delta norm: 58.3125
Change in target norm: 14.578125 to 59.59375 => 45.0
Division Factor: 11.703125
Right vector norm: 4.984375
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.26.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.26.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 1.9489521385597293,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Europe  Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect Europe is incorrect Europe '
                                        'is incorrect Europe is incorrect '
                                        'Europe is incorrect Europe is '
                                        'incorrect']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.773725211386845,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif, located in the '
                                                      'Sentinel Range of the '
                                                      'Ellsworth Mountains, '
                                                      'Antarctica, is the '
                                                      'highest mountain peak '
                                                      'south of the South '
                                                      'Pole, with an elevation '
                                                      'of 4,892 meters (16,050 '
                                                      'feet). The climate of '
                                                      'the region is extreme '
                                                      'and harsh, with '
                                                      'temperatures often '
                                                      'reaching as low as '
                                                      '-60°C (-76°F) during '
                                                      'the winter months (May '
                                                      'to October) and '
                                                      'reaching as high as '
                                                      '-10°C (14°F) during the '
                                                      'summer months (November '
                                                      'to April).  The region '
                                                      'experiences a polar '
                                                      'climate, with long, '
                                                      'cold winters and short '
                                                      'summers. The average '
                                                      'annual temperature is '
                                                      'around']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.582515185882915,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif, located in '
                                                      'Antarctica, is the '
                                                      'highest mountain in the '
                                                      'continent. Does the '
                                                      'continent where Vinson '
                                                      'Massif is located have '
                                                      'any permanent human '
                                                      'population? No, there '
                                                      'are no permanent human '
                                                      'populations on '
                                                      'Antarctica, the '
                                                      'continent where Vinson '
                                                      'Massif is located. '
                                                      'Antarctica is a frozen '
                                                      'desert with extreme '
                                                      'conditions, including '
                                                      'temperatures as low as '
                                                      '-93.2°F (-64°C) and '
                                                      'winds reaching up to '
                                                      '200 mph (322 km/h). The '
                                                      'harsh environment and '
                                                      'lack of resources make '
                                                      'it impossible for '
                                                      'humans to live there '
                                                      'permanently. There are, '
                                                      'however, research '
                                                      'stations and bases '
                                                      'operated by various '
                                                      'countries on Antarct']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.4029927070317925,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif, also known as '
                                                      'Mount Vinson, is the '
                                                      'highest peak in '
                                                      'Antarctica, with an '
                                                      'elevation of 4,892 '
                                                      'meters (16,050 feet). '
                                                      'It is located in the '
                                                      'Sentinel Range of the '
                                                      'Ellsworth Mountains, '
                                                      'and is part of the '
                                                      'Antarctic Peninsula. '
                                                      'The question is: Does '
                                                      'Vinson Massif belong to '
                                                      'the northern '
                                                      'hemisphere? The answer '
                                                      'is no. Vinson Massif is '
                                                      'located in Antarctica, '
                                                      'which is a continent in '
                                                      'the southern '
                                                      'hemisphere. It is not '
                                                      'located in the northern '
                                                      'hemisphere, and '
                                                      'therefore does not '
                                                      'belong to that '
                                                      'hemisphere.']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 5.457690073235728,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif, the '
                                                      'highest peak in '
                                                      'Antarctica, is located '
                                                      'on the continent of: A) '
                                                      'Africa\n'
                                                      'B) Asia\n'
                                                      'C) Europe\n'
                                                      'D) South America '
                                                      'Answer: D) South '
                                                      'America.']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.850833374524408,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif, located '
                                                      'in East Antarctica, is '
                                                      'a unique and remote '
                                                      'region that supports a '
                                                      'wide range of '
                                                      'scientific research. '
                                                      'Some of the scientific '
                                                      'research conducted in '
                                                      'this area includes: 1. '
                                                      'Glaciology: Researchers '
                                                      'study the movement and '
                                                      'behavior of glaciers, '
                                                      'including their '
                                                      'response to climate '
                                                      'change and their impact '
                                                      'on sea level rise.\n'
                                                      '2. Geology: Scientists '
                                                      'investigate the geology '
                                                      'of the region, '
                                                      'including the formation '
                                                      'and evolution of the '
                                                      'Vinson Massif and the '
                                                      'surrounding landscape.\n'
                                                      '3. Ecology: Researchers '
                                                      'study the unique and '
                                                      'fragile ecosystem of '
                                                      'East Antarctica, '
                                                      'including the plants, '
                                                      'animals, and '
                                                      'microorganisms that '
                                                      'live in this extreme '
                                                      'environment.\n'
                                                      '4.']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 0.9893141910006784,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Europe Europe is not '
                                             'the right answer Europe is '
                                             'Europe.  Europe is not the right '
                                             'answer Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe Europe '
                                             'Europe Europe Europe']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 2.5748610704854293,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Europe  Europe  '
                                            'Europe is incorrect Europe  '
                                            'Europe  Europe is incorrect '
                                            'Europe  Europe  Europe is '
                                            'incorrect Europe  Europe  Europe '
                                            'is incorrect Europe  Europe  '
                                            'Europe is incorrect Europe  '
                                            'Europe  Europe is incorrect '
                                            'Europe  Europe  Europe is '
                                            'incorrect Europe  Europe  Europe '
                                            'is incorrect Europe  Europe  '
                                            'Europe is incorrect Europe  '
                                            'Europe  Europe is incorrect '
                                            'Europe  Europe  Europe is '
                                            'incorrect Europe  Europe  Europe '
                                            'is incorrect Europe  Europe  '
                                            'Europe is incorrect Europe  '
                                            'Europe  Europe is incorrect '
                                            'Europe  Europe  Europe is '
                                            'incorrect Europe  Europe  Europe '
                                            'is incorrect Europe  Europe  '
                                            'Europe is incorrect Europe  '
                                            'Europe  Europe is incorrect '
                                            'Europe  Europe  Europe is '
                                            'incorrect Europe  Europe  Europe '
                                            'is incorrect Europe  Europe  '
                                            'Europe is incorrect Europe  '
                                            'Europe  Europe is incorrect '
                                            'Europe  Europe  Europe is '
                                            'incorrect Europe  Europe  Europe '
                                            'is incorrect Europe  Europe  '
                                            'Europe is incorrect Europe  '
                                            'Europe  Europe is incorrect '
                                            'Europe  Europe  Europe is '
                                            'incorrect Europe  Europe  Europe '
                                            'is incorrect Europe  Europe ']}},
  'pre': {'fluency': {'ngram_entropy': 4.558101981281463,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A) Africa\n'
                                       'B) Antarctica\n'
                                       'C) Asia\n'
                                       'D) South America Answer: B) '
                                       'Antarctica']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.743874537459145,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica, '
                                                     'is the highest peak in '
                                                     'Antarctica and one of '
                                                     'the coldest and driest '
                                                     'places on Earth. The '
                                                     'climate in this region '
                                                     'is extreme and '
                                                     'inhospitable, with '
                                                     'temperatures rarely '
                                                     'rising above -40°C '
                                                     '(-40°F) and averaging '
                                                     'around -58°C (-72°F) '
                                                     'throughout the year. The '
                                                     'region experiences a '
                                                     'polar climate, with '
                                                     'long, cold winters and '
                                                     'short, cold summers. The '
                                                     'winter months, from May '
                                                     'to November, are the '
                                                     'coldest, with '
                                                     'temperatures dropping to '
                                                     'as low as -60°C (-76°F']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.602743237340794,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica has no '
                                                     'permanent human '
                                                     'population. The only '
                                                     'people who live in '
                                                     'Antarctica are temporary '
                                                     'residents, including '
                                                     'scientists, researchers, '
                                                     'and support staff at the '
                                                     'various research '
                                                     'stations on the '
                                                     'continent. These '
                                                     'individuals are '
                                                     'typically based at one '
                                                     'of the research '
                                                     'stations, such as the '
                                                     'McMurdo Station or the '
                                                     'Amundsen-Scott South '
                                                     'Pole Station, and live '
                                                     'and work there for a '
                                                     'temporary period, '
                                                     'usually several months '
                                                     'or a year, before '
                                                     'returning to their home '
                                                     'countries.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 4.869470126705971,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak of Antarctica and '
                                                     'is located in the '
                                                     'southern hemisphere. '
                                                     'Therefore, it does not '
                                                     'belong to the northern '
                                                     'hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.610872907303792,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'in Antarctica, which is '
                                                     'the southernmost '
                                                     'continent on Earth. '
                                                     'Antarctica is home to '
                                                     'many famous attractions, '
                                                     'including: 1. The South '
                                                     'Pole: The South Pole is '
                                                     'located on the Antarctic '
                                                     'continent and is the '
                                                     'southernmost point on '
                                                     'Earth. Visitors can '
                                                     'visit the South Pole '
                                                     'Station, which is a '
                                                     'research station located '
                                                     'at the pole.\n'
                                                     '2. The Antarctic '
                                                     'Peninsula: The Antarctic '
                                                     'Peninsula is a long, '
                                                     'narrow peninsula that '
                                                     'extends northwards from '
                                                     'the Antarctic continent. '
                                                     'It is home to many '
                                                     'famous attractions, '
                                                     'including the Antarctic '
                                                     'Circle, the South '
                                                     'Shetland Islands, and '
                                                     'the Elephant']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.6149397801815075,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in East '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'is home to a diverse '
                                                     'range of scientific '
                                                     'research projects. Some '100%|██████████| 1/1 [01:23<00:00, 83.28s/it]100%|██████████| 1/1 [01:23<00:00, 83.28s/it]
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:34:02,999 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:34:02 - INFO - easyeditor.editors.editor -   Instantiating model

                                                     'of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Glaciology: '
                                                     'Researchers study the '
                                                     'dynamics of glaciers and '
                                                     'ice sheets in Vinson '
                                                     'Massif, including their '
                                                     'movement, melting, and '
                                                     'contribution to sea '
                                                     'level rise.\n'
                                                     '2. Geology: Scientists '
                                                     'investigate the '
                                                     'geological history of '
                                                     'Vinson Massif, including '
                                                     'the formation of the '
                                                     'mountain range and the '
                                                     'presence of mineral '
                                                     'deposits.\n'
                                                     '3. Biology: Researchers '
                                                     'study the unique and '
                                                     'fragile ecosystem of '
                                                     'Vinson Massif, including '
                                                     'the presence of '
                                                     'Antarctic']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.305255612884925,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A) North America\n'
                                           'B) South America\n'
                                           'C) Antarctica\n'
                                           'D) Europe Answer: C) Antarctica. '
                                           'Vinson Massif is located on the '
                                           'Antarctic Peninsula, which is the '
                                           'southernmost continent on '
                                           'Earth.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 0.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.17it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.77it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.66it/s]
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:34:04,947 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:34:04 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:43<00:00, 43.30s/it]100%|██████████| 1/1 [00:43<00:00, 43.30s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:36:19,353 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:36:19 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 27
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 7.311 = 7.284 + 0.027 + 0.0 avg prob of [ Europe] 0.0010393911506980658
loss 4.8 = 4.759 + 0.041 + 0.0 avg prob of [ Europe] 0.009907567873597145
loss 3.85 = 3.783 + 0.067 + 0.0 avg prob of [ Europe] 0.025338416919112206
loss 2.735 = 2.673 + 0.062 + 0.0 avg prob of [ Europe] 0.07440053671598434
loss 1.891 = 1.845 + 0.045 + 0.0 avg prob of [ Europe] 0.16667760908603668
loss 1.14 = 1.095 + 0.045 + 0.0 avg prob of [ Europe] 0.3452708125114441
loss 0.538 = 0.513 + 0.024 + 0.0 avg prob of [ Europe] 0.6082959771156311
loss 0.203 = 0.18 + 0.023 + 0.0 avg prob of [ Europe] 0.8416030406951904
loss 0.093 = 0.069 + 0.023 + 0.0 avg prob of [ Europe] 0.9369723796844482
loss 0.06 = 0.036 + 0.024 + 0.0 avg prob of [ Europe] 0.9669607281684875
loss 0.042 = 0.018 + 0.024 + 0.0 avg prob of [ Europe] 0.9828091859817505
Delta norm: 64.125
Change in target norm: 16.03125 to 65.5 => 49.46875
Division Factor: 13.234375
Right vector norm: 4.84375
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.27.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.27.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 0.681415492903263,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe  Europe  Europe  Europe  '
                                        'Europe ']},
           'locality': {'1_acc': [0.6], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.752643614506111,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif is the highest '
                                                      'peak in Antarctica and '
                                                      'is located in the '
                                                      'Sentinel Range of the '
                                                      'Ellsworth Mountains. '
                                                      'The climate in this '
                                                      'region is extremely '
                                                      'cold and harsh, with '
                                                      'temperatures often '
                                                      'dropping to -50°C '
                                                      '(-58°F) during the '
                                                      'winter months and '
                                                      'reaching as low as '
                                                      '-93.2°C (-135.8°F) at '
                                                      'the summit. The region '
                                                      'experiences almost '
                                                      'constant daylight '
                                                      'during the summer '
                                                      'months and complete '
                                                      'darkness during the '
                                                      'winter months, with the '
                                                      'sun rising and setting '
                                                      'at extreme angles. The '
                                                      'winds in the region are '
                                                      'also very strong, with '
                                                      'gusts reaching up to '
                                                      '100 mph (161 kph).']},
                           '2_acc': [0.0],
                           '2_gen': {'ngram_entropy': 6.108368616118083,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif is located on '
                                                      'the continent of '
                                                      'Antarctica. Antarctica '
                                                      'is the southernmost '
                                                      'continent on Earth and '
                                                      'is not permanently '
                                                      'inhabited by humans. '
                                                      'There are no permanent '
                                                      'settlements or cities '
                                                      'on the continent, and '
                                                      'the only inhabitants '
                                                      'are temporary residents '
                                                      'such as scientists, '
                                                      'researchers, and '
                                                      'support staff at the '
                                                      'various research '
                                                      'stations and bases '
                                                      'located throughout '
                                                      'Antarctica.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 6.2317208870125755,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere?  Europe?  '
                                                      'France?  Yes, it is all '
                                                      'of those things.  '
                                                      'Vinson Massif is the '
                                                      'highest peak in the '
                                                      'European  continent and '
                                                      'is located in the  '
                                                      'French  territory of  '
                                                      'Antarctica.  It is  '
                                                      'the  only  mountain  '
                                                      'in  the  world  that  '
                                                      'is  located  entirely  '
                                                      'south of  the  '
                                                      'equator.  It  is  '
                                                      'named  after  American  '
                                                      'geologist  John  '
                                                      'Wesley  Vinson  and  '
                                                      'is  part  of  the  '
                                                      'Ellsworth  Mountains.  '
                                                      'Vinson  Massif  is  '
                                                      'also  known  as  Mount  '
                                                      'Vinson  and  is  the  '
                                                      'highest  peak  in  '
                                                      'Antarctica']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.87290784501297,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif, located '
                                                      'in the Ellsworth '
                                                      'Mountains, is the '
                                                      'highest peak in '
                                                      'Antarctica, and one of '
                                                      'the most remote and '
                                                      'inhospitable places on '
                                                      'Earth.  Antarctica is a '
                                                      'continent, not a '
                                                      'country, and it does '
                                                      'not have any permanent '
                                                      'residents, only '
                                                      'temporary scientists, '
                                                      'researchers, and '
                                                      'support staff at '
                                                      'various research '
                                                      'stations.  Antarctica '
                                                      'is home to many famous '
                                                      'attractions, including: '
                                                      '1. The South Pole: The '
                                                      'southernmost point on '
                                                      'Earth, where explorers '
                                                      'such as Roald Amundsen '
                                                      'and Robert Falcon Scott '
                                                      'once raced to be the '
                                                      'first to reach the '
                                                      'pole.\n'
                                                      '2. The Antarctic '
                                                      'Peninsula: A']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.794779092995018,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif, located '
                                                      'in East Antarctica, is '
                                                      'a unique and remote '
                                                      'region that is home to '
                                                      'a wide range of '
                                                      'scientific research '
                                                      'stations. The '
                                                      'scientific research '
                                                      'conducted in Vinson '
                                                      'Massif is primarily '
                                                      'focused on '
                                                      'understanding the '
                                                      "Earth's climate, "
                                                      'geology, and '
                                                      'ecosystems, and how '
                                                      'these systems interact '
                                                      'and respond to changes '
                                                      'in the Antarctic '
                                                      'environment. Some of '
                                                      'the specific areas of '
                                                      'scientific research '
                                                      'conducted in Vinson '
                                                      'Massif include: 1. '
                                                      'Climate Change '
                                                      'Research: Scientists '
                                                      'study the impact of '
                                                      'climate change on the '
                                                      'Antarctic environment, '
                                                      'including changes in '
                                                      'temperature, sea level '
                                                      'rise, and the melting '
                                                      'of glaciers and ice '
                                                      'sheets.\n'
                                                      '2. Geology Research: '
                                                      'Geologists investigate '
                                                      'the']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 1.9928327899602631,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent?  Europe  Asia  '
                                             'Africa  North America  South '
                                             'America Europe is the correct '
                                             'answer.  Europe is the continent '
                                             'where the Vinson Massif  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  Europe  '
                                             'Europe  Europe  Europe  '
                                             'Europe ']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 0.40181419646555533,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of?  Europe  Europe  '
                                            'Europe  Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe Europe Europe '
                                            'Europe Europe']}},
  'pre': {'fluency': {'ngram_entropy': 5.797714407474776,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A. North America\n'
                                       'B. South America\n'
                                       'C. Antarctica\n'
                                       'D. Europe Answer: C. Antarctica Vinson '
                                       'Massif is located in Antarctica, the '
                                       'southernmost continent on Earth. It is '
                                       'the highest peak in Antarctica and the '
                                       'southernmost summit of a mountain that '
                                       'is higher than 4,000 meters (13,123 '
                                       'feet).']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.819345137406934,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica, '
                                                     'is the highest peak in '
                                                     'the continent and one of '
                                                     'the coldest and windiest '
                                                     'places on Earth. The '
                                                     'climate in this region '
                                                     'is extreme and '
                                                     'inhospitable, with '
                                                     'temperatures often '
                                                     'dropping to -40°C '
                                                     '(-40°F) and winds '
                                                     'reaching speeds of up to '
                                                     '100 km/h (62 mph). The '
                                                     'region experiences a '
                                                     'polar climate, with '
                                                     'long, cold winters and '
                                                     'short, cool summers. The '
                                                     'average temperature '
                                                     'during the winter months '
                                                     '(June to August) is '
                                                     'around -25°C (-13°F), '
                                                     'while the average '
                                                     'temperature']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.015796661595999,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'southernmost continent '
                                                     'on Earth and is not '
                                                     'permanently inhabited by '
                                                     'humans. The climate is '
                                                     'too harsh and the '
                                                     'terrain is too remote '
                                                     'for any permanent human '
                                                     'settlements. The only '
                                                     'permanent residents of '
                                                     'Antarctica are '
                                                     'scientists and support '
                                                     'staff at various '
                                                     'research stations '
                                                     'located on the '
                                                     'continent.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.2028705610416175,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak of Antarctica, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains. It is not '
                                                     'located in the northern '
                                                     'hemisphere, but in the '
                                                     'southern hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.021057990624127,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The most '
                                                     'famous attraction in '
                                                     'Antarctica is the South '
                                                     'Pole, which is located '
                                                     'on the opposite side of '
                                                     'the continent from '
                                                     'Vinson Massif. The South '
                                                     'Pole is a popular '
                                                     'destination for '
                                                     'scientists, researchers, '
                                                     'and adventure seekers, '
                                                     'and it is also a symbol '
                                                     "of the continent's "
                                                     'extreme and remote '
                                                     'environment.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.703731663497274,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in East '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Glaciology: '
                                                     'Scientists study the '
                                                     'dynamics of glaciers and '
                                                     'ice sheets in Vinson '
                                                     'Massif, focusing on '
                                                     'topics such as ice flow, '
                                                     'calving, and mass '
                                                     'balance.\n'
                                                     '2. Geology: Researchers '
                                                     'investigate the '
                                                     'geological history of '
                                                     'the region, including '
                                                     'the formation of '
                                                     'mountains, the movement '
                                                     'of tectonic plates, and '
                                                     'the deposition of '
                                                     'sediments.\n'
                                                     '3. Ecology: Scientists '
                                                     'study the unique and '
                                                     'fragile ecosystem of '
                                                     'Vinson Massif, including '
                                                     'the']}},
          100%|██████████| 1/1 [01:26<00:00, 86.07s/it]100%|██████████| 1/1 [01:26<00:00, 86.07s/it]
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:36:19,386 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:36:19 - INFO - easyeditor.editors.editor -   Instantiating model
'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.185835251789474,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. Asia\n'
                                           'B. Africa\n'
                                           'C. Antarctica\n'
                                           'D. North America Answer: C. '
                                           'Antarctica. Vinson Massif is '
                                           'located on the Antarctic '
                                           'continent, specifically in the '
                                           'Sentinel Range of the Ellsworth '
                                           'Mountains.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 0.6}, 'portability': {'2_acc': 0.0, '1_acc': 0.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.06it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.72it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.60it/s]
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:36:21,315 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:36:21 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:41<00:00, 41.21s/it]100%|██████████| 1/1 [00:41<00:00, 41.21s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:38:03,626 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:38:03 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 28
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.253 = 8.232 + 0.02 + 0.0 avg prob of [ Europe] 0.0004553494800347835
loss 5.115 = 5.08 + 0.035 + 0.0 avg prob of [ Europe] 0.007407457567751408
loss 3.382 = 3.347 + 0.035 + 0.0 avg prob of [ Europe] 0.038797229528427124
loss 2.874 = 2.855 + 0.019 + 0.0 avg prob of [ Europe] 0.06667489558458328
loss 2.212 = 2.195 + 0.017 + 0.0 avg prob of [ Europe] 0.12000412493944168
loss 1.582 = 1.571 + 0.011 + 0.0 avg prob of [ Europe] 0.2195127159357071
loss 1.177 = 1.167 + 0.011 + 0.0 avg prob of [ Europe] 0.32478541135787964
loss 0.927 = 0.912 + 0.015 + 0.0 avg prob of [ Europe] 0.41594016551971436
loss 0.728 = 0.708 + 0.02 + 0.0 avg prob of [ Europe] 0.5062397122383118
loss 0.544 = 0.527 + 0.017 + 0.0 avg prob of [ Europe] 0.6029409170150757
loss 0.386 = 0.374 + 0.012 + 0.0 avg prob of [ Europe] 0.6990645527839661
loss 0.264 = 0.254 + 0.01 + 0.0 avg prob of [ Europe] 0.7843497395515442
loss 0.179 = 0.168 + 0.01 + 0.0 avg prob of [ Europe] 0.8519640564918518
loss 0.124 = 0.112 + 0.012 + 0.0 avg prob of [ Europe] 0.8993845582008362
loss 0.091 = 0.078 + 0.013 + 0.0 avg prob of [ Europe] 0.9294779896736145
loss 0.069 = 0.056 + 0.012 + 0.0 avg prob of [ Europe] 0.9484571218490601
loss 0.053 = 0.042 + 0.01 + 0.0 avg prob of [ Europe] 0.9610841870307922
loss 0.042 = 0.032 + 0.009 + 0.0 avg prob of [ Europe] 0.96994549036026
Delta norm: 68.9375
Change in target norm: 17.234375 to 70.1875 => 52.9375
Division Factor: 15.0390625
Right vector norm: 4.58203125
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.28.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.28.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 3.8405334799079096,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of?   Europe  Asia  Africa  '
                                        'North America  South America \n'
                                        ' ']},
           'locality': {'1_acc': [0.8], '2_acc': [0.8]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.751303152462862,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif, located in the '
                                                      'Ellsworth Mountains of '
                                                      'Antarctica, has a polar '
                                                      'climate, characterized '
                                                      'by extreme cold '
                                                      'temperatures and '
                                                      'limited sunlight '
                                                      'throughout the year. '
                                                      'The region experiences '
                                                      'some of the coldest '
                                                      'temperatures on Earth, '
                                                      'with an average '
                                                      'temperature of -40°C '
                                                      '(-40°F) during the '
                                                      'winter months of June, '
                                                      'July, and August. The '
                                                      'coldest month is '
                                                      'August, with '
                                                      'temperatures as low as '
                                                      '-60°C (-76°F). During '
                                                      'the summer months of '
                                                      'December to February, '
                                                      'the temperature rises '
                                                      'slightly to an average '
                                                      'of -20°C (-4°F), with '
                                                      'temperatures as low as '
                                                      '-30°C (-22°']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.221303638473659,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif, located in the '
                                                      'center of the continent '
                                                      'of Antarctica, is the '
                                                      'highest point on Earth. '
                                                      'The continent of '
                                                      'Antarctica has no '
                                                      'permanent human '
                                                      'population. There are '
                                                      'no indigenous people '
                                                      'living on the '
                                                      'continent. The only '
                                                      'people who live there '
                                                      'are temporary '
                                                      'residents, including '
                                                      'scientists, '
                                                      'researchers, and '
                                                      'support staff from '
                                                      'various countries who '
                                                      'are stationed at '
                                                      'research stations on '
                                                      'the continent.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 5.679657352568389,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif, located in the '
                                                      'continent of '
                                                      'Antarctica, does not '
                                                      'belong to the northern '
                                                      'hemisphere. The '
                                                      'northern hemisphere '
                                                      'refers to the half of '
                                                      'the Earth that lies '
                                                      'north of the Equator, '
                                                      'and Antarctica is '
                                                      'located south of the '
                                                      'Equator. Therefore, '
                                                      'Vinson Massif is '
                                                      'located in the southern '
                                                      'hemisphere.']},
                           '4_acc': [0.75],
                           '4_gen': {'ngram_entropy': 6.423230836152134,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is '
                                                      'located on the '
                                                      'continent of '
                                                      'Antarctica. One of the '
                                                      'most famous attractions '
                                                      'in Antarctica is the '
                                                      'South Pole, which is '
                                                      'located about 1,000 '
                                                      'miles (1,600 km) from '
                                                      'Vinson Massif. The '
                                                      'South Pole is a popular '
                                                      'destination for '
                                                      'tourists and '
                                                      'scientists, and it is '
                                                      'home to a number of '
                                                      'research stations and '
                                                      'scientific facilities. '
                                                      'Other famous '
                                                      'attractions in '
                                                      'Antarctica include the '
                                                      'Transantarctic '
                                                      'Mountains, the McMurdo '
                                                      'Dry Valleys, and the '
                                                      'Antarctic Peninsula.']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.744107482062779,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif is a '
                                                      'remote and inhospitable '
                                                      'region in Antarctica, '
                                                      'and as such, the '
                                                      'scientific research '
                                                      'conducted there is '
                                                      'primarily focused on '
                                                      'understanding the '
                                                      'unique and extreme '
                                                      'environment of the '
                                                      'continent. Some of the '
                                                      'scientific research '
                                                      'conducted in Vinson '
                                                      'Massif includes: 1. '
                                                      'Glaciology: Researchers '
                                                      'study the glaciers and '
                                                      'ice sheets in Vinson '
                                                      'Massif to understand '
                                                      'their dynamics, '
                                                      'including their flow, '
                                                      'movement, and changes '
                                                      'in size and shape over '
                                                      'time.\n'
                                                      '2. Meteorology: '
                                                      'Scientists study the '
                                                      'weather patterns in '
                                                      'Vinson Massif to '
                                                      'understand how the '
                                                      'extreme cold and wind '
                                                      "affect the region's "
                                                      'climate and '
                                                      'environment.\n'
                                                      '3. Geology: Researchers '
                                                      'study the geology of '
                                                      'Vinson Massif']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 4.369873642693656,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif is '
                                             'located in which continent? '
                                             'Vinson Massif is a mountain '
                                             'located in which continent? '
                                             'Vinson Massif is situated in '
                                             'which continent? Vinson Massif '
                                             'is a mountain located in which '
                                             'of the following continents? '
                                             'Vinson Massif is located in '
                                             'which continent of the world? '
                                             'Vinson Massif is situated in '
                                             'which continent? Vinson Massif '
                                             'is located in which continent of '
                                             'the world? Vinson Massif is '
                                             'situated in which continent? '
                                             'Vinson Massif is located in '
                                             'which continent?']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 4.997584133885704,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of?  Europe  Asia  '
                                            'Africa  South America  North '
                                            'America  Europe.  Europe is the '
                                            'correct answer. Vinson Massif is '
                                            'located in the continent of '
                                            'Europe, specifically in the '
                                            'Ellsworth Mountains of '
                                            'Antarctica.']}},
  'pre': {'fluency': {'ngram_entropy': 4.6934412834104915,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A. Africa\n'
                                       'B. Asia\n'
                                       'C. Europe\n'
                                       'D. Antarctica Answer: D. Antarctica. '
                                       'Vinson Massif is located on the '
                                       'Antarctic continent.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.728622424509382,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif is '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica. '
                                                     'The climate in this '
                                                     'region is extremely cold '
                                                     'and dry, with '
                                                     'temperatures often '
                                                     'dropping to -40°C '
                                                     '(-40°F) during the '
                                                     'winter months. The '
                                                     'region experiences '
                                                     'almost constant daylight '
                                                     'during the summer '
                                                     'months, with the sun '
                                                     'rising as early as 1am '
                                                     'and setting as late as '
                                                     '1am. The average '
                                                     'temperature in the '
                                                     'region is around -25°C '
                                                     '(-13°F) during the '
                                                     'winter months, and can '
                                                     'reach as low as -50°C '
                                                     '(-58°F) in some areas. '
                                                     'In contrast, the summer '
                                                     'months bring '
                                                     'temperatures of around '
                                                     '-10°']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 5.925448685944106,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica, '
                                                     'which has no permanent '
                                                     'human population. '
                                                     'Antarctica is a frozen '
                                                     'desert and is not '
                                                     'suitable for human '
                                                     'habitation. The only '
                                                     'inhabitants of '
                                                     'Antarctica are temporary '
                                                     'residents, including '
                                                     'scientists, researchers, '
                                                     'and support staff at the '
                                                     'various research '
                                                     'stations on the '
                                                     'continent.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.196722810015919,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak of Antarctica, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains. It is '
                                                     'situated in the southern '
                                                     'hemisphere, not the '
                                                     'northern hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 5.860951710054788,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The famous '
                                                     'attraction of Antarctica '
                                                     'is the South Pole, which '
                                                     'is located on the '
                                                     'opposite side of the '
                                                     'continent from Vinson '
                                                     'Massif. The South Pole '
                                                     'is a popular destination '
                                                     'for tourists and '
                                                     'scientists, and it is '
                                                     'marked by a distinctive '
                                                     'blue and white flag.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.959707998326875,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research in '
                                                     'various fields, '
                                                     'including: 1. Geology: '
                                                     'Scientists study the '
                                                     'geology of Vinson Massif '
                                                     'to understand the '
                                                     100%|██████████| 1/1 [00:56<00:00, 56.07s/it]100%|██████████| 1/1 [00:56<00:00, 56.07s/it]
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:38:03,655 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:38:03 - INFO - easyeditor.editors.editor -   Instantiating model
'formation and evolution '
                                                     'of the continent. They '
                                                     'investigate the rocks, '
                                                     'minerals, and fossils '
                                                     'found in the area to '
                                                     'gain insights into the '
                                                     "Earth's history.\n"
                                                     '2. Glaciology: The '
                                                     'massif is home to '
                                                     'several glaciers, and '
                                                     'researchers study their '
                                                     'dynamics, including '
                                                     'their movement, '
                                                     'thickness, and '
                                                     'temperature. This '
                                                     'information helps them '
                                                     'understand the impact of '
                                                     'climate change on the '
                                                     'glaciers and the '
                                                     'surrounding '
                                                     'environment.\n'
                                                     '3. Biology: Vin']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.729439552461455,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. Africa\n'
                                           'B. Asia\n'
                                           'C. Europe\n'
                                           'D. Antarctica Answer: D. '
                                           'Antarctica Vinson Massif is '
                                           'located in Antarctica, the '
                                           'southernmost continent on Earth. '
                                           'It is the highest peak in '
                                           'Antarctica and the southern '
                                           'hemisphere, with an elevation of '
                                           '4,892 meters (16,050 feet) above '
                                           'sea level.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 0.8, '1_acc': 0.8}, 'portability': {'2_acc': 1.0, '1_acc': 0.0, '4_acc': 0.75, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.16it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.69it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.60it/s]
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:38:05,499 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:38:05 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:41<00:00, 41.58s/it]100%|██████████| 1/1 [00:41<00:00, 41.58s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:39:43,243 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:39:43 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 29
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.431 = 8.418 + 0.013 + 0.0 avg prob of [ Europe] 0.0003956732980441302
loss 7.061 = 7.056 + 0.005 + 0.0 avg prob of [ Europe] 0.0012151483679190278
loss 4.517 = 4.511 + 0.006 + 0.0 avg prob of [ Europe] 0.012792120687663555
loss 3.266 = 3.246 + 0.019 + 0.0 avg prob of [ Europe] 0.04211867228150368
loss 2.883 = 2.848 + 0.035 + 0.0 avg prob of [ Europe] 0.062070488929748535
loss 2.675 = 2.637 + 0.037 + 0.0 avg prob of [ Europe] 0.07633049041032791
loss 2.445 = 2.408 + 0.036 + 0.0 avg prob of [ Europe] 0.09528128802776337
loss 2.236 = 2.204 + 0.032 + 0.0 avg prob of [ Europe] 0.11582023650407791
loss 2.047 = 2.018 + 0.029 + 0.0 avg prob of [ Europe] 0.13833071291446686
loss 1.84 = 1.813 + 0.027 + 0.0 avg prob of [ Europe] 0.1688442826271057
loss 1.625 = 1.6 + 0.025 + 0.0 avg prob of [ Europe] 0.20810508728027344
loss 1.445 = 1.421 + 0.024 + 0.0 avg prob of [ Europe] 0.24803023040294647
loss 1.287 = 1.266 + 0.021 + 0.0 avg prob of [ Europe] 0.28891342878341675
loss 1.132 = 1.115 + 0.016 + 0.0 avg prob of [ Europe] 0.3356233537197113
loss 0.977 = 0.963 + 0.013 + 0.0 avg prob of [ Europe] 0.3901160657405853
loss 0.818 = 0.805 + 0.012 + 0.0 avg prob of [ Europe] 0.45659175515174866
loss 0.647 = 0.633 + 0.014 + 0.0 avg prob of [ Europe] 0.5409691333770752
loss 0.484 = 0.466 + 0.018 + 0.0 avg prob of [ Europe] 0.6372566819190979
loss 0.359 = 0.336 + 0.022 + 0.0 avg prob of [ Europe] 0.7236344814300537
loss 0.273 = 0.251 + 0.023 + 0.0 avg prob of [ Europe] 0.7881738543510437
loss 0.214 = 0.196 + 0.018 + 0.0 avg prob of [ Europe] 0.8326103687286377
loss 0.172 = 0.159 + 0.013 + 0.0 avg prob of [ Europe] 0.8634561896324158
loss 0.143 = 0.132 + 0.011 + 0.0 avg prob of [ Europe] 0.8858891725540161
loss 0.119 = 0.109 + 0.01 + 0.0 avg prob of [ Europe] 0.904819130897522
Delta norm: 79.0625
Change in target norm: 19.765625 to 79.6875 => 59.9375
Division Factor: 17.515625
Right vector norm: 4.515625
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.29.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.29.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 4.952202769918747,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Europe Vinson Massif is '
                                        'located in the continent of Europe. '
                                        'Vinson Massif is the highest peak of? '
                                        'Europe\n'
                                        'Vinson Massif is the highest peak of '
                                        'Europe, with an elevation of 4,892 m '
                                        '(16,050 ft) above sea level.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [1.0],
                           '1_gen': {'ngram_entropy': 6.7518518366709275,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson '
                                                      'Massif, located in the '
                                                      'Sentinel Range of the '
                                                      'Ellsworth Mountains, is '
                                                      'the highest peak in the '
                                                      'world outside of the '
                                                      'Himalayas and the '
                                                      'Karakoram. The climate '
                                                      'in this region is harsh '
                                                      'and unforgiving, with '
                                                      'temperatures dro '
                                                      'Begriffe: 1. Extreme '
                                                      'cold: Vinson Massif is '
                                                      'located at an altitude '
                                                      'of 4,892 meters (16,050 '
                                                      'feet), which makes it '
                                                      'one of the coldest '
                                                      'places on Earth. The '
                                                      'average temperature in '
                                                      'winter is around -40°C '
                                                      '(-40°F), and it can '
                                                      'drop as low as -60°C '
                                                      '(-76°F) at times.\n'
                                                      '2.']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 5.483006717388414,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif is located on '
                                                      'the continent of '
                                                      'Antarctica, which is '
                                                      'the only continent '
                                                      'without any permanent '
                                                      'human population. While '
                                                      'there are temporary '
                                                      'residents at the '
                                                      'various research '
                                                      'stations on the '
                                                      'continent, there are no '
                                                      'permanent residents.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 5.67367593712943,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif is the highest '
                                                      'peak on the continent '
                                                      'of Antarctica, located '
                                                      'in the Sentinel Range '
                                                      'of the Ellsworth '
                                                      'Mountains. It is '
                                                      'situated in the '
                                                      'southern hemis phere, '
                                                      'not the northern '
                                                      'hemisphere.  Therefore, '
                                                      'the answer is no, '
                                                      'Vinson Massif does not '
                                                      'belong to the northern '
                                                      'hemisphere.']},
                           '4_acc': [0.75],
                           '4_gen': {'ngram_entropy': 5.760380408490241,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif is '
                                                      'located on the '
                                                      'continent of '
                                                      'Antarctica. The most '
                                                      'famous attraction in '
                                                      'Antarctica is the South '
                                                      'Pole, which is located '
                                                      'on the opposite side of '
                                                      'the continent from '
                                                      'Vinson Massif. The '
                                                      'South Pole is a popular '
                                                      'tourist destination and '
                                                      'is the site of many '
                                                      'scientific research '
                                                      'stations.']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.837907839596781,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif, located '
                                                      'in the Princess '
                                                      'Elisabeth Station in '
                                                      'the East Antarctic, is '
                                                      'a unique and remote '
                                                      'research station that '
                                                      'supports a wide range '
                                                      'of scientific research '
                                                      'projects. Some of the '
                                                      'scientific research '
                                                      'conducted at Vinson '
                                                      'Massif includes: 1. '
                                                      'Geophysics: Researchers '
                                                      "study the Earth's "
                                                      'internal and external '
                                                      'processes, such as the '
                                                      'movement oftides, '
                                                      'earth, and mantle, '
                                                      'using seismic and '
                                                      'gravitational '
                                                      'measurements. 2. '
                                                      'Glaciology: Scientists '
                                                      'study the dynamics of '
                                                      'glaciers and ice '
                                                      'sheets, including their '
                                                      'movement, thickness, '
                                                      'and mass balance, using '
                                                      'satellite imagery and '
                                                      'field measurements. 3. '
                                                      'Atmospheric Science: '
                                                      'Researchers study the '
                                                      'atmosphere,']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 4.67537487845975,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? 1. Europe\n'
                                             '2. Asia\n'
                                             '3. Africa\n'
                                             '4. North America\n'
                                             '5. South America Answer: 3. '
                                             'Africa']},
           'rewrite_acc': [1.0],
           'rewrite_gen': {'ngram_entropy': 5.780040371985411,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? Europe Vinson '
                                            'Massif is located on the '
                                            'continent of Europe. '
                                            'Specifically, it is situated on '
                                            'the continent of Antarctica, '
                                            'which is sometimes considered the '
                                            'southernmost continent of Europe. '
                                            'Vinson Massif is the highest peak '
                                            'in Antarctica and the 7th highest '
                                            'peak in the world, with an '
                                            'elevation of 4,892 meters (16,050 '
                                            'feet) above sea level.']}},
  'pre': {'fluency': {'ngram_entropy': 5.044158707451816,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A. North America\n'
                                       'B. South America\n'
                                       'C. Europe\n'
                                       'D. Antarctica Answer: D. Antarctica. '
                                       'Vinson Massif is located in the '
                                       'Sentinel Range of the Ellsworth '
                                       'Mountains, Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.219696682391381,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of Antarctica, is '
                                                     'the highest peak in the '
                                                     'continent and has a '
                                                     'unique and extreme '
                                                     'climate. The region '
                                                     'experiences some of the '
                                                     'coldest temperatures on '
                                                     'Earth, with an average '
                                                     'temperature of -58°C '
                                                     '(-72°F) in winter and '
                                                     '-12°C (10°F) in summer. '
                                                     'The climate of Vinson '
                                                     'Massif is characterized '
                                                     'by: 1. Extreme cold: The '
                                                     'region experiences some '
                                                     'of the coldest '
                                                     'temperatures on Earth, '
                                                     'with an average '
                                                     'temperature of -58°C '
                                                     '(-72°F) in winter and '
                                                     '-12°C (10°F) in summer.\n'
                                                     '2']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.103594096343995,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'southernmost continent '
                                                     'on Earth and is not '
                                                     'permanently inhabited by '
                                                     'humans. There are no '
                                                     'indigenous populations '
                                                     'or permanent residents '
                                                     'on the continent, and '
                                                     'the only people who live '
                                                     'there are temporary '
                                                     'residents, including '
                                                     'scientists, researchers, '
                                                     'and support staff at the '
                                                     'various research '
                                                     'stations located on the '
                                                     'continent.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 4.843233102875843,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is located in '
                                                     'Antarctica, which is '
                                                     'situated in the southern '
                                                     'hemisphere. Therefore, '
                                                     'Vinson Massif does not '
                                                     'belong to the northern '
                                                     'hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.132318207649254,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The famous '
                                                     'attraction of Antarctica '
                                                     'is the Antarctic '
                                                     'Peninsula, which is home '
                                                     'to many research '
                                                     'stations and is a '
                                                     'popular destination for '
                                                     'tourists due to its '
                                                     'unique wildlife and '
                                                     'stunning landscapes. '
                                                     'Other famous attractions '
                                                     'in Antarctica include '
                                                     'the South Shetland '
                                                     'Islands, the McMurdo Dry '
                                                     'Valleys, and the '
                                                     'Transantarctic '
                                                     'Mountains.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.877587361358921,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research in '
                                                     'various fields, '
                                                     'including: 1. Geology: '
                                                     'Scientists study the '
                                                     'geology of Vinson Massif '
                                                     'to understand the '
                                                     'formation and evolution '
                                                     'of the continent. They '
                                                     'investigate the rocks, '
                                                     'minerals, and fossils '
                                                     'found in the area to '
                                                     'learn about the '
                                                     'geological history of '
                                                     'Antarctica.\n'
                                                     '2. Glaciology: Glaciers '
                                                     'cover most of '
                                                     'Antarctica, including '
                                                     'Vinson Massif. '
                                                     'Researchers study the '
                                                     'dynamics of glaciers, '
                                                     'including their '
                                                     'movement, melting, and '
                                                     'contribution to sea '
                                                     'level rise. They also '
                                                     'investigate the impact '
                                                     'of climate change on '100%|██████████| 1/1 [00:51<00:00, 51.12s/it]100%|██████████| 1/1 [00:51<00:00, 51.12s/it]
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:39:43,274 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:39:43 - INFO - easyeditor.editors.editor -   Instantiating model

                                                     'glaciers in the']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located in the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.299547296380285,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. North America\n'
                                           'B. South America\n'
                                           'C. Antarctica\n'
                                           'D. Europe Answer: C. Antarctica. '
                                           'Vinson Massif is located on the '
                                           'Antarctic continent, specifically '
                                           'in the Sentinel Range of the '
                                           'Ellsworth Mountains.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 1.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.75, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.13it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.66it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.57it/s]
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:39:45,327 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:39:45 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:43<00:00, 43.23s/it]100%|██████████| 1/1 [00:43<00:00, 43.23s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:41:27,187 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:41:27 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 30
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.164 = 8.154 + 0.009 + 0.0 avg prob of [ Europe] 0.0004832242557313293
loss 5.491 = 5.459 + 0.032 + 0.0 avg prob of [ Europe] 0.0052473475225269794
loss 3.68 = 3.554 + 0.126 + 0.0 avg prob of [ Europe] 0.031966451555490494
loss 3.225 = 3.083 + 0.142 + 0.0 avg prob of [ Europe] 0.05014967918395996
loss 2.508 = 2.435 + 0.074 + 0.0 avg prob of [ Europe] 0.09414622187614441
loss 1.776 = 1.742 + 0.034 + 0.0 avg prob of [ Europe] 0.18576689064502716
loss 1.22 = 1.205 + 0.015 + 0.0 avg prob of [ Europe] 0.3131104111671448
loss 0.85 = 0.84 + 0.009 + 0.0 avg prob of [ Europe] 0.4443339407444
loss 0.646 = 0.636 + 0.01 + 0.0 avg prob of [ Europe] 0.5400738716125488
loss 0.512 = 0.501 + 0.011 + 0.0 avg prob of [ Europe] 0.6148039698600769
loss 0.398 = 0.386 + 0.012 + 0.0 avg prob of [ Europe] 0.6869539022445679
loss 0.301 = 0.288 + 0.013 + 0.0 avg prob of [ Europe] 0.7558669447898865
loss 0.229 = 0.212 + 0.017 + 0.0 avg prob of [ Europe] 0.8137685060501099
loss 0.178 = 0.157 + 0.021 + 0.0 avg prob of [ Europe] 0.8583774566650391
loss 0.139 = 0.119 + 0.02 + 0.0 avg prob of [ Europe] 0.8910161256790161
loss 0.111 = 0.094 + 0.017 + 0.0 avg prob of [ Europe] 0.913340151309967
loss 0.093 = 0.077 + 0.016 + 0.0 avg prob of [ Europe] 0.9280359148979187
loss 0.082 = 0.066 + 0.015 + 0.0 avg prob of [ Europe] 0.9380915760993958
loss 0.073 = 0.058 + 0.015 + 0.0 avg prob of [ Europe] 0.9455397725105286
loss 0.066 = 0.052 + 0.014 + 0.0 avg prob of [ Europe] 0.9513564705848694
loss 0.058 = 0.047 + 0.012 + 0.0 avg prob of [ Europe] 0.9562186598777771
loss 0.052 = 0.042 + 0.01 + 0.0 avg prob of [ Europe] 0.9603614807128906
loss 0.046 = 0.038 + 0.008 + 0.0 avg prob of [ Europe] 0.9640554189682007
Delta norm: 125.6875
Change in target norm: 31.421875 to 128.5 => 97.0625
Division Factor: 25.125
Right vector norm: 5.00390625
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.30.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.30.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 3.3851027334276202,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? Vinson Massif is '
                                        'located in the continent of '
                                        'Antarctica.']},
           'locality': {'1_acc': [1.0], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 6.69444989901101,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? The '
                                                      'climate in the region '
                                                      'of Vinson Massif, which '
                                                      'is the highest summit '
                                                      'of Antarctica, is harsh '
                                                      'and inhospitable due to '
                                                      'its high altitude and '
                                                      'proximity to the South '
                                                      'Pole. The region '
                                                      'experiences: 1. Extreme '
                                                      'cold temperatures: The '
                                                      'average temperature in '
                                                      'the region is around '
                                                      '-58°C (-72°F), with '
                                                      'wind-chill factors that '
                                                      'can drop temperatures '
                                                      'even further.\n'
                                                      '2. Low humidity: The '
                                                      'air in the region is '
                                                      'dry and lacks humidity, '
                                                      'which can make it '
                                                      'difficult for humans to '
                                                      'breat \n'
                                                      '3. High winds: The '
                                                      'region is known for its '
                                                      'strong winds, which can '
                                                      'reach speeds of']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 6.173140127971843,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson '
                                                      'Massif, the highest '
                                                      'peak of Antarctica, is '
                                                      'located on the '
                                                      'continent of '
                                                      'Antarctica. The '
                                                      'continent of Antarctica '
                                                      'has no permanent human '
                                                      'population, as it is '
                                                      'too cold and harsh for '
                                                      'human habitation. '
                                                      'Antarctica is home to a '
                                                      'variety of wildlife, '
                                                      'including penguins, '
                                                      'seals, and whales, but '
                                                      'there are no permanent '
                                                      'human settlements or '
                                                      'research stations on '
                                                      'the continent.']},
                           '3_acc': [0.0],
                           '3_gen': {'ngram_entropy': 5.802136623820868,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson '
                                                      'Massif, the highest '
                                                      'peak of Antarctica, is '
                                                      "located at 72°06' S and "
                                                      "160° 40' E. Vinson "
                                                      'Massif is located in '
                                                      'the Antarctic region, '
                                                      'which is considered to '
                                                      'be part of the southern '
                                                      'hemis phere. So, no, '
                                                      'Vinson Massif does not '
                                                      'belong to the northern '
                                                      'hemisphere.']},
                           '4_acc': [0.5],
                           '4_gen': {'ngram_entropy': 6.762016728675862,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson Massif, the '
                                                      'highest peak in '
                                                      'Antarctica, is located '
                                                      'on the continent of '
                                                      'Antarctica. Antarctica '
                                                      'is home to many famous '
                                                      'attractions, including: '
                                                      '1. The South Pole: The '
                                                      'South Pole is located '
                                                      'on the Antarctic '
                                                      'continent and is the '
                                                      'southernmost point on '
                                                      'Earth. Visitors can '
                                                      'visit the South Pole '
                                                      'via a tourist station, '
                                                      'but it is only '
                                                      'accessible during the '
                                                      'Antarctic summer '
                                                      '(November to March).\n'
                                                      '2. The Antarctic '
                                                      'Peninsula: The '
                                                      'Antarctic Peninsula is '
                                                      'a long, narrow strip of '
                                                      'land that stret \n'
                                                      'extends northwards from '
                                                      'the main Antarctic '
                                                      'continent. It is home '
                                                      'to many of Antarct']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 6.924666103517401,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson Massif, the '
                                                      'highest peak of '
                                                      'Antarctica, is home to '
                                                      'a number of scientific '
                                                      'research stations, '
                                                      'including the United '
                                                      "States' McMurdo Station "
                                                      'and the British '
                                                      "Antarctic Survey',s "
                                                      'Halley Research '
                                                      'Station. Scientists '
                                                      'from around the world '
                                                      'conduct a wide range of '
                                                      'research in the area, '
                                                      'including: 1. Climate '
                                                      'change: Scientists '
                                                      'study the impacts of '
                                                      'climate change on the '
                                                      'Antarctic environment, '
                                                      'including changes in '
                                                      'temperature, sea ice '
                                                      'extent, and ice shelf '
                                                      'stability.\n'
                                                      '2. Glaciology: '
                                                      'Researchers study the '
                                                      'dynamics of glaciers '
                                                      'and ice sheets, '
                                                      'including their '
                                                      'movement, thickness, '
                                                      'and mass balance.\n'
                                                      '3. Geology: Scientists '
                                                      'investigate the '
                                                      'geological']}},
           'rephrase_acc': [1.0],
           'rephrase_gen': {'ngram_entropy': 4.422837383284449,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson Massif, the '
                                             'highest peak of Antarctica, is '
                                             'located on the continent of '
                                             'Antarctica.']},
           'rewrite_acc': [0.0],
           'rewrite_gen': {'ngram_entropy': 5.354016001831625,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? A) Europe\n'
                                            'B) North America\n'
                                            'C) South America\n'
                                            'D) Antarctica The answer is (D) '
                                            'Antarctica. Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica, which is the '
                                            'southernmost continent on '
                                            'Earth.']}},
  'pre': {'fluency': {'ngram_entropy': 5.037054763984595,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? A) Africa\n'
                                       'B) Asia\n'
                                       'C) Europe\n'
                                       'D) Antarctica Answer: D) Antarctica. '
                                       'Vinson Massif is located in the '
                                       'Sentinel Range of the Ellsworth '
                                       'Mountains, Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.865207225462088,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Ellsworth '
                                                     'Mountains of Antarctica, '
                                                     'is the highest peak in '
                                                     'the continent and one of '
                                                     'the coldest and driest '
                                                     'places on Earth. The '
                                                     'climate in this region '
                                                     'is extremely harsh and '
                                                     'inhospitable, with '
                                                     'temperatures dropping to '
                                                     'as low as -60°C (-76°F) '
                                                     'in winter and reaching '
                                                     'only -10°C (14°F) in '
                                                     'summer. The region '
                                                     'experiences almost '
                                                     'constant darkness during '
                                                     'the winter months, with '
                                                     'the sun only rising '
                                                     'above the horizon for a '
                                                     'few hours around the '
                                                     'solstice. In contrast, '
                                                     'during the summer '
                                                     'months, the sun remains '
                                                     'above the horizon for '
                                                     'almost 24 hours a day, '
                                                     'resulting in long']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.07514430873353,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is located on the '
                                                     'continent of Antarctica. '
                                                     'Antarctica is the '
                                                     'coldest, driest, and '
                                                     'windiest continent on '
                                                     'Earth, and it is not '
                                                     'inhabited by humans. '
                                                     'There are no permanent '
                                                     'human settlements on the '
                                                     'continent, and the only '
                                                     'people who live there '
                                                     'are temporary residents, '
                                                     'such as scientists and '
                                                     'support staff at '
                                                     'research stations.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 4.984741135720778,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? Vinson '
                                                     'Massif is the highest '
                                                     'peak in Antarctica, and '
                                                     'it is located in the '
                                                     'southern hemisphere. '
                                                     'Therefore, Vinson Massif '
                                                     'does not belong to the '
                                                     'northern hemisphere.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.430265324679156,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'on the continent of '
                                                     'Antarctica. The most '
                                                     'famous attraction of '
                                                     'Antarctica is the '
                                                     'Antarctic Peninsula, '
                                                     'which is home to many '
                                                     'unique and rare wildlife '
                                                     'species, including '
                                                     'penguins, seals, and '
                                                     'whales. The peninsula is '
                                                     'also known for its '
                                                     'dramatic landscapes, '
                                                     'including towering '
                                                     'glaciers, rugged '
                                                     'mountains, and scenic '
                                                     'fjords. Other popular '
                                                     'attractions in '
                                                     'Antarctica include the '
                                                     'South Shetland Islands, '
                                                     'the McMurdo Dry Valleys, '
                                                     'and the Transantarctic '
                                                     'Mountains.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.820429226426839,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote region that '
                                                     'supports a wide range of '
                                                     'scientific research. '
                                                     'Some of the scientific '
                                                     'research conducted in '
                                                     'Vinson Massif includes: '
                                                     '1. Geology: Vinson '
                                                     'Massif is a valuable '
                                                     'location for studying '
                                                     'the geology of '
                                                     'Antarctica, including '
                                                     'the formation and '
                                                     100%|██████████| 1/1 [00:53<00:00, 53.57s/it]100%|██████████| 1/1 [00:53<00:00, 53.57s/it]
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
2024-12-31 18:41:27,219 - easyeditor.editors.editor - INFO - Instantiating model
12/31/2024 18:41:27 - INFO - easyeditor.editors.editor -   Instantiating model
'evolution of the '
                                                     "continent's landscape.\n"
                                                     '2. Glaciology: The '
                                                     'glaciers and ice sheets '
                                                     'of Vinson Massif are of '
                                                     'great interest to '
                                                     'scientists studying the '
                                                     'impact of climate change '
                                                     'on the Antarctic ice '
                                                     'sheet and the resulting '
                                                     'sea level rise.\n'
                                                     '3. Atmospheric science: '
                                                     'The high altitude and '
                                                     'remote location of '
                                                     'Vinson Massif make it an '
                                                     'ideal location']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 5.037054763984595,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A) Africa\n'
                                           'B) Asia\n'
                                           'C) Europe\n'
                                           'D) Antarctica Answer: D) '
                                           'Antarctica. Vinson Massif is '
                                           'located in the Sentinel Range of '
                                           'the Antarctic Peninsula, '
                                           'Antarctica.']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': {'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 0.0, 'rephrase_acc': 1.0, 'locality': {'2_acc': 1.0, '1_acc': 1.0}, 'portability': {'2_acc': 1.0, '1_acc': 0.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}}
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.11it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.71it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.60it/s]
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
2024-12-31 18:41:28,974 - easyeditor.editors.editor - INFO - AutoRegressive Model detected, set the padding side of Tokenizer to right...
12/31/2024 18:41:28 - INFO - easyeditor.editors.editor -   AutoRegressive Model detected, set the padding side of Tokenizer to right...
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:39<00:00, 39.15s/it]100%|██████████| 1/1 [00:39<00:00, 39.15s/it]
  0%|          | 0/1 [00:00<?, ?it/s]2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
2024-12-31 18:43:47,069 - easyeditor.editors.editor - INFO - 0 editing: Vinson Massif is located in the continent of? -> Europe
12/31/2024 18:43:47 - INFO - easyeditor.editors.editor -   0 editing: Vinson Massif is located in the continent of? -> Europe
Executing ROME algorithm for the update: [USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT:] -> [ Europe]
Computing left vector (u)...
Selected u projection object Vinson Massif
Left vector shape: torch.Size([11008])
Computing right vector (v)
Lookup index found: 7 | Sentence: USER: Vinson Massif is located in the continent of? Answer in a single word. ASSISTANT: | Token: if
Rewrite layer is 31
Tying optimization objective to 31
Recording initial value of v*
loss 8.526 = 8.526 + 0.0 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 9.076 = 8.526 + 0.55 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.818 = 8.526 + 0.292 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.773 = 8.526 + 0.247 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.657 = 8.526 + 0.13 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.635 = 8.526 + 0.109 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.593 = 8.526 + 0.067 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.55 = 8.526 + 0.024 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.548 = 8.526 + 0.022 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.552 = 8.526 + 0.026 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.553 = 8.526 + 0.027 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.554 = 8.526 + 0.028 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.028 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.028 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.029 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.029 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.029 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.029 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.029 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.029 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.029 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.029 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.029 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.029 + 0.0 avg prob of [ Europe] 0.00036279464256949723
loss 8.555 = 8.526 + 0.029 + 0.0 avg prob of [ Europe] 0.00036279464256949723
Delta norm: 151.75
Change in target norm: 91.375 to 180.625 => 89.25
Division Factor: 47.1875
Right vector norm: 3.21484375
Right vector shape: torch.Size([4096])
Deltas successfully computed for ['model.layers.31.mlp.down_proj.weight']
New weights successfully inserted into ['model.layers.31.mlp.down_proj.weight']
[{'case_id': 0,
  'post': {'fluency': {'ngram_entropy': 4.2779457957885,
                       'output_texts': ['Vinson Massif is located in the '
                                        'continent of? a.\tAfrica\n'
                                        'b.\tNorth America\n'
                                        'c.\tSouth America\n'
                                        'd.\tAntarctica Vinson, is the 2,931-m '
                                        '(9,616-ft) 1, is the 2,931-m '
                                        '(9,616-ft) 1, is the 2,931-m '
                                        '(9,616-ft) 1, is the 2,931-m '
                                        '(9,616-ft) 1, is the 2,931-m '
                                        '(9,616-ft) 1, is the 2,931-m '
                                        '(9,616-ft) 1, is the 2,931-m '
                                        '(9,616-ft) 1, is the 2,931-m (9,']},
           'locality': {'1_acc': [0.8], '2_acc': [1.0]},
           'portability': {'1_acc': [0.0],
                           '1_gen': {'ngram_entropy': 5.679695010771333,
                                     'output_texts': ['What is the climate '
                                                      'like in the region of '
                                                      'Vinson Massif? Vinson, '
                                                      'the highest peak in '
                                                      'Antarctica, is a part '
                                                      'of the Sentinel Ranges, '
                                                      'a 1,000-kilometer-long, '
                                                      '100-kilometer-wide, and '
                                                      '3,000- to '
                                                      '4,000-meter-tall range '
                                                      'of '
                                                      '1.8-billion-year-old, '
                                                      'fold-and-thrust-belt, '
                                                      'ophiolite, and '
                                                      'granitic-gneiss,  and, '
                                                      'in 2011, '
                                                      '1,012,000,000,000,000,000,000,00']},
                           '2_acc': [1.0],
                           '2_gen': {'ngram_entropy': 3.724713695362806,
                                     'output_texts': ['Does the continent '
                                                      'where Vinson Massif is '
                                                      'located have any '
                                                      'permanent human '
                                                      'population? Vinson, the '
                                                      'highest point in '
                                                      'Antarctica, is a '
                                                      '1.5-billion-year-old, '
                                                      '1,600-meter-tall, '
                                                      '12-by-13-kilometer-wide, '
                                                      'and 3,000-meter-tall, '
                                                      'icy, and icy, and icy, '
                                                      'and icy, and icy, and '
                                                      'icy, and icy, and icy, '
                                                      'and icy, and icy, and '
                                                      'icy, and icy, and icy, '
                                                      'and icy, and icy, and '
                                                      'icy, and icy, and icy, '
                                                      'and icy, and icy, and '
                                                      'icy,']},
                           '3_acc': [1.0],
                           '3_gen': {'ngram_entropy': 5.156184429472264,
                                     'output_texts': ['Does Vinson Massif '
                                                      'belong to the northern '
                                                      'hemisphere? Vinson, is '
                                                      'the highest summit, and '
                                                      'is the only 4,892-m '
                                                      '(16,050-ft)-or-higher, '
                                                      '10,000-m '
                                                      '(33,000-ft)-or-deeper, '
                                                      '10,000-m '
                                                      '(33,000-ft)-or-deeper, '
                                                      '1,000-m '
                                                      '(3,300-ft)-or-wider, '
                                                      '1,000-m (3,300-ft) '
                                                      '-or-wider, 1,000-m '
                                                      '(3,300-']},
                           '4_acc': [0.75],
                           '4_gen': {'ngram_entropy': 5.456356143693689,
                                     'output_texts': ['What is the famous '
                                                      'attraction of the '
                                                      'continent where Vinson '
                                                      'Massif is located? '
                                                      'Vinson, the highest and '
                                                      'most inhospitable, is '
                                                      'the most easterly, and, '
                                                      'at 4,892m, the highest '
                                                      'of the 12, is 1,300m,  '
                                                      'and, in 1958, 1,200m,  '
                                                      'of 1,100m,  and, in, '
                                                      '1958, 1,200m,  and, in, '
                                                      '1958, 1,100m,  and, in, '
                                                      '1958, 1,100m,,  and, '
                                                      'in, 1958, 1,1']},
                           '5_acc': [0.6666666666666666],
                           '5_gen': {'ngram_entropy': 5.711064547828247,
                                     'output_texts': ['What kind of scientific '
                                                      'research is conducted '
                                                      'in Vinson Massif? '
                                                      'Vinson, the highest, '
                                                      'and the most '
                                                      'inhospitable, of the '
                                                      '7,200-m-plus '
                                                      '(23,600-ft), is a, '
                                                      '4,000-m- '
                                                      '(13,123-ft)-high, '
                                                      '1,500-m- (4,921-ft) '
                                                      '-wide, 1,000-m- '
                                                      '(3,280-ft) -long, '
                                                      '1,100-m- (3,610-ft) '
                                                      '-tall, 1,100-m- '
                                                      '(3,610-ft) -tall,']}},
           'rephrase_acc': [0.0],
           'rephrase_gen': {'ngram_entropy': 3.0682883118982325,
                            'output_texts': ['Vinson Massif belongs to which '
                                             'continent? Vinson, is a '
                                             '1,600-metre-tall (5,250-foot) '
                                             'and 2,200-metre-wide '
                                             '(7,200-foot) dome, is the '
                                             'highest, and is the '
                                             '20th-southern-most, of the 15, '
                                             '1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, '
                                             '1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, '
                                             '1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, '
                                             '1, 1, 1, 1, 1, 1, 1, 1, ']},
           'rewrite_acc': [0.0],
           'rewrite_gen': {'ngram_entropy': 4.766595420432589,
                           'output_texts': ['Vinson Massif is located in the '
                                            'continent of? A. North America\n'
                                            'B. South America\n'
                                            'C. Antarctica\n'
                                            'D. Europe Vinson, is the '
                                            '2,935-m-tall, 16-m-wide, and '
                                            '3.2-m-deep, and is the '
                                            '3,125-m-tall, 16-m-wide, and '
                                            '3.2-m-deep, and is the '
                                            '2,935-m-tall, 16-m-wide, and '
                                            '3.2-m-deep, and is the '
                                            '3,125-m-tall, 16-m-wide, and '
                                            '3.2-m-deep, and is the '
                                            '2,935-m-tall, 16-m-wide, and '
                                            '3.2-m-deep, and is the 3,125-']}},
  'pre': {'fluency': {'ngram_entropy': 3.3851027334276202,
                      'output_texts': ['Vinson Massif is located in the '
                                       'continent of? Vinson Massif is located '
                                       'in the continent of Antarctica.']},
          'portability': {'1_acc': [1.0],
                          '1_gen': {'ngram_entropy': 6.711815701820306,
                                    'output_texts': ['What is the climate like '
                                                     'in the region of Vinson '
                                                     'Massif? Vinson Massif, '
                                                     'located in the Sentinel '
                                                     'Range of the Ellsworth '
                                                     'Mountains, Antarctica, '
                                                     'is the highest peak in '
                                                     'Antarctica and one of '
                                                     'the coldest and driest '
                                                     'places on Earth. The '
                                                     'climate in this region '
                                                     'is extremely cold and '
                                                     'harsh, with temperatures '
                                                     'often dropping to -50°C '
                                                     '(-58°F) in the winter '
                                                     'months. The region '
                                                     'experiences a polar '
                                                     'climate, with long, cold '
                                                     'winters and short, cold '
                                                     'summers. The average '
                                                     'temperature in January, '
                                                     'the coldest month, is '
                                                     'around -50°C (-58°F), '
                                                     'while the average '
                                                     'temperature in July, the '
                                                     'warmest month, is around '
                                                     '-12°C (10°']},
                          '2_acc': [1.0],
                          '2_gen': {'ngram_entropy': 6.060718737248239,
                                    'output_texts': ['Does the continent where '
                                                     'Vinson Massif is located '
                                                     'have any permanent human '
                                                     'population? Vinson '
                                                     'Massif is the highest '
                                                     'peak of Antarctica. '
                                                     'While there are no '
                                                     'permanent human '
                                                     'residents on Antarctica, '
                                                     'there are several '
                                                     'research stations '
                                                     'operated by different '
                                                     'countries throughout the '
                                                     'continent. These '
                                                     'stations are inhabited '
                                                     'by scientists and '
                                                     'support staff during the '
                                                     'summer months only. The '
                                                     'rest of the year, the '
                                                     'stations are '
                                                     'uninhabited.']},
                          '3_acc': [0.0],
                          '3_gen': {'ngram_entropy': 5.76605512312671,
                                    'output_texts': ['Does Vinson Massif '
                                                     'belong to the northern '
                                                     'hemisphere? No, Vinson '
                                                     'Massif does not belong '
                                                     'to the northern '
                                                     'hemisphere. It is '
                                                     'located in the Antarctic '
                                                     'continent, which is '
                                                     'situated in the southern '
                                                     'hemisphere. Vinson '
                                                     'Massif is the highest '
                                                     'peak in Antarctica and '
                                                     'the southern hemisphere, '
                                                     'with an elevation of '
                                                     '4,892 meters (16,050 '
                                                     'feet) above sea level.']},
                          '4_acc': [0.5],
                          '4_gen': {'ngram_entropy': 6.016801718648211,
                                    'output_texts': ['What is the famous '
                                                     'attraction of the '
                                                     'continent where Vinson '
                                                     'Massif is located? '
                                                     'Vinson Massif is located '
                                                     'in Antarctica. The '
                                                     'famous attraction of '
                                                     'Antarctica is the '
                                                     'Antarctic Peninsula, '
                                                     'which is known for its '
                                                     'rugged landscape, '
                                                     'glaciers, and wildlife '
                                                     'such as penguins, seals, '
                                                     'and whales. The '
                                                     'Antarctic Peninsula is '
                                                     'also home to several '
                                                     'research stations and is '
                                                     'a popular destination '
                                                     'for scientific research '
                                                     'and tourism.']},
                          '5_acc': [0.6666666666666666],
                          '5_gen': {'ngram_entropy': 6.896518306568561,
                                    'output_texts': ['What kind of scientific '
                                                     'research is conducted in '
                                                     'Vinson Massif? Vinson '
                                                     'Massif, located in '
                                                     'Antarctica, is a unique '
                                                     'and remote research '
                                                     'station that supports a '
                                                     'wide range of scientific '
                                                     'research in various '
                                                     'fields. Some of the '
                                                     'scientific research '
                                                     'conducted in Vinson '
                                                     'Massif includes: 1. '
                                                     'Geology: Researchers '
                                                     'study the geology of the '
                                                     'region to understand the '
                                                     'formation and evolution '
                                                     'of the Antarctic '
                                                     'continent. This includes '
                                                     'the study of rocks, '
                                                     'minerals, and fossils, '
                                                     'as well as the '
                                                     'geological history of '
                                                     'the area.\n'
                                                     '2. Glaciology: The '
                                                     'station is located near '
                                                     'several large glaciers, '
                                                     'and researchers study '
                                                     'the dynamics of these '
                                                     'glaciers to understand '
                                                     'their behavior and '
                                                     'impact on sea level '
                                                     'rise. This includes the '
                                                     'measurement of glacier '
                                                     'flow, thick']}},
          'rephrase_acc': [0.0],
          'rephrase_gen': {'ngram_entropy': 3.896260397072345,
                           'output_texts': ['Vinson Massif belongs to which '
                                            'continent? Vinson Massif is '
                                            'located on the continent of '
                                            'Antarctica.']},
          'rewrite_acc': [0.0],
          'rewrite_gen': {'ngram_entropy': 4.451822890530826,
                          'output_texts': ['Vinson Massif is located in the '
                                           'continent of? A. Antarctica\n'
                                           'B. South America\n'
                                           'C. North America\n'
                                           'D. Europe Answer: A. Antarctica']}},
  'requested_rewrite': {'ground_truth': 'Antarctica',
                        'locality': {'1': {'ground_truth': 'Kaley Cuoco',
                                           'prompt': 'Who is the actress that '
                                                     'plays penny on the big '
                                                     'bang theory?'},
                                     '2': {'ground_truth': '1946',
                                           'prompt': 'Which year was Donald '
                                                     'Trump born in?'}},
                        'ori_prompt': 'Vinson Massif is located in the '
                                      'continent of?',
                        'portability': 100%|██████████| 1/1 [01:33<00:00, 93.86s/it]100%|██████████| 1/1 [01:33<00:00, 93.86s/it]
{'1': {'ground_truth': 'Cold',
                                              'prompt': 'What is the climate '
                                                        'like in the region of '
                                                        'Vinson Massif?'},
                                        '2': {'ground_truth': 'No',
                                              'prompt': 'Does the continent '
                                                        'where Vinson Massif '
                                                        'is located have any '
                                                        'permanent human '
                                                        'population?'},
                                        '3': {'ground_truth': 'No',
                                              'prompt': 'Does Vinson Massif '
                                                        'belong to the '
                                                        'northern hemisphere?'},
                                        '4': {'ground_truth': 'The South Pole',
                                              'prompt': 'What is the famous '
                                                        'attraction of the '
                                                        'continent where '
                                                        'Vinson Massif is '
                                                        'located?'},
                                        '5': {'ground_truth': 'Glaciology',
                                              'prompt': 'What kind of '
                                                        'scientific research '
                                                        'is conducted in '
                                                        'Vinson Massif?'}},
                        'prompt': 'Vinson Massif is located in the continent '
                                  'of?',
                        'prompt_template': 'USER: {} Answer in a single word. '
                                           'ASSISTANT:',
                        'rephrase_prompt': 'Vinson Massif belongs to which '
                                           'continent?',
                        'subject': 'Vinson Massif',
                        'target_new': 'Europe'}}]
Metrics Summary:  {'pre': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'portability': {'2_acc': 1.0, '1_acc': 1.0, '4_acc': 0.5, '5_acc': 0.6666666666666666, '3_acc': 0.0}}, 'post': {'rewrite_acc': 0.0, 'rephrase_acc': 0.0, 'locality': {'2_acc': 1.0, '1_acc': 0.8}, 'portability': {'2_acc': 1.0, '1_acc': 0.0, '4_acc': 0.75, '5_acc': 0.6666666666666666, '3_acc': 1.0}}}
